{"version":3,"file":"rmp-vast.esm.js","mappings":"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","sources":["webpack://rmp-vast/webpack/runtime/create fake namespace object","webpack://rmp-vast/webpack/runtime/load script","webpack://rmp-vast/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://rmp-vast/./src/css/rmp-vast.css","webpack://rmp-vast/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://rmp-vast/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://rmp-vast/./node_modules/css-loader/dist/runtime/api.js","webpack://rmp-vast/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://rmp-vast/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://rmp-vast/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://rmp-vast/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://rmp-vast/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://rmp-vast/webpack/bootstrap","webpack://rmp-vast/webpack/runtime/compat get default export","webpack://rmp-vast/webpack/runtime/define property getters","webpack://rmp-vast/webpack/runtime/ensure chunk","webpack://rmp-vast/webpack/runtime/get javascript chunk filename","webpack://rmp-vast/webpack/runtime/hasOwnProperty shorthand","webpack://rmp-vast/webpack/runtime/make namespace object","webpack://rmp-vast/webpack/runtime/publicPath","webpack://rmp-vast/webpack/runtime/jsonp chunk loading","webpack://rmp-vast/webpack/runtime/nonce","webpack://rmp-vast/./src/js/framework/fw.js","webpack://rmp-vast/./src/js/framework/environment.js","webpack://rmp-vast/./src/js/framework/logger.js","webpack://rmp-vast/./src/js/helpers/utils.js","webpack://rmp-vast/./src/js/helpers/tracking.js","webpack://rmp-vast/./src/js/creatives/icons.js","webpack://rmp-vast/./src/assets/rmp-connection/rmp-connection.js","webpack://rmp-vast/./src/js/players/simid/simid_protocol.js","webpack://rmp-vast/./src/js/players/simid/simid_player.js","webpack://rmp-vast/./src/js/players/vpaid-player.js","webpack://rmp-vast/./src/js/creatives/linear.js","webpack://rmp-vast/./src/js/creatives/non-linear.js","webpack://rmp-vast/./src/js/creatives/companion.js","webpack://rmp-vast/./src/js/players/ad-player.js","webpack://rmp-vast/./src/js/verification/omsdk.js","webpack://rmp-vast/./src/js/framework/dispatcher.js","webpack://rmp-vast/./src/js/players/content-player.js","webpack://rmp-vast/./node_modules/@dailymotion/vast-client/dist/vast-client.min.js","webpack://rmp-vast/./src/css/rmp-vast.css?ae39","webpack://rmp-vast/./src/js/index.js"],"sourcesContent":["var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"rmp-vast:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\t\tscript.type = \"module\";\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpi/P//PwMUNADxXyBuZsAPcoA4CIjfA/EuIJ4JFgUZBMU3/kNAMZIYNnz8PwIcgokzIdl0A0r3AHEbHhf9RGJ/hjGQDWJFYlcC8SQgZibgzf/YDEIHuUC8CIi58ahhJMYgEIgC4mVALIFNMzIgZBAI+AHxRiCWRfcOqQaBgBkQrwRiMSB+iE0BCwPxwBKIDwLxH0pcBAMPkKOcXIPmALEnED+lxKDJQJwKZUuQa1AVEOch8f+SE9hZQDydGCcjG/QPif0H6pUF+LIFriwCy1dvgTgChyEMaPmPBZuLVKA2RALxbjy+IGjQCiD+RcAQEFgF9fpHIN4GEwQIMACnXWgupdnzwwAAAABJRU5ErkJggg==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHdJREFUeNqUk9EKwCAIRaX9/9MgEAZ9amsPsWVXdxV8Ec+B1Ep/o40UMuuEpK/RMvAUnEZysfAIlYRkg5/6tyGSQNgKPIkLIwGSuLAn8CSKeovgOMiaMKtKPQENjB5i1Pi7xkoMzD0kBg5PmYVnqv1MGXiT3AIMACNQPFnn5xfHAAAAAElFTkSuQmCC\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@charset \\\"UTF-8\\\";\\n\\n/* shared CSS with Radiant Media Player */\\n.rmp-container {\\n  position: relative;\\n  text-align: center;\\n  outline: none;\\n  background: #000;\\n  padding: 0;\\n  border: none;\\n  display: block;\\n  font-size: 14px;\\n  max-width: none;\\n  max-height: none;\\n  overflow: hidden;\\n  line-height: 1;\\n  box-sizing: border-box;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\n.rmp-container * {\\n  box-sizing: border-box;\\n}\\n\\n.rmp-video,\\n.rmp-content {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  margin: 0;\\n  padding: 0;\\n  outline: none;\\n  display: block;\\n}\\n\\n.rmp-ad-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n  height: 100%;\\n  outline: none;\\n  display: block;\\n  text-align: initial;\\n}\\n\\n.rmp-fullscreen-on {\\n  position: fixed !important;\\n  width: 100% !important;\\n  height: 100% !important;\\n  background: #000 !important;\\n  overflow: hidden !important;\\n  z-index: 9999 !important;\\n  top: 0;\\n  left: 0;\\n}\\n\\n/* specific CSS to rmp-vast */\\n.rmp-vpaid-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n  height: 100%;\\n  outline: none;\\n  display: block;\\n  text-align: initial;\\n}\\n\\n.rmp-ad-vast-video-player {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  margin: 0;\\n  padding: 0;\\n  outline: none;\\n  display: block;\\n  cursor: pointer;\\n}\\n\\n.rmp-ad-container-icons {\\n  position: absolute;\\n  display: block;\\n  cursor: pointer;\\n}\\n\\n.rmp-ad-container-skip {\\n  position: absolute;\\n  right: 0;\\n  bottom: 44px;\\n  width: 160px;\\n  height: 40px;\\n  line-height: 38px;\\n  text-align: center;\\n  cursor: pointer;\\n  background-color: #333;\\n  border: 1px solid #333;\\n  transition-property: border-color;\\n  transition-duration: 0.4s;\\n  transition-timing-function: ease-in;\\n}\\n\\n.rmp-ad-container-skip:hover {\\n  border-color: #000;\\n}\\n\\n.rmp-ad-container-skip-waiting {\\n  width: 100%;\\n  position: absolute;\\n  padding: 0 2px;\\n  color: #cfcfcf;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.rmp-ad-container-skip-message {\\n  width: 65%;\\n  position: absolute;\\n  left: 5%;\\n  color: #FFF;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.rmp-ad-container-skip-icon {\\n  position: absolute;\\n  left: 75%;\\n  width: 20%;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  height: 100%;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  opacity: 0.7;\\n  transition-property: opacity;\\n  transition-duration: 0.4s;\\n  transition-timing-function: ease-in;\\n}\\n\\n.rmp-ad-container-skip:hover .rmp-ad-container-skip-icon {\\n  opacity: 1;\\n}\\n\\n.rmp-ad-non-linear-container {\\n  position: absolute;\\n  text-align: center;\\n  left: 50%;\\n  bottom: 0;\\n  transform: translate(-50%, 0);\\n}\\n\\n.rmp-ad-non-linear-anchor:link,\\n.rmp-ad-non-linear-anchor:visited,\\n.rmp-ad-non-linear-anchor:hover,\\n.rmp-ad-non-linear-anchor:active {\\n  text-decoration: none;\\n}\\n\\n.rmp-ad-non-linear-creative {\\n  position: relative;\\n  cursor: pointer;\\n  text-align: center;\\n  width: 100%;\\n  height: 100%;\\n  bottom: 0;\\n}\\n\\n.rmp-ad-non-linear-close { \\n  right: 0;\\n  top: 0;\\n  position: absolute;\\n  cursor: pointer;\\n  width: 20px;\\n  height: 20px;\\n  background-color: #000;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n  background-size: cover;\\n  border: 4px solid #000;\\n}\\n\\n.rmp-ad-click-ui-mobile {\\n  border: 2px solid #fff;\\n  background: rgba(0, 0, 0, 0.4);\\n  color: #fff;\\n  display: block;\\n  position: absolute;\\n  right: 8px;\\n  top: 8px;\\n  font-size: 18px;\\n  width: 112px;\\n  height: 34px;\\n  text-decoration: none;\\n  text-align: center;\\n  line-height: 30px;\\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.4);\\n}\\n\\n.rmp-ad-click-ui-mobile:visited,\\n.rmp-ad-click-ui-mobile:hover,\\n.rmp-ad-click-ui-mobile:active {\\n  color: #fff;\\n  text-decoration: none;\\n}\\n\\n.rmp-linear-simid-creative {\\n  position: absolute;\\n  top: 0;\\n  border-width: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/rmp-vast.css\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;;AAEhB,yCAAyC;AACzC;EACE,kBAAkB;EAClB,kBAAkB;EAClB,aAAa;EACb,gBAAgB;EAChB,UAAU;EACV,YAAY;EACZ,cAAc;EACd,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,cAAc;EACd,sBAAsB;EACtB,yCAAyC;AAC3C;;AAEA;EACE,sBAAsB;AACxB;;AAEA;;EAEE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,SAAS;EACT,UAAU;EACV,aAAa;EACb,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,SAAS;EACT,UAAU;EACV,WAAW;EACX,YAAY;EACZ,aAAa;EACb,cAAc;EACd,mBAAmB;AACrB;;AAEA;EACE,0BAA0B;EAC1B,sBAAsB;EACtB,uBAAuB;EACvB,2BAA2B;EAC3B,2BAA2B;EAC3B,wBAAwB;EACxB,MAAM;EACN,OAAO;AACT;;AAEA,6BAA6B;AAC7B;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,SAAS;EACT,UAAU;EACV,WAAW;EACX,YAAY;EACZ,aAAa;EACb,cAAc;EACd,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,SAAS;EACT,UAAU;EACV,aAAa;EACb,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,YAAY;EACZ,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;EAClB,eAAe;EACf,sBAAsB;EACtB,sBAAsB;EACtB,iCAAiC;EACjC,yBAAyB;EACzB,mCAAmC;AACrC;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,cAAc;EACd,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,yDAAugB;EACvgB,YAAY;EACZ,4BAA4B;EAC5B,2BAA2B;EAC3B,YAAY;EACZ,4BAA4B;EAC5B,yBAAyB;EACzB,mCAAmC;AACrC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,SAAS;EACT,SAAS;EACT,6BAA6B;AAC/B;;AAEA;;;;EAIE,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,SAAS;AACX;;AAEA;EACE,QAAQ;EACR,MAAM;EACN,kBAAkB;EAClB,eAAe;EACf,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,yDAA2U;EAC3U,sBAAsB;EACtB,sBAAsB;AACxB;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;EAC9B,WAAW;EACX,cAAc;EACd,kBAAkB;EAClB,UAAU;EACV,QAAQ;EACR,eAAe;EACf,YAAY;EACZ,YAAY;EACZ,qBAAqB;EACrB,kBAAkB;EAClB,iBAAiB;EACjB,sCAAsC;AACxC;;AAEA;;;EAGE,WAAW;EACX,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,eAAe;EACf,WAAW;EACX,YAAY;AACd\",\"sourcesContent\":[\"@charset \\\"UTF-8\\\";\\n\\n/* shared CSS with Radiant Media Player */\\n.rmp-container {\\n  position: relative;\\n  text-align: center;\\n  outline: none;\\n  background: #000;\\n  padding: 0;\\n  border: none;\\n  display: block;\\n  font-size: 14px;\\n  max-width: none;\\n  max-height: none;\\n  overflow: hidden;\\n  line-height: 1;\\n  box-sizing: border-box;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\n.rmp-container * {\\n  box-sizing: border-box;\\n}\\n\\n.rmp-video,\\n.rmp-content {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  margin: 0;\\n  padding: 0;\\n  outline: none;\\n  display: block;\\n}\\n\\n.rmp-ad-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n  height: 100%;\\n  outline: none;\\n  display: block;\\n  text-align: initial;\\n}\\n\\n.rmp-fullscreen-on {\\n  position: fixed !important;\\n  width: 100% !important;\\n  height: 100% !important;\\n  background: #000 !important;\\n  overflow: hidden !important;\\n  z-index: 9999 !important;\\n  top: 0;\\n  left: 0;\\n}\\n\\n/* specific CSS to rmp-vast */\\n.rmp-vpaid-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n  height: 100%;\\n  outline: none;\\n  display: block;\\n  text-align: initial;\\n}\\n\\n.rmp-ad-vast-video-player {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  margin: 0;\\n  padding: 0;\\n  outline: none;\\n  display: block;\\n  cursor: pointer;\\n}\\n\\n.rmp-ad-container-icons {\\n  position: absolute;\\n  display: block;\\n  cursor: pointer;\\n}\\n\\n.rmp-ad-container-skip {\\n  position: absolute;\\n  right: 0;\\n  bottom: 44px;\\n  width: 160px;\\n  height: 40px;\\n  line-height: 38px;\\n  text-align: center;\\n  cursor: pointer;\\n  background-color: #333;\\n  border: 1px solid #333;\\n  transition-property: border-color;\\n  transition-duration: 0.4s;\\n  transition-timing-function: ease-in;\\n}\\n\\n.rmp-ad-container-skip:hover {\\n  border-color: #000;\\n}\\n\\n.rmp-ad-container-skip-waiting {\\n  width: 100%;\\n  position: absolute;\\n  padding: 0 2px;\\n  color: #cfcfcf;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.rmp-ad-container-skip-message {\\n  width: 65%;\\n  position: absolute;\\n  left: 5%;\\n  color: #FFF;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.rmp-ad-container-skip-icon {\\n  position: absolute;\\n  left: 75%;\\n  width: 20%;\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpi/P//PwMUNADxXyBuZsAPcoA4CIjfA/EuIJ4JFgUZBMU3/kNAMZIYNnz8PwIcgokzIdl0A0r3AHEbHhf9RGJ/hjGQDWJFYlcC8SQgZibgzf/YDEIHuUC8CIi58ahhJMYgEIgC4mVALIFNMzIgZBAI+AHxRiCWRfcOqQaBgBkQrwRiMSB+iE0BCwPxwBKIDwLxH0pcBAMPkKOcXIPmALEnED+lxKDJQJwKZUuQa1AVEOch8f+SE9hZQDydGCcjG/QPif0H6pUF+LIFriwCy1dvgTgChyEMaPmPBZuLVKA2RALxbjy+IGjQCiD+RcAQEFgF9fpHIN4GEwQIMACnXWgupdnzwwAAAABJRU5ErkJggg==\\\");\\n  height: 100%;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  opacity: 0.7;\\n  transition-property: opacity;\\n  transition-duration: 0.4s;\\n  transition-timing-function: ease-in;\\n}\\n\\n.rmp-ad-container-skip:hover .rmp-ad-container-skip-icon {\\n  opacity: 1;\\n}\\n\\n.rmp-ad-non-linear-container {\\n  position: absolute;\\n  text-align: center;\\n  left: 50%;\\n  bottom: 0;\\n  transform: translate(-50%, 0);\\n}\\n\\n.rmp-ad-non-linear-anchor:link,\\n.rmp-ad-non-linear-anchor:visited,\\n.rmp-ad-non-linear-anchor:hover,\\n.rmp-ad-non-linear-anchor:active {\\n  text-decoration: none;\\n}\\n\\n.rmp-ad-non-linear-creative {\\n  position: relative;\\n  cursor: pointer;\\n  text-align: center;\\n  width: 100%;\\n  height: 100%;\\n  bottom: 0;\\n}\\n\\n.rmp-ad-non-linear-close { \\n  right: 0;\\n  top: 0;\\n  position: absolute;\\n  cursor: pointer;\\n  width: 20px;\\n  height: 20px;\\n  background-color: #000;\\n  background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHdJREFUeNqUk9EKwCAIRaX9/9MgEAZ9amsPsWVXdxV8Ec+B1Ep/o40UMuuEpK/RMvAUnEZysfAIlYRkg5/6tyGSQNgKPIkLIwGSuLAn8CSKeovgOMiaMKtKPQENjB5i1Pi7xkoMzD0kBg5PmYVnqv1MGXiT3AIMACNQPFnn5xfHAAAAAElFTkSuQmCC\\\");\\n  background-size: cover;\\n  border: 4px solid #000;\\n}\\n\\n.rmp-ad-click-ui-mobile {\\n  border: 2px solid #fff;\\n  background: rgba(0, 0, 0, 0.4);\\n  color: #fff;\\n  display: block;\\n  position: absolute;\\n  right: 8px;\\n  top: 8px;\\n  font-size: 18px;\\n  width: 112px;\\n  height: 34px;\\n  text-decoration: none;\\n  text-align: center;\\n  line-height: 30px;\\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.4);\\n}\\n\\n.rmp-ad-click-ui-mobile:visited,\\n.rmp-ad-click-ui-mobile:hover,\\n.rmp-ad-click-ui-mobile:active {\\n  color: #fff;\\n  text-decoration: none;\\n}\\n\\n.rmp-linear-simid-creative {\\n  position: absolute;\\n  top: 0;\\n  border-width: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t212: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkrmp_vast\"] = self[\"webpackChunkrmp_vast\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","export default class FW {\n\n  static #getStyleAttributeData(element, style) {\n    let styleAttributeData = 0;\n    if (element && typeof window.getComputedStyle === 'function') {\n      const cs = window.getComputedStyle(element, null);\n      if (cs) {\n        styleAttributeData = cs.getPropertyValue(style);\n        styleAttributeData = styleAttributeData.toString().toLowerCase();\n      }\n    }\n    styleAttributeData = styleAttributeData.toString();\n    if (styleAttributeData.indexOf('px') > -1) {\n      styleAttributeData = styleAttributeData.replace('px', '');\n    }\n    return parseFloat(styleAttributeData);\n  }\n\n  static createSyntheticEvent(eventName, element) {\n    let event;\n    if (element) {\n      try {\n        event = new Event(eventName);\n        element.dispatchEvent(event);\n      } catch (error) {\n        console.warn(error);\n      }\n    }\n  }\n\n  static setStyle(element, styleObject) {\n    if (element && typeof styleObject === 'object') {\n      const keys = Object.keys(styleObject);\n      keys.forEach(key => {\n        element.style[key] = styleObject[key];\n      });\n    }\n  }\n\n  static getWidth(element) {\n    if (element) {\n      if (FW.isNumber(element.offsetWidth) && element.offsetWidth !== 0) {\n        return element.offsetWidth;\n      } else {\n        return FW.#getStyleAttributeData(element, 'width');\n      }\n    }\n    return 0;\n  }\n\n  static getHeight(element) {\n    if (element) {\n      if (FW.isNumber(element.offsetHeight) && element.offsetHeight !== 0) {\n        return element.offsetHeight;\n      } else {\n        return FW.#getStyleAttributeData(element, 'height');\n      }\n    }\n    return 0;\n  }\n\n  static show(element) {\n    if (element) {\n      element.style.display = 'block';\n    }\n  }\n\n  static hide(element) {\n    if (element) {\n      element.style.display = 'none';\n    }\n  }\n\n  static removeElement(element) {\n    if (element && element.parentNode) {\n      try {\n        element.parentNode.removeChild(element);\n      } catch (error) {\n        console.warn(error);\n      }\n    }\n  }\n\n  static isNumber(n) {\n    if (typeof n === 'number' && Number.isFinite(n)) {\n      return true;\n    }\n    return false;\n  }\n\n  static openWindow(link) {\n    try {\n      // I would like to use named window here to have better performance like \n      // window.open(link, 'rmpVastAdPageArea'); but focus is not set on updated window with such approach\n      // in MS Edge and FF - so _blank it is\n      window.open(link, '_blank');\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  static ajax(url, timeout, withCredentials) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.timeout = timeout;\n      if (withCredentials) {\n        xhr.withCredentials = true;\n      }\n      xhr.onloadend = () => {\n        if (typeof xhr.status === 'number' && xhr.status >= 200 && xhr.status < 300) {\n          resolve('XMLHttpRequest request succeeded');\n        } else {\n          reject('XMLHttpRequest wrong status code: ' + xhr.status);\n        }\n      };\n      xhr.ontimeout = () => {\n        reject('XMLHttpRequest timeout');\n      };\n      xhr.send(null);\n    });\n  }\n\n  static addEvents(events, domElement, callback) {\n    if (events && events.length > 1 && domElement && typeof callback === 'function') {\n      events.forEach(event => {\n        domElement.addEventListener(event, callback);\n      });\n    }\n  }\n\n  static stopPreventEvent(event) {\n    if (event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  static vastReadableTime(time) {\n    if (FW.isNumber(time) && time >= 0) {\n      let seconds = 0;\n      let minutes = 0;\n      let hours = 0;\n      let ms = Math.floor(time % 1000);\n      if (ms === 0) {\n        ms = '000';\n      } else if (ms < 10) {\n        ms = '00' + ms;\n      } else if (ms < 100) {\n        ms = '0' + ms;\n      } else {\n        ms = ms.toString();\n      }\n      seconds = Math.floor(time * 1.0 / 1000);\n      if (seconds > 59) {\n        minutes = Math.floor(seconds * 1.0 / 60);\n        seconds = seconds - (minutes * 60);\n      }\n      if (seconds === 0) {\n        seconds = '00';\n      } else if (seconds < 10) {\n        seconds = '0' + seconds;\n      } else {\n        seconds = seconds.toString();\n      }\n      if (minutes > 59) {\n        hours = Math.floor(minutes * 1.0 / 60);\n        minutes = minutes - (hours * 60);\n      }\n      if (minutes === 0) {\n        minutes = '00';\n      } else if (minutes < 10) {\n        minutes = '0' + minutes;\n      } else {\n        minutes = minutes.toString();\n      }\n      if (hours === 0) {\n        hours = '00';\n      } else if (hours < 10) {\n        hours = '0' + hours;\n      } else {\n        if (hours > 23) {\n          hours = '00';\n        } else {\n          hours = hours.toString();\n        }\n      }\n      return hours + ':' + minutes + ':' + seconds + '.' + ms;\n    } else {\n      return '00:00:00.000';\n    }\n  }\n\n  static generateCacheBusting() {\n    let text = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (let i = 0; i < 8; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n  }\n\n  static makeButtonAccessible(element, ariaLabel) {\n    // make skip button accessible\n    element.tabIndex = 0;\n    element.setAttribute('role', 'button');\n    element.addEventListener('keyup', event => {\n      const code = event.which;\n      // 13 = Return, 32 = Space\n      if ((code === 13) || (code === 32)) {\n        event.stopPropagation();\n        event.preventDefault();\n        FW.createSyntheticEvent('click', element);\n      }\n    });\n    if (ariaLabel) {\n      element.setAttribute('aria-label', ariaLabel);\n    }\n  }\n\n}\n","import FW from './fw';\n\n\nexport default class Environment {\n\n  static #filterVersion(pattern) {\n    if (navigator.userAgent) {\n      const versionArray = navigator.userAgent.match(pattern);\n      if (Array.isArray(versionArray) && typeof versionArray[1] !== 'undefined') {\n        return parseInt(versionArray[1], 10);\n      }\n    }\n    return -1;\n  }\n\n  static get #testVideo() {\n    return document.createElement('video');\n  }\n\n  static get #hasTouchEvents() {\n    if (typeof window.ontouchstart !== 'undefined' ||\n      (window.DocumentTouch && document instanceof window.DocumentTouch)) {\n      return true;\n    }\n    return false;\n  }\n\n  static get userAgent() {\n    if (navigator.userAgent) {\n      return navigator.userAgent;\n    }\n    return null;\n  }\n\n  static get devicePixelRatio() {\n    let pixelRatio = 1;\n    if (FW.isNumber(window.devicePixelRatio) && window.devicePixelRatio > 1) {\n      pixelRatio = window.devicePixelRatio;\n    }\n    return pixelRatio;\n  }\n\n  static get maxTouchPoints() {\n    if (typeof navigator.maxTouchPoints === 'number') {\n      return navigator.maxTouchPoints;\n    }\n    return -1;\n  }\n\n  static get isIos() {\n    const IOS_PATTERN = /(ipad|iphone|ipod)/i;\n    const IOS_VERSION_PATTERN = /os\\s+(\\d+)_/i;\n    let support = [false, -1];\n    if (IOS_PATTERN.test(Environment.userAgent) && Environment.#hasTouchEvents) {\n      support = [true, Environment.#filterVersion(IOS_VERSION_PATTERN)];\n    }\n    return support;\n  }\n\n  static get isIpadOS() {\n    const MAC_PLATFORM_PATTERN = /macintel/i;\n    if (!Environment.isIos[0] && Environment.#hasTouchEvents && MAC_PLATFORM_PATTERN.test(navigator.platform) &&\n      Environment.devicePixelRatio > 1 && Environment.maxTouchPoints > 1) {\n      return true;\n    }\n    return false;\n  }\n\n  static get isMacOS() {\n    const MACOS_PATTERN = /(macintosh|mac\\s+os)/i;\n    const MACOS_VERSION_PATTERN = /mac\\s+os\\s+x\\s+(\\d+)_(\\d+)/i;\n    let isMacOS = false;\n    let macOSXMinorVersion = -1;\n    if (!Environment.isIos[0] && !Environment.isIpadOS && MACOS_PATTERN.test(Environment.userAgent)) {\n      isMacOS = true;\n      macOSXMinorVersion = Environment.#filterVersion(MACOS_VERSION_PATTERN, true);\n    }\n    return [isMacOS, macOSXMinorVersion];\n  }\n\n  static get isSafari() {\n    const SAFARI_PATTERN = /safari\\/[.0-9]*/i;\n    const SAFARI_VERSION_PATTERN = /version\\/(\\d+)\\./i;\n    const NO_SAFARI_PATTERN = /(chrome|chromium|android|crios|fxios)/i;\n    let isSafari = false;\n    let safariVersion = -1;\n    if (SAFARI_PATTERN.test(Environment.userAgent) && !NO_SAFARI_PATTERN.test(Environment.userAgent)) {\n      isSafari = true;\n      safariVersion = Environment.#filterVersion(SAFARI_VERSION_PATTERN);\n    }\n    return [isSafari, safariVersion];\n  }\n\n  static get isMacOSSafari() {\n    return Environment.isMacOS[0] && Environment.isSafari[0];\n  }\n\n  static get isAndroid() {\n    const ANDROID_PATTERN = /android/i;\n    const ANDROID_VERSION_PATTERN = /android\\s*(\\d+)\\./i;\n    let support = [false, -1];\n    if (!Environment.isIos[0] && Environment.#hasTouchEvents && ANDROID_PATTERN.test(Environment.userAgent)) {\n      support = [true, Environment.#filterVersion(ANDROID_VERSION_PATTERN)];\n    }\n    return support;\n  }\n\n  static get isMobile() {\n    if (Environment.isIos[0] || Environment.isAndroid[0] || Environment.isIpadOS) {\n      return true;\n    }\n    return false;\n  }\n\n  static get hasNativeFullscreenSupport() {\n    const doc = document.documentElement;\n    const testVideo = Environment.#testVideo;\n    if (doc) {\n      if (typeof doc.requestFullscreen !== 'undefined' ||\n        typeof doc.webkitRequestFullscreen !== 'undefined' ||\n        typeof doc.mozRequestFullScreen !== 'undefined' ||\n        typeof doc.msRequestFullscreen !== 'undefined' ||\n        typeof testVideo.webkitEnterFullscreen !== 'undefined') {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  static checkCanPlayType(type, codec) {\n    const testVideo = Environment.#testVideo;\n    if (testVideo.canPlayType !== 'undefined') {\n      if (type && codec) {\n        const canPlayType = testVideo.canPlayType(type + '; codecs=\"' + codec + '\"');\n        if (canPlayType !== '') {\n          return true;\n        }\n      } else if (type && !codec) {\n        const canPlayType = testVideo.canPlayType(type);\n        if (canPlayType !== '') {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n}\n","export default class Logger {\n\n  static #rawConsoleLogs(dump) {\n    if (dump === null) {\n      console.log('null');\n    } else if (typeof dump === 'object') {\n      try {\n        console.log(JSON.stringify(dump));\n      } catch (error) {\n        console.warn(error);\n      }\n    } else if (typeof dump.toString !== 'undefined') {\n      console.log(dump.toString());\n    }\n  }\n\n\n  static printVideoEvents(debugRawConsoleLogs, video, type) {\n    const events = [\n      'loadstart',\n      'durationchange',\n      'playing',\n      'waiting',\n      'loadedmetadata',\n      'loadeddata',\n      'canplay',\n      'canplaythrough'\n    ];\n    events.forEach(value => {\n      video.addEventListener(value, e => {\n        if (e && e.type) {\n          Logger.print(debugRawConsoleLogs, `${type} video player event \"${e.type}\"`);\n        }\n      });\n    });\n  }\n\n  static print(debugRawConsoleLogs, data, dump) {\n    const consoleStyleRmpVast = `color: white; background-color: #00ACC1; padding:1px 3px; border-radius: 3px; margin-right: 7px;`;\n\n    if (debugRawConsoleLogs) {\n      if (data) {\n        console.log(`RMP-VAST: ${data}`);\n      }\n      if (typeof dump !== 'undefined') {\n        Logger.#rawConsoleLogs(dump);\n      }\n    } else {\n      if (data) {\n        console.log(`%crmp-vast%c${data}`, consoleStyleRmpVast, '');\n      }\n      if (dump) {\n        console.log(dump);\n      }\n    }\n  }\n\n}\n","import FW from '../framework/fw';\nimport Environment from '../framework/environment';\nimport Logger from '../framework/logger';\n\n\nexport default class Utils {\n\n  #rmpVast;\n  #onFullscreenchangeFn = null;\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n  }\n\n  // attach fullscreen states\n  // this assumes we have a polyfill for fullscreenchange event \n  // see app/js/app.js\n  // we need this to handle VAST fullscreen events\n  #onFullscreenchange(event) {\n    if (event && event.type) {\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `event is ${event.type}`);\n      const isLinear = this.#rmpVast.creative.isLinear;\n      const isOnStage = this.#rmpVast.__adOnStage;\n      if (event.type === 'fullscreenchange') {\n        if (this.#rmpVast.isInFullscreen) {\n          this.#rmpVast.isInFullscreen = false;\n          if (isOnStage && isLinear) {\n            this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adexitfullscreen', 'adplayercollapse']);\n          }\n        } else {\n          this.#rmpVast.isInFullscreen = true;\n          if (isOnStage && isLinear) {\n            this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adfullscreen', 'adplayerexpand']);\n          }\n        }\n      } else if (event.type === 'webkitbeginfullscreen') {\n        // iOS uses webkitbeginfullscreen\n        if (isOnStage && isLinear) {\n          this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adfullscreen', 'adplayerexpand']);\n        }\n        this.#rmpVast.isInFullscreen = true;\n      } else if (event.type === 'webkitendfullscreen') {\n        // iOS uses webkitendfullscreen\n        if (isOnStage && isLinear) {\n          this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(['adexitfullscreen', 'adplayercollapse']);\n        }\n        this.#rmpVast.isInFullscreen = false;\n      }\n    }\n  }\n\n  #updateVastError(errorCode) {\n    // List of VAST errors according to specs\n    const vastErrorsList = [{\n      code: 201,\n      description: 'Video player expecting different linearity.'\n    }, {\n      code: 204,\n      description: 'Ad category was required but not provided.'\n    }, {\n      code: 205,\n      description: 'Inline Category violates Wrapper BlockedAdCategories.'\n    }, {\n      code: 303,\n      description: 'No VAST response after one or more Wrappers.'\n    }, {\n      code: 400,\n      description: 'General Linear error. Video player is unable to display the Linear Ad.'\n    }, {\n      code: 401,\n      description: 'File not found. Unable to find Linear/MediaFile from URI.'\n    }, {\n      code: 402,\n      description: 'Timeout of MediaFile URI.'\n    }, {\n      code: 403,\n      description: 'Couldn\\'t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.'\n    }, {\n      code: 501,\n      description: 'Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large).'\n    }, {\n      code: 502,\n      description: 'Unable to fetch NonLinearAds/NonLinear resource.'\n    }, {\n      code: 503,\n      description: 'Couldn\\'t find NonLinear resource with supported type.'\n    }, {\n      code: 603,\n      description: 'Unable to fetch CompanionAds/Companion resource.'\n    }, {\n      code: 900,\n      description: 'Undefined Error.'\n    }, {\n      code: 901,\n      description: 'General VPAID error.'\n    }, {\n      code: 1001,\n      description: 'Invalid input for loadAds method'\n    }, {\n      code: 1002,\n      description: 'Required DOMParser API is not available'\n    }, {\n      code: 1100,\n      description: 'SIMID error: UNSPECIFIED_CREATIVE_ERROR'\n    }, {\n      code: 1101,\n      description: 'SIMID error: CANNOT_LOAD_RESOURCE'\n    }, {\n      code: 1102,\n      description: 'SIMID error: PLAYBACK_AREA_UNUSABLE'\n    }, {\n      code: 1103,\n      description: 'SIMID error: INCORRECT_VERSION'\n    }, {\n      code: 1104,\n      description: 'SIMID error: TECHNICAL_ERROR'\n    }, {\n      code: 1105,\n      description: 'SIMID error: EXPAND_NOT_POSSIBLE'\n    }, {\n      code: 1106,\n      description: 'SIMID error: PAUSE_NOT_HONORED'\n    }, {\n      code: 1107,\n      description: 'SIMID error: PLAYMODE_NOT_ADEQUATE'\n    }, {\n      code: 1108,\n      description: 'SIMID error: CREATIVE_INTERNAL_ERROR'\n    }, {\n      code: 1109,\n      description: 'SIMID error: DEVICE_NOT_SUPPORTED'\n    }, {\n      code: 1110,\n      description: 'SIMID error: MESSAGES_NOT_FOLLOWING_SPEC'\n    }, {\n      code: 1111,\n      description: 'SIMID error: PLAYER_RESPONSE_TIMEOUT'\n    }, {\n      code: 1200,\n      description: 'SIMID error: UNSPECIFIED_PLAYER_ERROR'\n    }, {\n      code: 1201,\n      description: 'SIMID error: WRONG_VERSION'\n    }, {\n      code: 1202,\n      description: 'SIMID error: UNSUPPORTED_TIME'\n    }, {\n      code: 1203,\n      description: 'SIMID error: UNSUPPORTED_FUNCTIONALITY_REQUEST'\n    }, {\n      code: 1204,\n      description: 'SIMID error: UNSUPPORTED_ACTIONS'\n    }, {\n      code: 1205,\n      description: 'SIMID error: POSTMESSAGE_CHANNEL_OVERLOADED'\n    }, {\n      code: 1206,\n      description: 'SIMID error: VIDEO_COULD_NOT_LOAD'\n    }, {\n      code: 1207,\n      description: 'SIMID error: VIDEO_TIME_OUT'\n    }, {\n      code: 1208,\n      description: 'SIMID error: RESPONSE_TIMEOUT'\n    }, {\n      code: 1209,\n      description: 'SIMID error: MEDIA_NOT_SUPPORTED'\n    }, {\n      code: 1210,\n      description: 'SIMID error: SPEC_NOT_FOLLOWED_ON_INIT'\n    }, {\n      code: 1211,\n      description: 'SIMID error: SPEC_NOT_FOLLOWED_ON_MESSAGES'\n    }];\n\n    // Indicates that the error was encountered after the ad loaded, during ad play. \n    // Possible causes: ad assets could not be loaded, etc.\n    const playErrorsList = [\n      201, 204, 205,\n      400, 401, 402, 403,\n      501, 502, 503,\n      603,\n      901,\n      1002\n    ];\n\n    // Indicates that the error was encountered when the ad was being loaded. \n    // Possible causes: there was no response from the ad server, malformed ad response was returned ...\n    // 300, 301, 302, 303, 304 Wrapper errors are managed in ast-client-js\n    const loadErrorsList = [\n      303,\n      900,\n      1001\n    ];\n\n    const error = vastErrorsList.filter(value => {\n      return value.code === errorCode;\n    });\n    if (error.length > 0) {\n      this.#rmpVast.__vastErrorCode = error[0].code;\n      this.#rmpVast.__adErrorMessage = error[0].description;\n    } else {\n      this.#rmpVast.__vastErrorCode = -1;\n      this.#rmpVast.__adErrorMessage = 'Error getting VAST error';\n    }\n    if (this.#rmpVast.__vastErrorCode > -1) {\n      if (loadErrorsList.indexOf(this.#rmpVast.__vastErrorCode) > -1) {\n        this.#rmpVast.__adErrorType = 'adLoadError';\n      } else if (playErrorsList.indexOf(this.#rmpVast.__vastErrorCode) > -1) {\n        this.#rmpVast.__adErrorType = 'adPlayError';\n      }\n    }\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `VAST error code is ${this.#rmpVast.__vastErrorCode} with message: ${this.#rmpVast.__adErrorMessage}`);\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `Ad error type is ${this.#rmpVast.__adErrorType}`);\n  }\n\n  filterParams(inputParams) {\n    // default for input parameters\n    const defaultParams = {\n      ajaxTimeout: 8000,\n      creativeLoadTimeout: 8000,\n      ajaxWithCredentials: false,\n      maxNumRedirects: 4,\n      labels: {\n        skipMessage: 'Skip ad',\n        closeAd: 'Close ad',\n        textForInteractionUIOnMobile: 'Learn more'\n      },\n      outstream: false,\n      showControlsForAdPlayer: false,\n      vastXmlInput: false,\n      enableVpaid: true,\n      enableSimid: true,\n      vpaidSettings: {\n        width: 640,\n        height: 360,\n        viewMode: 'normal',\n        desiredBitrate: 500\n      },\n      useHlsJS: true,\n      debugHlsJS: false,\n      debugRawConsoleLogs: false,\n      // OM SDK params\n      omidSupport: false,\n      omidAllowedVendors: [],\n      omidRunValidationScript: false,\n      omidAutoplay: false,\n      macros: new Map(),\n      partnerName: 'rmp-vast',\n      partnerVersion: RMP_VAST_VERSION\n    };\n\n    this.#rmpVast.params = defaultParams;\n\n    if (inputParams && typeof inputParams === 'object') {\n      const keys = Object.keys(inputParams);\n      keys.forEach(key => {\n        if (typeof inputParams[key] === typeof this.#rmpVast.params[key]) {\n          if ((FW.isNumber(inputParams[key]) && inputParams[key] > 0) || typeof inputParams[key] !== 'number') {\n            if (key === 'vpaidSettings') {\n              if (FW.isNumber(inputParams.vpaidSettings.width) && inputParams.vpaidSettings.width > 0) {\n                this.#rmpVast.params.vpaidSettings.width = inputParams.vpaidSettings.width;\n              }\n              if (FW.isNumber(inputParams.vpaidSettings.height) && inputParams.vpaidSettings.height > 0) {\n                this.#rmpVast.params.vpaidSettings.height = inputParams.vpaidSettings.height;\n              }\n              if (typeof inputParams.vpaidSettings.viewMode === 'string' && inputParams.vpaidSettings.viewMode === 'fullscreen') {\n                this.#rmpVast.params.vpaidSettings.viewMode = inputParams.vpaidSettings.viewMode;\n              }\n              if (FW.isNumber(inputParams.vpaidSettings.desiredBitrate) && inputParams.vpaidSettings.desiredBitrate > 0) {\n                this.#rmpVast.params.vpaidSettings.desiredBitrate = inputParams.vpaidSettings.desiredBitrate;\n              }\n            } else {\n              this.#rmpVast.params[key] = inputParams[key];\n            }\n          }\n        }\n      });\n    }\n  }\n\n  createApiEvent(event) {\n    if (Array.isArray(event)) {\n      event.forEach(currentEvent => {\n        if (currentEvent) {\n          Logger.print(this.#rmpVast.debugRawConsoleLogs, `API EVENT - ${event}`);\n          this.#rmpVast.dispatch(currentEvent);\n        }\n      });\n    } else if (event) {\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `API EVENT - ${event}`);\n      this.#rmpVast.dispatch(event);\n    }\n  }\n\n  playPromise(whichPlayer, firstPlayerPlayRequest) {\n    let targetPlayer;\n    switch (whichPlayer) {\n      case 'content':\n        targetPlayer = this.#rmpVast.currentContentPlayer;\n        break;\n      case 'vast':\n        targetPlayer = this.#rmpVast.currentAdPlayer;\n        break;\n      default:\n        break;\n    }\n    if (targetPlayer) {\n      const playPromise = targetPlayer.play();\n      // most modern browsers support play as a Promise\n      // this lets us handle autoplay rejection \n      // https://developers.google.com/web/updates/2016/03/play-returns-promise\n      if (playPromise !== undefined) {\n        const isLinear = this.#rmpVast.creative.isLinear;\n        playPromise.then(() => {\n          Logger.print(this.#rmpVast.debugRawConsoleLogs, `playPromise on ${whichPlayer} player has succeeded`);\n          if (firstPlayerPlayRequest) {\n            this.createApiEvent('adinitialplayrequestsucceeded');\n          }\n        }).catch(error => {\n          console.warn(error);\n          if (firstPlayerPlayRequest && whichPlayer === 'vast' && isLinear) {\n            Logger.print(this.#rmpVast.debugRawConsoleLogs, `initial play promise on ad player has been rejected`);\n            this.processVastErrors(400, true);\n            this.createApiEvent('adinitialplayrequestfailed');\n          } else if (firstPlayerPlayRequest && whichPlayer === 'content' && !isLinear) {\n            Logger.print(this.#rmpVast.debugRawConsoleLogs, `initial play promise on content player has been rejected`);\n            this.createApiEvent('adinitialplayrequestfailed');\n          } else {\n            Logger.print(this.#rmpVast.debugRawConsoleLogs, `playPromise on ${whichPlayer} player has been rejected`);\n          }\n        });\n      }\n    }\n  }\n\n  destroyFullscreen() {\n    if (this.#rmpVast.currentContentPlayer) {\n      this.#rmpVast.currentContentPlayer.removeEventListener('webkitbeginfullscreen', this.#onFullscreenchangeFn);\n      this.#rmpVast.currentContentPlayer.removeEventListener('webkitendfullscreen', this.#onFullscreenchangeFn);\n    } else {\n      document.removeEventListener('fullscreenchange', this.#onFullscreenchangeFn);\n    }\n  }\n\n  handleFullscreen() {\n    // if we have native fullscreen support we handle fullscreen events\n    if (Environment.hasNativeFullscreenSupport) {\n      this.#onFullscreenchangeFn = this.#onFullscreenchange.bind(this);\n      // for iOS \n      if (Environment.isIos[0]) {\n        if (this.#rmpVast.currentContentPlayer) {\n          this.#rmpVast.currentContentPlayer.addEventListener('webkitbeginfullscreen', this.#onFullscreenchangeFn);\n          this.#rmpVast.currentContentPlayer.addEventListener('webkitendfullscreen', this.#onFullscreenchangeFn);\n        }\n      } else {\n        document.addEventListener('fullscreenchange', this.#onFullscreenchangeFn);\n      }\n    }\n  }\n\n  processVastErrors(errorCode, ping) {\n    if (ping) {\n      this.#rmpVast.rmpVastTracking.error(errorCode);\n    }\n    this.#updateVastError(errorCode);\n    this.createApiEvent('aderror');\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      this.#rmpVast.rmpVastAdPlayer.resumeContent();\n    }\n  }\n\n}\n","import FW from '../framework/fw';\nimport Environment from '../framework/environment';\nimport Logger from '../framework/logger';\n\n\nexport default class Tracking {\n\n  #rmpVast;\n  #trackingApiEventMap = new Map();\n  #onPauseFn = null;\n  #onPlayFn = null;\n  #onPlayingFn = null;\n  #onEndedFn = null;\n  #onVolumeChangeFn = null;\n  #onTimeupdateFn = null;\n  #firstQuartileEventFired = false;\n  #midpointEventFired = false;\n  #thirdQuartileEventFired = false;\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#createTrackingApiEventMap();\n  }\n\n  #createTrackingApiEventMap() {\n    // ViewableImpression\n    this.#trackingApiEventMap.set('adviewable', 'viewable');\n    this.#trackingApiEventMap.set('adviewundetermined', 'viewundetermined');\n    // Tracking Event Elements\n    this.#trackingApiEventMap.set('advolumemuted', 'mute');\n    this.#trackingApiEventMap.set('advolumeunmuted', 'unmute');\n    this.#trackingApiEventMap.set('adpaused', 'pause');\n    this.#trackingApiEventMap.set('adresumed', 'resume');\n    this.#trackingApiEventMap.set('adskipped', 'skip');\n    // VAST 4 events\n    this.#trackingApiEventMap.set('adplayerexpand', 'playerExpand');\n    this.#trackingApiEventMap.set('adplayercollapse', 'playerCollapse');\n    // VAST 3 events\n    this.#trackingApiEventMap.set('adfullscreen', 'fullscreen');\n    this.#trackingApiEventMap.set('adexitfullscreen', 'exitFullscreen');\n    // Linear Ad Metrics\n    this.#trackingApiEventMap.set('adloaded', 'loaded');\n    this.#trackingApiEventMap.set('adstarted', 'start');\n    this.#trackingApiEventMap.set('adfirstquartile', 'firstQuartile');\n    this.#trackingApiEventMap.set('admidpoint', 'midpoint');\n    this.#trackingApiEventMap.set('adthirdquartile', 'thirdQuartile');\n    this.#trackingApiEventMap.set('adcomplete', 'complete');\n    // tracking progress event happens in #onTimeupdate\n    // InLine > Impression\n    this.#trackingApiEventMap.set('adimpression', 'impression');\n\n    // creativeView for companion ads happens in getCompanionAd (index.js)\n    // creativeView tracking needs to happen for linear creative as well (support for VAST 3)\n    this.#trackingApiEventMap.set('adcreativeview', 'creativeView');\n\n    // for non-linear and VPAID only\n    this.#trackingApiEventMap.set('adcollapse', 'adCollapse');\n\n    // only support for VPAID - PR welcome for non-linear\n    this.#trackingApiEventMap.set('aduseracceptinvitation', 'acceptInvitation');\n    this.#trackingApiEventMap.set('adclosed', 'close');\n    // VideoClicks > ClickThrough\n    this.#trackingApiEventMap.set('adclick', 'clickthrough');\n\n    // Need to investigate overlayViewDuration (non-linear) - interactiveStart (SIMID) further\n  }\n\n  #dispatch(event) {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `ping tracking for ${event} VAST event`);\n    // filter trackers - may return multiple urls for same event as allowed by VAST spec\n    const trackers = this.#rmpVast.trackingTags.filter(value => {\n      return event === value.event;\n    });\n    // send ping for each valid tracker\n    if (trackers.length > 0) {\n      trackers.forEach(element => {\n        this.pingURI(element.url);\n      });\n    }\n  }\n\n  #ping(url) {\n    // we expect an image format for the tracker (generally a 1px GIF/PNG/JPG/AVIF) or JavaScript as \n    // those are the most common format in the industry \n    // other format may produce errors and the related tracker may not be requested properly\n    const jsPattern = /\\.js$/i;\n    if (jsPattern.test(url)) {\n      const script = document.createElement('script');\n      script.src = url;\n      try {\n        document.head.appendChild(script);\n      } catch (error) {\n        console.warn(error);\n        document.body.appendChild(script);\n      }\n    } else {\n      FW.ajax(url, this.#rmpVast.params.ajaxTimeout, false, 'GET').\n        then(() => {\n          Logger.print(this.#rmpVast.debugRawConsoleLogs, `VAST tracker successfully loaded ${url}`);\n        }).catch(error => {\n          console.warn(error);\n        });\n    }\n  }\n\n  #onVolumeChange() {\n    if (this.#rmpVast.currentAdPlayer) {\n      const muted = this.#rmpVast.currentAdPlayer.muted;\n      const volume = this.#rmpVast.currentAdPlayer.volume;\n      if (muted || volume === 0) {\n        this.dispatchTrackingAndApiEvent('advolumemuted');\n      } else if (!muted && volume > 0) {\n        this.dispatchTrackingAndApiEvent('advolumeunmuted');\n      }\n      this.#rmpVast.rmpVastUtils.createApiEvent('advolumechanged');\n    }\n  }\n\n  #onTimeupdate() {\n    let adPlayerDuration = -1;\n    let adPlayerCurrentTime = -1;\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      adPlayerCurrentTime = this.#rmpVast.rmpVastAdPlayer.currentTime;\n      adPlayerDuration = this.#rmpVast.rmpVastAdPlayer.duration;\n    }\n    if (adPlayerCurrentTime > 0) {\n      if (adPlayerDuration > 0 && adPlayerDuration > adPlayerCurrentTime) {\n        if (adPlayerCurrentTime >= adPlayerDuration * 0.25 && !this.#firstQuartileEventFired) {\n          this.#firstQuartileEventFired = true;\n          this.dispatchTrackingAndApiEvent('adfirstquartile');\n        } else if (adPlayerCurrentTime >= adPlayerDuration * 0.5 && !this.#midpointEventFired) {\n          this.#midpointEventFired = true;\n          this.dispatchTrackingAndApiEvent('admidpoint');\n        } else if (adPlayerCurrentTime >= adPlayerDuration * 0.75 && !this.#thirdQuartileEventFired) {\n          this.#thirdQuartileEventFired = true;\n          this.dispatchTrackingAndApiEvent('adthirdquartile');\n        }\n      }\n      // progress event\n      if (this.#rmpVast.progressEvents.length > 0) {\n        if (adPlayerCurrentTime > this.#rmpVast.progressEvents[0].time) {\n          const filterProgressEvent = this.#rmpVast.progressEvents.filter(progressEvent => {\n            return progressEvent.time === this.#rmpVast.progressEvents[0].time;\n          });\n          filterProgressEvent.forEach(progressEvent => {\n            if (progressEvent.url) {\n              this.pingURI(progressEvent.url);\n            }\n          });\n          this.#rmpVast.progressEvents.shift();\n          this.#rmpVast.rmpVastUtils.createApiEvent('adprogress');\n        }\n      }\n    }\n  }\n\n  #onPause() {\n    if (this.#rmpVast.currentAdPlayer && this.#rmpVast.currentAdPlayer.paused) {\n      const currentTime = this.#rmpVast.currentAdPlayer.currentTime;\n      const currentDuration = this.#rmpVast.currentAdPlayer.duration;\n      // we have reached end of linear creative - a HTML5 video pause event may fire just before ended event\n      // in this case we ignore the adpaused event as adcomplete prevails\n      if (currentTime === currentDuration) {\n        return;\n      }\n      this.dispatchTrackingAndApiEvent('adpaused');\n    }\n  }\n\n  #onPlay() {\n    if (this.#rmpVast.currentAdPlayer && !this.#rmpVast.currentAdPlayer.paused) {\n      this.dispatchTrackingAndApiEvent('adresumed');\n    }\n  }\n\n  #onPlaying() {\n    this.dispatchTrackingAndApiEvent(['adimpression', 'adcreativeview', 'adstarted']);\n  }\n\n  #onEnded() {\n    this.dispatchTrackingAndApiEvent('adcomplete');\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      this.#rmpVast.rmpVastAdPlayer.resumeContent();\n    }\n  }\n\n  #dispatchTracking(event) {\n    if (Array.isArray(event)) {\n      event.forEach(currentEvent => {\n        this.#dispatch(currentEvent);\n      });\n    } else {\n      this.#dispatch(event);\n    }\n  }\n\n  replaceMacros(url, trackingPixels) {\n    const pattern0 = /\\[.+?\\]/i;\n    if (!pattern0.test(url)) {\n      return url;\n    }\n    let finalString = url;\n\n    // Macros that need to be set explicitly\n    // CONTENTCAT GPPSECTIONID GPPSTRING PLAYBACKMETHODS STOREID STOREURL BREAKMAXADLENGTH BREAKMAXADS BREAKMAXDURATION\n    // BREAKMINADLENGTH  PLACEMENTTYPE TRANSACTIONID CLIENTUA DEVICEIP IFA IFATYPE LATLONG SERVERUA APPBUNDLE\n    // EXTENSIONS OMIDPARTNER VERIFICATIONVENDORS CONTENTID CONTENTURI INVENTORYSTATE\n    if (this.#rmpVast.params.macros.size > 0) {\n      for (let [key, value] of this.#rmpVast.params.macros) {\n        const pattern = '\\\\[' + key + '\\\\]';\n        const regex = new RegExp(pattern, 'gi');\n        if (regex.test(finalString)) {\n          finalString = finalString.replace(regex, value.toString());\n        }\n      }\n    }\n\n    // Value is known, but information can't be shared because of policy (unwilling to share)\n    const patternUNWILLING = /\\[CLICKPOS\\]/gi;\n    if (patternUNWILLING.test(finalString)) {\n      finalString = finalString.replace(patternUNWILLING, '-2');\n    }\n\n    // available macros\n\n    const patternADCOUNT = /\\[ADCOUNT\\]/gi;\n    if (patternADCOUNT.test(finalString)) {\n      let adCount = 1;\n      if (this.#rmpVast.adPodLength > 0) {\n        adCount = this.#rmpVast.adSequence;\n      }\n      finalString = finalString.replace(patternADCOUNT, adCount.toString());\n    }\n\n    const patternSERVERSIDE = /\\[SERVERSIDE\\]/gi;\n    if (patternSERVERSIDE.test(finalString)) {\n      finalString = finalString.replace(patternADCOUNT, '0');\n    }\n\n    const pattern1 = /\\[TIMESTAMP\\]/gi;\n    const date = (new Date()).toISOString();\n    if (pattern1.test(finalString)) {\n      finalString = finalString.replace(pattern1, encodeURIComponent(date));\n    }\n    const pattern2 = /\\[CACHEBUSTING\\]/gi;\n    if (pattern2.test(finalString)) {\n      finalString = finalString.replace(pattern2, FW.generateCacheBusting());\n    }\n\n    const pattern3 = /\\[(CONTENTPLAYHEAD|MEDIAPLAYHEAD)\\]/gi;\n    let currentContentTime = this.#rmpVast.rmpVastContentPlayer.currentTime;\n    if (pattern3.test(finalString) && currentContentTime > -1) {\n      finalString = finalString.replace(pattern3, encodeURIComponent(FW.vastReadableTime(currentContentTime)));\n    }\n\n    const pattern5 = /\\[BREAKPOSITION\\]/gi;\n    let adPlayerDuration = -1;\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      adPlayerDuration = this.#rmpVast.rmpVastAdPlayer.duration;\n    }\n    if (pattern5.test(finalString)) {\n      if (currentContentTime === 0) {\n        finalString = finalString.replace(pattern5, '1');\n      } else if (currentContentTime > 0 && currentContentTime < adPlayerDuration) {\n        finalString = finalString.replace(pattern5, '2');\n      } else {\n        finalString = finalString.replace(pattern5, '3');\n      }\n    }\n\n    const pattern9 = /\\[ADTYPE\\]/gi;\n    if (pattern9.test(finalString) && this.#rmpVast.ad.adType) {\n      finalString = finalString.replace(pattern9, encodeURIComponent(this.#rmpVast.ad.adType));\n    }\n\n    const pattern11 = /\\[DEVICEUA\\]/gi;\n    if (pattern11.test(finalString) && Environment.userAgent) {\n      finalString = finalString.replace(pattern11, encodeURIComponent(Environment.userAgent));\n    }\n\n    const pattern11bis = /\\[SERVERSIDE\\]/gi;\n    if (pattern11bis.test(finalString) && Environment.userAgent) {\n      finalString = finalString.replace(pattern11bis, '0');\n    }\n\n    const pattern13 = /\\[DOMAIN\\]/gi;\n    if (pattern13.test(finalString) && window.location.hostname) {\n      finalString = finalString.replace(pattern13, encodeURIComponent(window.location.hostname));\n    }\n\n    const pattern14 = /\\[PAGEURL\\]/gi;\n    if (pattern14.test(finalString) && window.location.href) {\n      finalString = finalString.replace(pattern14, encodeURIComponent(window.location.href));\n    }\n\n    const pattern18 = /\\[PLAYERCAPABILITIES\\]/gi;\n    if (pattern18.test(finalString)) {\n      finalString = finalString.replace(pattern18, 'skip,mute,autoplay,mautoplay,fullscreen,icon');\n    }\n\n    const pattern19 = /\\[CLICKTYPE\\]/gi;\n    if (pattern19.test(finalString)) {\n      let clickType = '1';\n      if (Environment.isMobile) {\n        clickType = '2';\n      }\n      finalString = finalString.replace(pattern19, clickType);\n    }\n\n    const pattern21 = /\\[PLAYERSIZE\\]/gi;\n    if (pattern21.test(finalString)) {\n      const width = parseInt(FW.getWidth(this.#rmpVast.container));\n      const height = parseInt(FW.getHeight(this.#rmpVast.container));\n      finalString = finalString.replace(\n        pattern21, encodeURIComponent(width.toString() + ',' + height.toString())\n      );\n    }\n\n    if (trackingPixels) {\n      const pattern4 = /\\[ADPLAYHEAD\\]/gi;\n      let adPlayerCurrentTime = -1;\n      if (this.#rmpVast.rmpVastAdPlayer) {\n        adPlayerCurrentTime = this.#rmpVast.rmpVastAdPlayer.currentTime;\n      }\n      if (pattern4.test(finalString) && adPlayerCurrentTime > -1) {\n        finalString = finalString.replace(\n          pattern4,\n          encodeURIComponent(FW.vastReadableTime(adPlayerCurrentTime))\n        );\n      }\n\n      const pattern10 = /\\[UNIVERSALADID\\]/gi;\n      if (pattern10.test(finalString) && this.#rmpVast.creative.universalAdIds.length > 0) {\n        let universalAdIdString = '';\n        this.#rmpVast.creative.universalAdIds.forEach((universalAdId, index) => {\n          if (index !== 0 || index !== this.#rmpVast.creative.universalAdIds.length - 1) {\n            universalAdIdString += ',';\n          }\n          universalAdIdString += universalAdId.idRegistry + ' ' + universalAdId.value;\n        });\n        finalString = finalString.replace(\n          pattern10,\n          encodeURIComponent(universalAdIdString)\n        );\n      }\n\n      const pattern22 = /\\[ASSETURI\\]/gi;\n      const assetUri = this.#rmpVast.adMediaUrl;\n      if (pattern22.test(finalString) && typeof assetUri === 'string' && assetUri !== '') {\n        finalString = finalString.replace(pattern22, encodeURIComponent(assetUri));\n      }\n\n      const pattern23 = /\\[PODSEQUENCE\\]/gi;\n      if (pattern23.test(finalString) && this.#rmpVast.ad.sequence) {\n        finalString = finalString.replace(pattern23, encodeURIComponent((this.#rmpVast.ad.sequence).toString()));\n      }\n\n      const pattern24 = /\\[ADSERVINGID\\]/gi;\n      if (pattern24.test(finalString) && this.#rmpVast.ad.adServingId) {\n        finalString = finalString.replace(pattern24, encodeURIComponent(this.#rmpVast.ad.adServingId));\n      }\n    } else {\n\n      const pattern6 = /\\[ADCATEGORIES\\]/gi;\n      if (pattern6.test(finalString) && this.#rmpVast.ad.categories.length > 0) {\n        const categories = this.#rmpVast.ad.categories.map(categorie => categorie.value).join(',');\n        finalString = finalString.replace(pattern6, encodeURIComponent(categories));\n      }\n\n      const pattern7 = /\\[BLOCKEDADCATEGORIES\\]/gi;\n      if (pattern7.test(finalString) && this.#rmpVast.ad.blockedAdCategories.length > 0) {\n        const blockedAdCategories = this.#rmpVast.ad.blockedAdCategories.map(blockedAdCategories => blockedAdCategories.value).join(',');\n        finalString = finalString.replace(pattern7, encodeURIComponent(blockedAdCategories));\n      }\n\n      const pattern15 = /\\[VASTVERSIONS\\]/gi;\n      if (pattern15.test(finalString)) {\n        finalString = finalString.replace(\n          pattern15, '2,3,5,6,7,8,11,12,13,14'\n        );\n      }\n\n      const pattern16 = /\\[APIFRAMEWORKS\\]/gi;\n      if (pattern16.test(finalString)) {\n        finalString = finalString.replace(\n          pattern16, '2,7,8,9'\n        );\n      }\n\n      const pattern17 = /\\[MEDIAMIME\\]/gi;\n      const mediaMime = [\n        'video/webm',\n        'video/mp4',\n        'video/ogg',\n        'video/3gpp',\n        'application/vnd.apple.mpegurl',\n        'application/dash+xml'\n      ];\n      if (pattern17.test(finalString)) {\n        let mimeTyepString = '';\n        mediaMime.forEach(value => {\n          if (value === 'application/vnd.apple.mpegurl') {\n            if (Environment.checkCanPlayType(value) || this.#rmpVast.rmpVastLinearCreative.readingHlsJS) {\n              mimeTyepString += value + ',';\n            }\n          } else if (Environment.checkCanPlayType(value)) {\n            mimeTyepString += value + ',';\n          }\n        });\n        if (mimeTyepString) {\n          mimeTyepString = mimeTyepString.slice(0, -1);\n          finalString = finalString.replace(pattern17, encodeURIComponent(mimeTyepString));\n        }\n      }\n\n      const pattern20 = /\\[PLAYERSTATE\\]/gi;\n      if (pattern20.test(finalString)) {\n        let playerState = '';\n        if (this.#rmpVast.rmpVastContentPlayer.muted) {\n          playerState += 'muted';\n        }\n        if (this.#rmpVast.isInFullscreen) {\n          if (playerState) {\n            playerState += ',';\n          }\n          playerState += 'fullscreen';\n        }\n        finalString = finalString.replace(pattern20, playerState);\n      }\n    }\n\n    const pattern25 = /\\[LIMITADTRACKING\\]/gi;\n    const regulationsInfo = this.#rmpVast.regulationsInfo;\n    if (pattern25.test(finalString) && regulationsInfo.limitAdTracking) {\n      finalString = finalString.replace(pattern25, encodeURIComponent(regulationsInfo.limitAdTracking));\n    }\n\n    const pattern26 = /\\[REGULATIONS\\]/gi;\n    if (pattern26.test(finalString) && regulationsInfo.regulations) {\n      finalString = finalString.replace(pattern26, encodeURIComponent(regulationsInfo.regulations));\n    }\n\n    const pattern27 = /\\[GDPRCONSENT\\]/gi;\n    if (pattern27.test(finalString) && regulationsInfo.gdprConsent) {\n      finalString = finalString.replace(pattern27, encodeURIComponent(regulationsInfo.gdprConsent));\n    }\n\n    return finalString;\n  }\n\n  pingURI(url) {\n    const trackingUrl = this.replaceMacros(url, true);\n    this.#ping(trackingUrl);\n  }\n\n  error(errorCode) {\n    // for each Error tag within an InLine or chain of Wrapper ping error URL\n    let errorTags = this.#rmpVast.adErrorTags;\n    if (errorCode === 303 && this.#rmpVast.vastErrorTags.length > 0) {\n      // here we ping vastErrorTags with error code 303 according to spec\n      // concat array thus\n      errorTags = [...errorTags, ...this.#rmpVast.vastErrorTags];\n    }\n    if (errorTags.length > 0) {\n      errorTags.forEach(errorTag => {\n        if (errorTag.url) {\n          let errorUrl = errorTag.url;\n          const errorRegExp = /\\[ERRORCODE\\]/gi;\n          if (errorRegExp.test(errorUrl) && FW.isNumber(errorCode) && errorCode > 0 && errorCode < 1000) {\n            errorUrl = errorUrl.replace(errorRegExp, errorCode);\n          }\n          this.#ping(errorUrl);\n        }\n      });\n    }\n  }\n\n  reset() {\n    this.#onPauseFn = null;\n    this.#onPlayFn = null;\n    this.#onPlayingFn = null;\n    this.#onEndedFn = null;\n    this.#onVolumeChangeFn = null;\n    this.#onTimeupdateFn = null;\n    this.#firstQuartileEventFired = false;\n    this.#midpointEventFired = false;\n    this.#thirdQuartileEventFired = false;\n  }\n\n  dispatchTrackingAndApiEvent(apiEvent) {\n    if (Array.isArray(apiEvent)) {\n      apiEvent.forEach(currentApiEvent => {\n        this.#rmpVast.rmpVastUtils.createApiEvent(currentApiEvent);\n        this.#dispatchTracking(this.#trackingApiEventMap.get(currentApiEvent));\n      });\n    } else {\n      this.#rmpVast.rmpVastUtils.createApiEvent(apiEvent);\n      this.#dispatchTracking(this.#trackingApiEventMap.get(apiEvent));\n    }\n  }\n\n  destroy() {\n    if (this.#rmpVast.currentAdPlayer) {\n      this.#rmpVast.currentAdPlayer.removeEventListener('pause', this.#onPauseFn);\n      this.#rmpVast.currentAdPlayer.removeEventListener('play', this.#onPlayFn);\n      this.#rmpVast.currentAdPlayer.removeEventListener('playing', this.#onPlayingFn);\n      this.#rmpVast.currentAdPlayer.removeEventListener('ended', this.#onEndedFn);\n      this.#rmpVast.currentAdPlayer.removeEventListener('volumechange', this.#onVolumeChangeFn);\n      this.#rmpVast.currentAdPlayer.removeEventListener('timeupdate', this.#onTimeupdateFn);\n    }\n  }\n\n  wire() {\n    // we filter through all HTML5 video events and create new VAST events \n    if (this.#rmpVast.currentAdPlayer && this.#rmpVast.creative.isLinear && !this.#rmpVast.rmpVastVpaidPlayer) {\n      this.#onPauseFn = this.#onPause.bind(this);\n      this.#rmpVast.currentAdPlayer.addEventListener('pause', this.#onPauseFn);\n\n      this.#onPlayFn = this.#onPlay.bind(this);\n      this.#rmpVast.currentAdPlayer.addEventListener('play', this.#onPlayFn);\n\n      this.#onPlayingFn = this.#onPlaying.bind(this);\n      this.#rmpVast.currentAdPlayer.addEventListener('playing', this.#onPlayingFn, { once: true });\n\n      this.#onEndedFn = this.#onEnded.bind(this);\n      this.#rmpVast.currentAdPlayer.addEventListener('ended', this.#onEndedFn, { once: true });\n\n      this.#onVolumeChangeFn = this.#onVolumeChange.bind(this);\n      this.#rmpVast.currentAdPlayer.addEventListener('volumechange', this.#onVolumeChangeFn);\n\n      this.#onTimeupdateFn = this.#onTimeupdate.bind(this);\n      this.#rmpVast.currentAdPlayer.addEventListener('timeupdate', this.#onTimeupdateFn);\n    }\n  }\n\n}\n","import FW from '../framework/fw';\nimport Logger from '../framework/logger';\n\n\nexport default class Icons {\n\n  #rmpVast;\n  #adContainer;\n  #adPlayer;\n  #onPlayingAppendIconsFn = null;\n  #iconsData = [];\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#adContainer = rmpVast.adContainer;\n    this.#adPlayer = rmpVast.currentAdPlayer;\n  }\n\n  get iconsData() {\n    return this.#iconsData;\n  }\n\n  #onIconClickThrough(index, event) {\n    if (event) {\n      event.stopPropagation();\n      if (event.type === 'touchend') {\n        event.preventDefault();\n      }\n    }\n    FW.openWindow(this.#iconsData[index].iconClickThroughUrl);\n    // send trackers if any for IconClickTracking\n    const iconClickTrackingUrls = this.#iconsData[index].iconClickTrackingUrls;\n    if (iconClickTrackingUrls.length > 0) {\n      iconClickTrackingUrls.forEach(tracking => {\n        if (tracking.url) {\n          this.#rmpVast.rmpVastTracking.pingURI(tracking.url);\n        }\n      });\n    }\n    this.#rmpVast.rmpVastUtils.createApiEvent('adiconclick');\n  }\n\n  #onIconLoadPingTracking(index) {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `IconViewTracking for icon at index ${index}`);\n    this.#rmpVast.rmpVastTracking.pingURI(this.#iconsData[index].iconViewTrackingUrl);\n  }\n\n  #onPlayingAppendIcons() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `playing states has been reached - append icons`);\n    this.#iconsData.forEach((iconData, index) => {\n      let icon;\n      let src;\n      if (iconData.staticResourceUrl) {\n        icon = document.createElement('img');\n        if (iconData.altText) {\n          icon.alt = iconData.altText;\n        }\n        if (iconData.hoverText) {\n          icon.title = iconData.hoverText;\n        }\n        src = iconData.staticResourceUrl;\n      } else if (iconData.iframeResourceUrl || iconData.htmlContent) {\n        icon = document.createElement('iframe');\n        if (iconData.hoverText) {\n          icon.title = iconData.hoverText;\n        }\n        icon.sandbox = 'allow-scripts allow-same-origin';\n        if (iconData.htmlContent) {\n          src = iconData.htmlContent;\n        } else {\n          src = iconData.iframeResourceUrl;\n        }\n        FW.setStyle(\n          icon,\n          {\n            border: 'none',\n            overflow: 'hidden'\n          }\n        );\n        icon.setAttribute('scrolling', 'no');\n        icon.setAttribute('allow', 'autoplay; fullscreen; picture-in-picture; encrypted-media');\n        icon.setAttribute('sandbox', 'allow-scripts allow-presentation allow-same-origin');\n      }\n      icon.className = 'rmp-ad-container-icons';\n      FW.setStyle(\n        icon,\n        {\n          width: parseInt(iconData.width) + 'px',\n          height: parseInt(iconData.height) + 'px'\n        }\n      );\n      const xPosition = iconData.xPosition;\n      if (xPosition === 'left') {\n        icon.style.left = '0px';\n      } else if (xPosition === 'right') {\n        icon.style.right = '0px';\n      } else if (parseInt(xPosition) >= 0) {\n        icon.style.left = xPosition + 'px';\n      } else {\n        icon.style.left = '0px';\n      }\n      const yPosition = iconData.yPosition;\n      if (yPosition === 'top') {\n        icon.style.top = '0px';\n      } else if (xPosition === 'bottom') {\n        icon.style.bottom = '0px';\n      } else if (parseInt(yPosition) >= 0) {\n        icon.style.top = yPosition + 'px';\n      } else {\n        icon.style.top = '0px';\n      }\n      if (iconData.iconViewTrackingUrl) {\n        icon.onload = this.#onIconLoadPingTracking.bind(this, index);\n      }\n      if (iconData.iconClickThroughUrl) {\n        const onIconClickThroughFn = this.#onIconClickThrough.bind(this, index);\n        FW.addEvents(['touchend', 'click'], icon, onIconClickThroughFn);\n      }\n      if (iconData.htmlContent) {\n        icon.srcdoc = src;\n      } else {\n        icon.src = src;\n      }\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `Selected icon details follow`, icon);\n      this.#adContainer.appendChild(icon);\n    });\n  }\n\n  destroy() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `Start destroying icons`);\n    const icons = this.#adContainer.querySelectorAll('.rmp-ad-container-icons');\n    if (icons.length > 0) {\n      icons.forEach(icon => {\n        FW.removeElement(icon);\n      });\n    }\n    if (this.#adPlayer) {\n      this.#adPlayer.removeEventListener('playing', this.#onPlayingAppendIconsFn);\n    }\n  }\n\n  parse(icons) {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `Start parsing icons`);\n    for (let i = 0; i < icons.length; i++) {\n      const currentIcon = icons[i];\n      const program = currentIcon.program;\n      if (program === null) {\n        continue;\n      }\n      const width = currentIcon.width;\n      const height = currentIcon.height;\n      const xPosition = currentIcon.xPosition;\n      const yPosition = currentIcon.yPosition;\n      if (width <= 0 || height <= 0 || xPosition < 0 || yPosition < 0) {\n        continue;\n      }\n      const staticResourceUrl = currentIcon.staticResource;\n      const iframeResourceUrl = currentIcon.iframeResource;\n      const htmlContent = currentIcon.htmlResource;\n      // we only support StaticResource (HTMLResource not supported)\n      if (staticResourceUrl === null && iframeResourceUrl === null && htmlContent === null) {\n        continue;\n      }\n      const altText = currentIcon.altText;\n      const hoverText = currentIcon.hoverText;\n      const iconData = {\n        program,\n        width,\n        height,\n        xPosition,\n        yPosition,\n        staticResourceUrl,\n        iframeResourceUrl,\n        htmlContent,\n        altText,\n        hoverText\n      };\n      iconData.iconViewTrackingUrl = currentIcon.iconViewTrackingURLTemplate;\n      iconData.iconClickThroughUrl = currentIcon.iconClickThroughURLTemplate;\n      iconData.iconClickTrackingUrls = currentIcon.iconClickTrackingURLTemplates;\n      this.#iconsData.push(iconData);\n    }\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `Validated parsed icons follows`, this.#iconsData);\n  }\n\n  append() {\n    this.#onPlayingAppendIconsFn = this.#onPlayingAppendIcons.bind(this);\n    // as per VAST 3 spec only append icon when ad starts playing\n    this.#adPlayer.addEventListener('playing', this.#onPlayingAppendIconsFn, { once: true });\n  }\n\n}\n","/**\n * @license Copyright (c) 2015-2022 Radiant Media Player | https://www.radiantmediaplayer.com\n * rmp-connection 2.1.0 | https://github.com/radiantmediaplayer/rmp-connection\n * rmp-connection is released under MIT | https://github.com/radiantmediaplayer/rmp-connection/blob/master/LICENSE\n */\n\n/**\n * The class to instantiate RmpConnection\n * @export\n * @class RmpConnection\n*/\nexport default class RmpConnection {\n\n  /**\n    * @constructor\n    */\n  constructor() { }\n\n  /**\n    * @private\n    */\n  _getConnectionType() {\n    if (typeof navigator.connection.type === 'string' && navigator.connection.type !== '') {\n      switch (navigator.connection.type) {\n        case 'ethernet':\n          return 'ethernet';\n        case 'wifi':\n        case 'wimax':\n        case 'mixed':\n        case 'other':\n          return 'wifi';\n        case 'bluetooth':\n        case 'cellular':\n          return 'cellular';\n        case 'none':\n          return 'none';\n        default:\n          break;\n      }\n    }\n    return 'unknown';\n  }\n\n  /**\n    * @private\n    */\n  _getBandwidthEstimate() {\n    if (typeof navigator.connection.downlink === 'number' && navigator.connection.downlink > 0) {\n      return navigator.connection.downlink;\n    } else if (typeof navigator.connection.effectiveType === 'string' && navigator.connection.effectiveType !== '') {\n      switch (navigator.connection.effectiveType) {\n        case 'slow-2g':\n          return 0.025;\n        case '2g':\n          return 0.035;\n        case '3g':\n          return 0.35;\n        case '4g':\n          return 1.4;\n        case '5g':\n          return 5;\n        default:\n          break;\n      }\n    } else if (typeof navigator.connection.type === 'string' && navigator.connection.type !== '') {\n      switch (navigator.connection.type) {\n        case 'ethernet':\n        case 'wifi':\n        case 'wimax':\n        case 'mixed':\n        case 'other':\n          return 1.4;\n        case 'bluetooth':\n        case 'cellular':\n          return 0.35;\n        case 'none':\n          return -1;\n        default:\n          break;\n      }\n    }\n    return 0.35;\n  }\n\n  /** \n   * @typedef {object} BandwidthData\n   * @property {number} estimate\n   * @property {string} connectionType\n   * @return {BandwidthData}\n   */\n  get bandwidthData() {\n\n    // default return values\n    const result = {\n      estimate: -1,\n      connectionType: 'none'\n    };\n\n    // we are offline - exit\n    if (typeof navigator.onLine !== 'undefined' && !navigator.onLine) {\n      return result;\n    }\n\n    // we do not have navigator.connection - exit\n    // for support see https://caniuse.com/#feat=netinfo - works everywhere but in Safari && Firefox \n    if (typeof navigator.connection === 'undefined') {\n      return {\n        estimate: -1,\n        connectionType: 'unknown'\n      };\n    }\n\n    // we return our internal values\n    return {\n      estimate: this._getBandwidthEstimate(),\n      connectionType: this._getConnectionType()\n    };\n  }\n}\n","/**\n * Contains logic for sending mesages between the SIMID creative and the player.\n * Note: Some browsers do not support promises and a more complete implementation\n *       should consider using a polyfill.\n */\n\n\n/** Contains all constants common across SIMID */\nconst ProtocolMessage = {\n  CREATE_SESSION: 'createSession',\n  RESOLVE: 'resolve',\n  REJECT: 'reject'\n};\n\nconst MediaMessage = {\n  DURATION_CHANGE: 'Media:durationchange',\n  ENDED: 'Media:ended',\n  ERROR: 'Media:error',\n  PAUSE: 'Media:pause',\n  PLAY: 'Media:play',\n  PLAYING: 'Media:playing',\n  SEEKED: 'Media:seeked',\n  SEEKING: 'Media:seeking',\n  TIME_UPDATE: 'Media:timeupdate',\n  VOLUME_CHANGE: 'Media:volumechange',\n};\n\nconst PlayerMessage = {\n  RESIZE: 'Player:resize',\n  INIT: 'Player:init',\n  LOG: 'Player:log',\n  START_CREATIVE: 'Player:startCreative',\n  AD_SKIPPED: 'Player:adSkipped',\n  AD_STOPPED: 'Player:adStopped',\n  FATAL_ERROR: 'Player:fatalError',\n};\n\n/** Messages from the creative */\nconst CreativeMessage = {\n  CLICK_THRU: 'Creative:clickThru',\n  EXPAND_NONLINEAR: 'Creative:expandNonlinear',\n  COLLAPSE_NONLINEAR: 'Creative:collapseNonlinear',\n  FATAL_ERROR: 'Creative:fatalError',\n  GET_MEDIA_STATE: 'Creative:getMediaState',\n  LOG: 'Creative:log',\n  REQUEST_FULL_SCREEN: 'Creative:requestFullScreen',\n  REQUEST_SKIP: 'Creative:requestSkip',\n  REQUEST_STOP: 'Creative:requestStop',\n  REQUEST_PAUSE: 'Creative:requestPause',\n  REQUEST_PLAY: 'Creative:requestPlay',\n  REQUEST_RESIZE: 'Creative:requestResize',\n  REQUEST_VOLUME: 'Creative:requestVolume',\n  REQUEST_TRACKING: 'Creative:reportTracking',\n  REQUEST_CHANGE_AD_DURATION: 'Creative:requestChangeAdDuration'\n};\n\n/**\n * These messages require a response (either resolve or reject).\n * All other messages do not require a response and are information only.\n */\nconst EventsThatRequireResponse = [\n  CreativeMessage.GET_MEDIA_STATE,\n  CreativeMessage.REQUEST_VIDEO_LOCATION,\n  CreativeMessage.READY,\n  CreativeMessage.CLICK_THRU,\n  CreativeMessage.REQUEST_SKIP,\n  CreativeMessage.REQUEST_STOP,\n  CreativeMessage.REQUEST_PAUSE,\n  CreativeMessage.REQUEST_PLAY,\n  CreativeMessage.REQUEST_FULL_SCREEN,\n  CreativeMessage.REQUEST_VOLUME,\n  CreativeMessage.REQUEST_RESIZE,\n  CreativeMessage.REQUEST_CHANGE_AD_DURATION,\n  CreativeMessage.REPORT_TRACKING,\n  PlayerMessage.INIT,\n  PlayerMessage.START_CREATIVE,\n  PlayerMessage.AD_SKIPPED,\n  PlayerMessage.AD_STOPPED,\n  PlayerMessage.FATAL_ERROR,\n  ProtocolMessage.CREATE_SESSION,\n];\n\n// A list of errors the creative might send to the player.\nconst CreativeErrorCode = {\n  UNSPECIFIED: 1100,\n  CANNOT_LOAD_RESOURCE: 1101,\n  PLAYBACK_AREA_UNUSABLE: 1102,\n  INCORRECT_VERSION: 1103,\n  TECHNICAL_ERROR: 1104,\n  EXPAND_NOT_POSSIBLE: 1105,\n  PAUSE_NOT_HONORED: 1106,\n  PLAYMODE_NOT_ADEQUATE: 1107,\n  CREATIVE_INTERNAL_ERROR: 1108,\n  DEVICE_NOT_SUPPORTED: 1109,\n  MESSAGES_NOT_FOLLOWING_SPEC: 1110,\n  PLAYER_RESPONSE_TIMEOUT: 1111,\n};\n\n// A list of errors the player might send to the creative.\nconst PlayerErrorCode = {\n  UNSPECIFIED: 1200,\n  WRONG_VERSION: 1201,\n  UNSUPPORTED_TIME: 1202,\n  UNSUPPORTED_FUNCTIONALITY_REQUEST: 1203,\n  UNSUPPORTED_ACTIONS: 1204,\n  POSTMESSAGE_CHANNEL_OVERLOADED: 1205,\n  VIDEO_COULD_NOT_LOAD: 1206,\n  VIDEO_TIME_OUT: 1207,\n  RESPONSE_TIMEOUT: 1208,\n  MEDIA_NOT_SUPPORTED: 1209,\n  SPEC_NOT_FOLLOWED_ON_INIT: 1210,\n  SPEC_NOT_FOLLOWED_ON_MESSAGES: 1211,\n};\n\n// A list of reasons a player could stop the ad.\nconst StopCode = {\n  UNSPECIFIED: 0,\n  USER_INITIATED: 1,\n  MEDIA_PLAYBACK_COMPLETE: 2,\n  PLAYER_INITATED: 3,\n  CREATIVE_INITIATED: 4,\n  NON_LINEAR_DURATION_COMPLETE: 5,\n};\n\n\nclass SimidProtocol {\n\n  constructor() {\n    /*\n     * A map of messsage type to an array of callbacks.\n     * @private {Map<String, Array<Function>>}\n     */\n    this.listeners_ = {};\n\n    /*\n     * The session ID for this protocol.\n     * @private {String}\n     */\n    this.sessionId_ = '';\n\n    /**\n     * The next message ID to use when sending a message.\n     * @private {number}\n     */\n    this.nextMessageId_ = 1;\n\n    /**\n     * The window where the message should be posted to.\n     * @private {!Element}\n     */\n    this.target_ = window.parent;\n\n    this.resolutionListeners_ = {};\n\n    window.addEventListener('message', this.receiveMessage.bind(this), false);\n  }\n\n  /* Reverts this protocol to its original state */\n  reset() {\n    this.listeners_ = {};\n    this.sessionId_ = '';\n    this.nextMessageId_ = 1;\n    // TODO: Perhaps we should reject all associated promises.\n    this.resolutionListeners_ = {};\n  }\n\n  /**\n   * Sends a message using post message.  Returns a promise\n   * that will resolve or reject after the message receives a response.\n   * @param {string} messageType The name of the message\n   * @param {?Object} messageArgs The arguments for the message, may be null.\n   * @return {!Promise} Promise that will be fulfilled when client resolves or rejects.\n   */\n  sendMessage(messageType, messageArgs) {\n    // Incrementing between messages keeps each message id unique.\n    const messageId = this.nextMessageId_++;\n    // Only create session does not need to be in the SIMID name space\n    // because it is part of the protocol.\n    const nameSpacedMessage =\n      messageType === ProtocolMessage.CREATE_SESSION ?\n        messageType :\n        'SIMID:' + messageType;\n    // The message object as defined by the SIMID spec.\n    const message = {\n      sessionId: this.sessionId_,\n      messageId,\n      type: nameSpacedMessage,\n      timestamp: Date.now(),\n      args: messageArgs\n    };\n\n    if (EventsThatRequireResponse.includes(messageType)) {\n      // If the message requires a callback this code will set\n      // up a promise that will call resolve or reject with its parameters.\n      return new Promise((resolve, reject) => {\n        this.addResolveRejectListener_(messageId, resolve, reject);\n        this.target_.postMessage(JSON.stringify(message), '*');\n      });\n    }\n    // A default promise will just resolve immediately.\n    // It is assumed no one would listen to these promises, but if they do\n    // it will \"just work\".\n    return new Promise((resolve) => {\n      this.target_.postMessage(JSON.stringify(message), '*');\n      resolve();\n    });\n  }\n\n  /**\n   * Adds a listener for a given message.\n   */\n  addListener(messageType, callback) {\n    if (!this.listeners_[messageType]) {\n      this.listeners_[messageType] = [callback];\n    } else {\n      this.listeners_[messageType].push(callback);\n    }\n  }\n\n  /**\n   * Sets up a listener for resolve/reject messages.\n   * @private\n   */\n  addResolveRejectListener_(messageId, resolve, reject) {\n    const listener = (data) => {\n      const type = data.type;\n      const args = data.args.value;\n      if (type === 'resolve') {\n        resolve(args);\n      } else if (type === 'reject') {\n        reject(args);\n      }\n    };\n    this.resolutionListeners_[messageId] = listener.bind(this);\n  }\n\n  /**\n   * Recieves messages from either the player or creative.\n   */\n  receiveMessage(event) {\n    if (!event || !event.data) {\n      return;\n    }\n    let data;\n    try {\n      data = JSON.parse(event.data);\n    } catch (error) {\n      console.warn(error);\n      return;\n    }\n    if (!data) {\n      // If there is no data in the event this is not a SIMID message.\n      return;\n    }\n    const sessionId = data.sessionId;\n\n    const type = data.type;\n    // A sessionId is valid in one of two cases:\n    // 1. It is not set and the message type is createSession.\n    // 2. The session ids match exactly.\n    const isCreatingSession = this.sessionId_ === '' && type === ProtocolMessage.CREATE_SESSION;\n    const isSessionIdMatch = this.sessionId_ === sessionId;\n    const validSessionId = isCreatingSession || isSessionIdMatch;\n\n    if (!validSessionId || type === null) {\n      // Ignore invalid messages.\n      return;\n    }\n\n    // There are 2 types of messages to handle:\n    // 1. Protocol messages (like resolve, reject and createSession)\n    // 2. Messages starting with SIMID:\n    // All other messages are ignored.\n    if (Object.values(ProtocolMessage).includes(type)) {\n      this.handleProtocolMessage_(data);\n    } else if (type.startsWith('SIMID:')) {\n      // Remove SIMID: from the front of the message so we can compare them with the map.\n      const specificType = type.substr(6);\n      const listeners = this.listeners_[specificType];\n      if (listeners) {\n        listeners.forEach((listener) => listener(data));\n      }\n    }\n  }\n\n  /**\n   * Handles incoming messages specifically for the protocol\n   * @param {!Object} data Data passed back from the message\n   * @private\n   */\n  handleProtocolMessage_(data) {\n    const type = data.type;\n    let listeners, args, correlatingId, resolutionFunction;\n    switch (type) {\n      case ProtocolMessage.CREATE_SESSION:\n        this.sessionId_ = data.sessionId;\n        this.resolve(data);\n        listeners = this.listeners_[type];\n        if (listeners) {\n          // calls each of the listeners with the data.\n          listeners.forEach((listener) => listener(data));\n        }\n        break;\n      case ProtocolMessage.RESOLVE:\n      // intentional fallthrough\n      case ProtocolMessage.REJECT:\n        args = data.args;\n        correlatingId = args.messageId;\n        resolutionFunction = this.resolutionListeners_[correlatingId];\n        if (resolutionFunction) {\n          // If the listener exists call it once only.\n          resolutionFunction(data);\n          delete this.resolutionListeners_[correlatingId];\n        }\n        break;\n    }\n  }\n\n\n  /**\n   * Resolves an incoming message.\n   * @param {!Object} incomingMessage the message that is being resolved.\n   * @param {!Object} outgoingArgs Any arguments that are part of the resolution.\n   */\n  resolve(incomingMessage, outgoingArgs) {\n    const messageId = this.nextMessageId_++;\n    const resolveMessageArgs = {\n      messageId: incomingMessage.messageId,\n      value: outgoingArgs,\n    };\n    const message = {\n      sessionId: this.sessionId_,\n      messageId,\n      type: ProtocolMessage.RESOLVE,\n      timestamp: Date.now(),\n      args: resolveMessageArgs\n    };\n    this.target_.postMessage(JSON.stringify(message), '*');\n  }\n\n  /**\n   * Rejects an incoming message.\n   * @param {!Object} incomingMessage the message that is being resolved.\n   * @param {!Object} outgoingArgs Any arguments that are part of the resolution.\n   */\n  reject(incomingMessage, outgoingArgs) {\n    const messageId = this.nextMessageId_++;\n    const rejectMessageArgs = {\n      messageId: incomingMessage.messageId,\n      value: outgoingArgs,\n    };\n    const message = {\n      sessionId: this.sessionId_,\n      messageId,\n      type: ProtocolMessage.REJECT,\n      timestamp: Date.now(),\n      args: rejectMessageArgs\n    };\n    this.target_.postMessage(JSON.stringify(message), '*');\n  }\n\n  /**\n   * Creates a new session.\n   * @param {String} sessionId\n   * @return {!Promise} The promise from the create session message.\n   */\n  createSession() {\n    const sessionCreationResolved = () => {\n      console.log(`SIMID: Session created`);\n    };\n    const sessionCreationRejected = () => {\n      // If this ever happens, it may be impossible for the ad\n      // to ever communicate with the player.\n      console.log(`SIMID: Session creation was rejected`);\n    };\n    this.generateSessionId_();\n    this.sendMessage(ProtocolMessage.CREATE_SESSION).then(\n      sessionCreationResolved, sessionCreationRejected);\n  }\n\n  /**\n   * Sets the session ID, this should only be used on session creation.\n   * @private\n   */\n  generateSessionId_() {\n    // This function generates a random v4 UUID. In a v4 UUID, of the format\n    // xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx, all bits are selected randomly,\n    // except the bits of 'M', which must be equal to 4, and 'N', whose first 2\n    // most significant bits must be set to 10b. So in total only 122 of the 128\n    // bits are random. See\n    // https://en.wikipedia.org/wiki/Universally_unique_identifier for more.\n\n    // crypto.getRandomValues is preferred over crypto.randomUUID since it\n    // supports much older browsers including IE, and doesn't require a secure\n    // context.\n\n    // Create 128 random bits (8-bit * 16).\n    const random16Uint8s = new Uint8Array(16);\n    window.crypto.getRandomValues(random16Uint8s);\n    // Split each 8-bit int into two 4-bit ints (4-bit * 32).\n    const random32Uint4s = Array.from(Array(32).keys()).map(index => {\n      const isEven = index % 2 === 0;\n      const randomUint8 = random16Uint8s[Math.floor(index / 2)];\n      // Pick the high 4 bits for even indices, the low 4 bits for odd.\n      return isEven ? (randomUint8 >> 4) : (randomUint8 & 15);\n    });\n\n    // Fix the 12th digit to 4 for the UUID version.\n    random32Uint4s[12] = 4;\n    // Fix the 16th digit's 2 high bits to 10b for UUID variant 1.\n    random32Uint4s[16] = 0b1000 | (random32Uint4s[16] & 0b0011);\n\n    const hexDigits = random32Uint4s.map(v => v.toString(16));\n    const uuidComponents = [\n      hexDigits.slice(0, 8).join(''),\n      hexDigits.slice(8, 12).join(''),\n      hexDigits.slice(12, 16).join(''),\n      hexDigits.slice(16, 20).join(''),\n      hexDigits.slice(20).join(''),\n    ];\n    const uuid = uuidComponents.join('-');\n    this.sessionId_ = uuid;\n  }\n\n  setMessageTarget(target) {\n    this.target_ = target;\n  }\n}\n\nexport {\n  SimidProtocol,\n  ProtocolMessage,\n  MediaMessage,\n  PlayerMessage,\n  CreativeMessage,\n  CreativeErrorCode,\n  PlayerErrorCode,\n  StopCode\n};\n","// TODO\n// Check fullscreen management\n// Check common error and error code reporting\n// Add non-linear support\n// Check mid-post-roll/adpod support\n// Evalaute iOS support\n\nimport {\n  SimidProtocol,\n  ProtocolMessage,\n  MediaMessage,\n  PlayerMessage,\n  CreativeMessage,\n  CreativeErrorCode,\n  PlayerErrorCode,\n  StopCode\n} from './simid_protocol';\nimport Logger from '../../framework/logger';\n\nconst NO_REQUESTED_DURATION = 0;\nconst UNLIMITED_DURATION = -2;\n\n\n/** \n * All the logic for a simple SIMID player\n */\nexport default class SimidPlayer {\n\n  /**\n   * Sets up the creative iframe and starts listening for messages\n   * from the creative.\n   */\n  constructor(url, rmpVast) {\n    /**\n     * The protocol for sending and receiving messages.\n     * @protected {!SimidProtocol}\n     */\n    this.simidProtocol = new SimidProtocol();\n\n    this.addListeners_();\n\n    this.rmpVast_ = rmpVast;\n    this.simidData_ = rmpVast.creative.simid;\n    this.adContainer_ = rmpVast.adContainer;\n    this.playerDiv_ = rmpVast.contentWrapper;\n    this.adPlayerUrl_ = url;\n    this.adParameters_ = rmpVast.creative.simid.adParameters;\n    this.adId_ = rmpVast.creative.adId;\n    this.creativeId_ = rmpVast.creative.id;\n    this.adServingId_ = rmpVast.ad.adServingId;\n    this.clickThroughUrl_ = rmpVast.creative.clickThroughUrl;\n\n\n    /**\n     * A reference to the video player on the players main page\n     * @private {!Element}\n     */\n    this.contentVideoElement_ = rmpVast.currentContentPlayer;\n\n    /**\n     * A reference to a video player for playing ads.\n     * @private {!Element}\n     */\n    this.adVideoElement_ = rmpVast.currentAdPlayer;\n\n    /**\n     * A reference to the iframe holding the SIMID creative.\n     * @private {?Element}\n     */\n    this.simidIframe_ = null;\n\n    /**\n     * A reference to the promise returned when initialization was called.\n     * @private {?Promise}\n     */\n    this.initializationPromise_ = null;\n\n    /**\n     * A map of events tracked on the ad video element.\n     * @private {!Map}\n     */\n    this.adVideoTrackingEvents_ = new Map();\n\n    /**\n     * A map of events tracked on the content video element.\n     * @private {!Map}\n     */\n    this.contentVideoTrackingEvents_ = new Map();\n\n    /**\n     * A boolean indicating what type of creative ad is.\n     * @const @private {boolean}\n     */\n    this.isLinearAd_ = rmpVast.creative.isLinear;\n\n    /**\n     * A number indicating when the non linear ad started.\n     * @private {?number}\n     */\n    this.nonLinearStartTime_ = null;\n\n    /**\n     * The duration requested by the ad.\n     * @private {number}\n     */\n    this.requestedDuration_ = NO_REQUESTED_DURATION;\n\n    /**\n     * Resolution function for the session created message\n     * @private {?Function}\n     */\n    this.resolveSessionCreatedPromise_ = null;\n\n    /**\n     * A promise that resolves once the creative creates a session.\n     * @private {!Promise}\n     */\n    this.sessionCreatedPromise_ = new Promise(resolve => {\n      this.resolveSessionCreatedPromise_ = resolve;\n    });\n\n    /**\n     * Resolution function for the ad being initialized.\n     * @private {?Function}\n     */\n    this.resolveInitializationPromise_ = null;\n\n    /**\n     * Reject function for the ad being initialized.\n     * @private {?Function}\n     */\n    this.rejectInitializationPromise_ = null;\n\n    /**\n     * An object containing the resized nonlinear creative's dimensions.\n     * @private {?Object}\n     */\n    this.nonLinearDimensions_ = null;\n\n    /** The unique ID for the interval used to compares the requested change \n     *  duration and the current ad time.\n     * @private {number}\n     */\n    this.durationInterval_ = null;\n\n    /**\n     * A promise that resolves once the creative responds to initialization with resolve.\n     * @private {!Promise}\n     */\n    this.initializationPromise_ = new Promise((resolve, reject) => {\n      this.resolveInitializationPromise_ = resolve;\n      this.rejectInitializationPromise_ = reject;\n    });\n\n\n    this.trackEventsOnAdVideoElement_();\n    this.trackEventsOnContentVideoElement_();\n    this.hideAdPlayer_();\n    Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: player created`);\n  }\n\n  /**\n   * Initializes an ad. This should be called before an ad plays.\n   * Creates an iframe with the creative in it, then uses a promise\n   * to call init on the creative as soon as the creative initializes\n   * a session.\n   */\n  initializeAd() {\n    if (!this.isLinearAd_ && !this.isValidDimensions_(this.getNonlinearDimensions_())) {\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: Unable to play a non-linear ad with dimensions bigger than the player. Please modify dimensions to a smaller size.`);\n      return;\n    }\n\n    // After the iframe is created the player will wait until the ad\n    // initializes the communication channel. Then it will call\n    // sendInitMessage.\n    this.simidIframe_ = this.createSimidIframe_();\n\n    if (!this.isLinearAd_) {\n      this.displayNonlinearCreative_();\n    }\n\n    this.requestDuration_ = NO_REQUESTED_DURATION;\n\n    // Prepare for the case that init fails before sending\n    // the init message. Initialization failing means abandoning\n    // the ad.\n    this.initializationPromise_.catch(error => {\n      this.onAdInitializedFailed_(error);\n    });\n\n    // Using a promise means that the init message will\n    // send as soon as the session is created. If the session\n    // is already created this will send the init message immediately.\n    this.sessionCreatedPromise_.then(() => {\n      this.sendInitMessage_();\n    });\n    Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: initializeAd`);\n  }\n\n  /**\n   * Plays a SIMID  creative once it has responded to the initialize ad message.\n   */\n  playAd() {\n\n    // This example waits for the ad to be initialized, before playing video.\n    // NOTE: Not all players will wait for session creation and initialization\n    // before they start playback.\n    this.initializationPromise_.then(() => {\n      this.startCreativePlayback_();\n    }).catch(error => {\n      console.warn(error);\n    });\n  }\n\n  /** Plays the video ad element. */\n  playAdVideo() {\n    this.adVideoElement_.play();\n  }\n\n  /**\n   * Sets up an iframe for holding the simid element.\n   *\n   * @return {!Element} The iframe where the simid element lives.\n   * @private\n   */\n  createSimidIframe_() {\n    const simidIframe = document.createElement('iframe');\n    simidIframe.style.display = 'none';\n    // The target of the player to send messages to is the newly\n    // created iframe.\n    this.playerDiv_.appendChild(simidIframe);\n\n    if (this.isLinearAd_) {\n      // Set up css to overlay the SIMID iframe over the entire video creative\n      // only if linear. Non-linear ads will have dimension inputs for placement\n      simidIframe.classList.add('rmp-linear-simid-creative');\n    }\n\n    this.simidProtocol.setMessageTarget(simidIframe.contentWindow);\n    simidIframe.setAttribute('allowFullScreen', '');\n    simidIframe.setAttribute('allow', 'geolocation');\n    simidIframe.src = this.simidData_.fileURL;\n    return simidIframe;\n  }\n\n  /**\n   * Listens to all relevant messages from the SIMID add.\n   * @private\n   */\n  addListeners_() {\n    this.simidProtocol.addListener(ProtocolMessage.CREATE_SESSION, this.onSessionCreated_.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.REQUEST_FULL_SCREEN, this.onRequestFullScreen.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.REQUEST_PLAY, this.onRequestPlay.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.REQUEST_PAUSE, this.onRequestPause.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.FATAL_ERROR, this.onCreativeFatalError.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.REQUEST_SKIP, this.onRequestSkip.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.REQUEST_STOP, this.onRequestStop.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.REQUEST_CHANGE_AD_DURATION,\n      this.onRequestChangeAdDuration.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.GET_MEDIA_STATE, this.onGetMediaState.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.LOG, this.onReceiveCreativeLog.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.EXPAND_NONLINEAR, this.onExpandResize.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.COLLAPSE_NONLINEAR, this.onCollapse.bind(this));\n    this.simidProtocol.addListener(CreativeMessage.REQUEST_RESIZE, this.onRequestResize.bind(this));\n  }\n\n  /**\n   * Resolves the session created promise.\n   * @private\n   */\n  onSessionCreated_() {\n    // Anything that must happen after the session is created can now happen\n    // since this promise is resolved.\n    this.resolveSessionCreatedPromise_();\n  }\n\n  /**\n   * Destroys the existing simid iframe.\n   * @private\n   */\n  destroySimidIframe_() {\n    if (this.simidIframe_) {\n      this.simidIframe_.remove();\n      this.simidIframe_ = null;\n      this.simidProtocol.reset();\n    }\n    for (let [key, func] of this.adVideoTrackingEvents_) {\n      this.adVideoElement_.removeEventListener(key, func, true);\n    }\n    for (let [key, func] of this.contentVideoTrackingEvents_) {\n      this.contentVideoElement_.removeEventListener(key, func, true);\n    }\n    this.adVideoTrackingEvents_.clear();\n    this.contentVideoTrackingEvents_.clear();\n  }\n\n  /**\n   * Returns the full dimensions of an element within the player div.\n   * @private\n   * @return {!Object}\n   */\n  // eslint-disable-next-line\n  getFullDimensions_(elem) {\n    const videoRect = elem.getBoundingClientRect();\n\n    return {\n      x: 0,\n      y: 0,\n      width: videoRect.width,\n      height: videoRect.height\n    };\n  }\n\n  /**\n   * Checks whether the input dimensions are valid and fit in the player window.\n   * @private\n   * @param {!Object} dimensions A dimension that contains x, y, width & height fields.\n   * @return {boolean}\n   */\n  isValidDimensions_(dimensions) {\n    const playerRect = this.playerDiv_.getBoundingClientRect();\n\n    const heightFits = parseInt(dimensions.y) + parseInt(dimensions.height) <= parseInt(playerRect.height);\n    const widthFits = parseInt(dimensions.x) + parseInt(dimensions.width) <= parseInt(playerRect.width);\n\n    return heightFits && widthFits;\n  }\n\n  /**\n   * Returns the specified dimensions of the non-linear creative.\n   * @private\n   * @return {!Object}\n   */\n  getNonlinearDimensions_() {\n    if (this.nonLinearDimensions_) {\n      return this.nonLinearDimensions_;\n    }\n    let newDimensions = {};\n    newDimensions.x = document.getElementById('x_val').value;\n    newDimensions.y = document.getElementById('y_val').value;\n    newDimensions.width = document.getElementById('width').value;\n    newDimensions.height = document.getElementById('height').value;\n    return newDimensions;\n  }\n\n  /** \n   * Validates and displays the non-linear creative.\n   * @private\n   */\n  displayNonlinearCreative_() {\n    const newDimensions = this.getNonlinearDimensions_();\n\n    if (!this.isValidDimensions_(newDimensions)) {\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: Unable to play a non-linear ad with dimensions bigger than the player. Please modify dimensions to a smaller size.`);\n      return;\n    } else {\n      this.setSimidIframeDimensions_(newDimensions);\n      this.simidIframe_.style.position = 'absolute';\n\n      this.contentVideoElement_.play();\n\n      const nonLinearDuration = document.getElementById('duration').value;\n      this.requestedDuration_ = nonLinearDuration;\n    }\n  }\n\n  /**\n   * Changes the simid iframe dimensions to the given dimensions.\n   * @private\n   * @param {!Object} resizeDimensions A dimension that contains an x,y,width & height fields.\n   */\n  setSimidIframeDimensions_(resizeDimensions) {\n    this.simidIframe_.style.height = resizeDimensions.height;\n    this.simidIframe_.style.width = resizeDimensions.width;\n    this.simidIframe_.style.left = `${resizeDimensions.x}px`;\n    this.simidIframe_.style.top = `${resizeDimensions.y}px`;\n  }\n\n  /** \n   * The creative wants to expand the ad.\n   * @param {!Object} incomingMessage Message sent from the creative to the player\n   */\n  onExpandResize(incomingMessage) {\n    if (this.isLinearAd_) {\n      const errorMessage = {\n        errorCode: CreativeErrorCode.EXPAND_NOT_POSSIBLE,\n        message: 'Linear resize not yet supported.'\n      };\n      this.simidProtocol.reject(incomingMessage, errorMessage);\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: ${errorMessage.message}`);\n    } else {\n      const fullDimensions = this.getFullDimensions_(this.contentVideoElement_);\n      this.setSimidIframeDimensions_(fullDimensions);\n\n      this.contentVideoElement_.pause();\n      this.simidProtocol.resolve(incomingMessage);\n    }\n  }\n\n  /** \n   * The creative wants to collapse the ad. \n   * @param {!Object} incomingMessage Message sent from the creative to the player\n   */\n  onCollapse(incomingMessage) {\n    const newDimensions = this.getNonlinearDimensions_();\n\n    if (this.isLinearAd_) {\n      const errorMessage = {\n        message: 'Cannot collapse linear ads.'\n      };\n      this.simidProtocol.reject(incomingMessage, errorMessage);\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: ${errorMessage.message}`);\n    } else if (!this.isValidDimensions_(newDimensions)) {\n      const errorMessage = {\n        message: 'Unable to collapse to dimensions bigger than the player. Please modify dimensions to a smaller size.'\n      };\n      this.simidProtocol.reject(incomingMessage, errorMessage);\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: ${errorMessage.message}`);\n    } else {\n      this.setSimidIframeDimensions_(newDimensions);\n      this.simidIframe_.style.position = 'absolute';\n      this.contentVideoElement_.play();\n      this.simidProtocol.resolve(incomingMessage);\n    }\n  }\n\n  /**\n   * The creative wants to resize the ad.\n   * @param {!Object} incomingMessage Message sent from the creative to the player.\n   */\n  onRequestResize(incomingMessage) {\n    if (this.isLinearAd_) {\n      const errorMessage = {\n        errorCode: CreativeErrorCode.EXPAND_NOT_POSSIBLE,\n        message: 'Linear resize not yet supported.'\n      };\n      this.simidProtocol.reject(incomingMessage, errorMessage);\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: ${errorMessage.message}`);\n\n    } else if (!this.isValidDimensions_(incomingMessage.args.creativeDimensions)) {\n      const errorMessage = {\n        errorCode: CreativeErrorCode.EXPAND_NOT_POSSIBLE,\n        message: 'Unable to resize a non-linear ad with dimensions bigger than the player. Please modify dimensions to a smaller size.'\n      };\n      this.simidProtocol.reject(incomingMessage, errorMessage);\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: ${errorMessage.message}`);\n    } else {\n      this.nonLinearDimensions_ = incomingMessage.args.creativeDimensions;\n      this.setSimidIframeDimensions_(incomingMessage.args.creativeDimensions);\n      this.simidProtocol.resolve(incomingMessage);\n    }\n  }\n\n  /**\n   * Initializes the SIMID creative with all data it needs.\n   * @private\n   */\n  sendInitMessage_() {\n    const videoDimensions = this.getFullDimensions_(this.contentVideoElement_);\n    // Since the creative starts as hidden it will take on the\n    // video element dimensions, so tell the ad about those dimensions.\n    const creativeDimensions = this.isLinearAd_ ? this.getFullDimensions_(this.contentVideoElement_) : this.getNonlinearDimensions_();\n\n    const environmentData = {\n      videoDimensions,\n      creativeDimensions,\n      fullscreen: false,\n      fullscreenAllowed: true,\n      variableDurationAllowed: true,\n      skippableState: 'adHandles', // This player does not render a skip button.\n      siteUrl: document.location.host,\n      appId: '', // This is not relevant on desktop\n      useragent: window.navigator.userAgent, // This should be filled in for sdks and players\n      deviceId: '', // This should be filled in on mobile\n      muted: this.adVideoElement_.muted,\n      volume: this.adVideoElement_.volume\n    };\n\n    const creativeData = {\n      adParameters: this.adParameters_,\n      // These values should be populated from the VAST response.\n      adId: this.adId_,\n      creativeId: this.creativeId_,\n      adServingId: this.adServingId_,\n      clickThroughUrl: this.clickThroughUrl_\n    };\n\n    if (!this.isLinearAd_) {\n      creativeData.duration = document.getElementById('duration').value;\n    }\n\n    const initMessage = {\n      environmentData,\n      creativeData\n    };\n    const initPromise = this.simidProtocol.sendMessage(\n      PlayerMessage.INIT, initMessage);\n    initPromise.then(args => {\n      this.resolveInitializationPromise_(args);\n    }).catch(args => {\n      this.rejectInitializationPromise_(args);\n    });\n  }\n\n  /**\n   * Called once the creative responds positively to being initialized.\n   * @private\n   */\n  startCreativePlayback_() {\n    // Once the ad is successfully initialized it can start.\n    // If the ad is not visible it must be made visible here.\n    this.showSimidIFrame_();\n\n    if (this.isLinearAd_) {\n      this.playLinearVideoAd_();\n    } else {\n      this.nonLinearStartTime_ = this.contentVideoElement_.currentTime;\n      this.contentVideoElement_.play();\n    }\n\n    this.simidProtocol.sendMessage(PlayerMessage.START_CREATIVE);\n    // TODO: handle creative rejecting startCreative message.\n  }\n\n  /** \n   * Pauses content video and plays linear ad.\n   * @private \n   */\n  playLinearVideoAd_() {\n    this.contentVideoElement_.pause();\n    this.showAdPlayer_();\n    this.adVideoElement_.src = this.adPlayerUrl_;\n    // we need this extra load for Chrome data saver mode in mobile or desktop\n    this.adVideoElement_.load();\n    this.adVideoElement_.play();\n  }\n\n  /**\n   * Called if the creative responds with reject after the player\n   * initializes the ad.\n   * @param {!Object} data\n   * @private\n   */\n  onAdInitializedFailed_(data) {\n    const errorData = JSON.stringify(data);\n    Logger.print(this.rmpVast_.debugRawConsoleLogs, ` SIMID: Ad init failed. ${errorData}`);\n    this.destroyIframeAndResumeContent_(true, errorData.errorCode);\n  }\n\n  /** @private */\n  hideSimidIFrame_() {\n    this.simidIframe_.style.display = 'none';\n  }\n\n  /** @private */\n  showSimidIFrame_() {\n    this.simidIframe_.style.display = 'block';\n  }\n\n  /** @private */\n  showAdPlayer_() {\n    // show the ad video element\n    this.adVideoElement_.style.display = 'block';\n    this.adContainer_.style.display = 'block';\n  }\n\n  /** @private */\n  hideAdPlayer_() {\n    // Unload the video\n    this.adVideoElement_.style.display = 'none';\n    this.adContainer_.style.display = 'none';\n  }\n\n  /**\n   * Tracks the events on the ad video element specified by the simid spec\n   * @private\n   */\n  trackEventsOnAdVideoElement_() {\n    this.adVideoTrackingEvents_.set('durationchange', () => {\n      this.simidProtocol.sendMessage(MediaMessage.DURATION_CHANGE,\n        { duration: this.adVideoElement_.duration });\n    });\n    this.adVideoTrackingEvents_.set('ended', this.videoComplete.bind(this));\n    this.adVideoTrackingEvents_.set('error', () => {\n      this.simidProtocol.sendMessage(MediaMessage.ERROR,\n        {\n          error: '', // TODO fill in these values correctly\n          message: ''\n        });\n    });\n    this.adVideoTrackingEvents_.set('pause', () => {\n      this.simidProtocol.sendMessage(MediaMessage.PAUSE);\n    });\n    this.adVideoTrackingEvents_.set('play', () => {\n      this.simidProtocol.sendMessage(MediaMessage.PLAY);\n    });\n    this.adVideoTrackingEvents_.set('playing', () => {\n      this.simidProtocol.sendMessage(MediaMessage.PLAYING);\n    });\n    this.adVideoTrackingEvents_.set('seeked', () => {\n      this.simidProtocol.sendMessage(MediaMessage.SEEKED);\n    });\n    this.adVideoTrackingEvents_.set('seeking', () => {\n      this.simidProtocol.sendMessage(MediaMessage.SEEKING);\n    });\n    this.adVideoTrackingEvents_.set('timeupdate', () => {\n      this.simidProtocol.sendMessage(MediaMessage.TIME_UPDATE,\n        { currentTime: this.adVideoElement_.currentTime });\n      this.compareAdAndRequestedDurations_();\n    });\n    this.adVideoTrackingEvents_.set('volumechange', () => {\n      this.simidProtocol.sendMessage(MediaMessage.VOLUME_CHANGE,\n        { volume: this.adVideoElement_.volume });\n    });\n\n    for (let [key, func] of this.adVideoTrackingEvents_) {\n      this.adVideoElement_.addEventListener(key, func, true);\n    }\n  }\n\n  /**\n   * Tracks the events on the content video element.\n   * @private\n   */\n  trackEventsOnContentVideoElement_() {\n    this.contentVideoTrackingEvents_.set('timeupdate', () => {\n      if (this.nonLinearStartTime_ !== null &&\n        (this.contentVideoElement_.currentTime - this.nonLinearStartTime_ > this.requestedDuration_)) {\n        this.stopAd(StopCode.NON_LINEAR_DURATION_COMPLETE);\n      }\n    });\n\n    for (let [key, func] of this.contentVideoTrackingEvents_) {\n      this.contentVideoElement_.addEventListener(key, func, true);\n    }\n  }\n\n  /**\n   * Stops the ad and destroys the ad iframe.\n   * @param {StopCode} reason The reason the ad will stop.\n   */\n  stopAd(reason = StopCode.PLAYER_INITATED, error, errorCode) {\n    // The iframe is only hidden on ad stoppage. The ad might still request\n    // tracking pixels before it is cleaned up.\n    if (this.simidIframe_) {\n      this.hideSimidIFrame_();\n      /*const closeMessage = {\n        'code': reason,\n      };*/\n      // Wait for the SIMID creative to acknowledge stop and then clean\n      // up the iframe.\n      Logger.print(this.rmpVast_.debugRawConsoleLogs, ` SIMID: stopAd ${reason}`);\n      this.simidProtocol.sendMessage(PlayerMessage.AD_STOPPED).\n        then(() => this.destroyIframeAndResumeContent_(error, errorCode));\n    }\n  }\n\n  /**\n   * Skips the ad and destroys the ad iframe.\n   */\n  skipAd() {\n    // The iframe is only hidden on ad skipped. The ad might still request\n    // tracking pixels before it is cleaned up.\n    this.hideSimidIFrame_();\n    // Wait for the SIMID creative to acknowledge skip and then clean\n    // up the iframe.\n    this.simidProtocol.sendMessage(PlayerMessage.AD_SKIPPED).\n      then(() => this.destroyIframeAndResumeContent_());\n  }\n\n  /**\n   * Removes the simid ad entirely and resumes video playback.\n   * @private\n   */\n  destroyIframeAndResumeContent_(error, errorCode) {\n    //this.hideAdPlayer_();\n    //this.adVideoElement_.src = '';\n    this.destroySimidIframe_();\n    //this.contentVideoElement_.play();\n    if (error) {\n      this.rmpVast_.rmpVastUtils.processVastErrors(errorCode, true);\n    } else if (this.rmpVast_.rmpVastAdPlayer) {\n      this.rmpVast_.rmpVastAdPlayer.resumeContent();\n    }\n  }\n\n  /** The creative wants to go full screen. */\n  onRequestFullScreen(incomingMessage) {\n    // The spec currently says to only request fullscreen for the iframe.\n    let promise = null;\n    if (this.simidIframe_.requestFullscreen) {\n      promise = this.simidIframe_.requestFullscreen();\n    } else if (this.simidIframe_.mozRequestFullScreen) {\n      // Our tests indicate firefox will probably not respect the request.\n      promise = this.simidIframe_.mozRequestFullScreen();\n    } else if (this.simidIframe_.webkitRequestFullscreen) {\n      promise = this.simidIframe_.webkitRequestFullscreen();\n    } else if (this.simidIframe_.msRequestFullscreen) {\n      // Our tests indicate IE will probably not respect the request.\n      promise = this.simidIframe_.msRequestFullscreen();\n    }\n    if (promise) {\n      promise.then(() => this.simidProtocol.resolve(incomingMessage));\n    } else {\n      // TODO: Many browsers are not returning promises but are still\n      // going full screen. Assuming resolve (bad).\n      this.simidProtocol.resolve(incomingMessage);\n    }\n  }\n\n  /** The creative wants to play video. */\n  onRequestPlay(incomingMessage) {\n    if (this.isLinearAd_) {\n      this.adVideoElement_.play().\n        then(() => this.simidProtocol.resolve(incomingMessage)).\n        catch(() => {\n          const errorMessage = {\n            errorCode: PlayerErrorCode.VIDEO_COULD_NOT_LOAD,\n            message: 'The SIMID media could not be loaded.'\n          };\n          this.simidProtocol.reject(incomingMessage, errorMessage);\n        });\n    } else {\n      const errorMessage = {\n        errorCode: CreativeErrorCode.PLAYBACK_AREA_UNUSABLE,\n        message: 'Non linear ads do not play video.'\n      };\n      this.simidProtocol.reject(incomingMessage, errorMessage);\n    }\n  }\n\n  /** The creative wants to pause video. */\n  onRequestPause(incomingMessage) {\n    this.adVideoElement_.pause();\n    this.simidProtocol.resolve(incomingMessage);\n  }\n\n  /** Pauses the video ad element. */\n  pauseAd() {\n    this.adVideoElement_.pause();\n  }\n\n  /** The creative wants to stop with a fatal error. */\n  onCreativeFatalError(incomingMessage) {\n    this.simidProtocol.resolve(incomingMessage);\n    this.stopAd(StopCode.CREATIVE_INITIATED, true, 1100);\n  }\n\n  /** The creative wants to skip this ad. */\n  onRequestSkip(incomingMessage) {\n    this.simidProtocol.resolve(incomingMessage);\n    this.skipAd();\n  }\n\n  /** The creative wants to stop the ad early. */\n  onRequestStop(incomingMessage) {\n    this.simidProtocol.resolve(incomingMessage);\n    this.stopAd(StopCode.CREATIVE_INITIATED);\n  }\n\n  /**\n   * The player must implement sending tracking pixels from the creative.\n   * This sample implementation does not show how to send tracking pixels or\n   * replace macros. That should be done using the players standard workflow.\n   */\n  onReportTracking(incomingMessage) {\n    const requestedUrlArray = incomingMessage.args.trackingUrls;\n    requestedUrlArray.forEach(url => {\n      this.rmpVast_.rmpVastTracking.pingURI(url);\n    });\n    Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: The creative has asked for the player to ping ${requestedUrlArray}`);\n  }\n\n  /**\n   * Called when video playback is complete.\n   * @private\n   */\n  videoComplete() {\n    this.simidProtocol.sendMessage(MediaMessage.ENDED);\n\n    if (this.requestedDuration_ === NO_REQUESTED_DURATION) {\n      this.stopAd(StopCode.MEDIA_PLAYBACK_COMPLETE);\n    } else if (this.requestedDuration_ !== UNLIMITED_DURATION) {\n      //If the request duration is longer than the ad duration, the ad extends for the requested amount of time\n      const durationChangeMs = (this.requestedDuration_ - this.adVideoElement_.duration) * 1000;\n      window.setTimeout(() => {\n        this.stopAd(StopCode.CREATIVE_INITIATED);\n      }, durationChangeMs);\n    }\n  }\n\n  /**\n   * Called when creative requests a change in duration of ad.\n   * @private\n   */\n  onRequestChangeAdDuration(incomingMessage) {\n    const newRequestedDuration = incomingMessage.args.duration;\n    if (newRequestedDuration !== UNLIMITED_DURATION && newRequestedDuration < 0) {\n      const durationErrorMessage = {\n        errorCode: PlayerErrorCode.UNSUPPORTED_TIME,\n        message: 'A negative duration is not valid.'\n      };\n      this.simidProtocol.reject(incomingMessage, durationErrorMessage);\n    } else {\n      this.requestedDuration_ = newRequestedDuration;\n      //If requested duration is any other acceptable value\n      this.compareAdAndRequestedDurations_();\n      this.simidProtocol.resolve(incomingMessage);\n    }\n  }\n\n  /**\n   * Compares the duration of the ad with the requested change duration.\n   * If request duration is the same as the ad duration, ad ends as normal.\n   * If request duration is unlimited, ad stays on screen until user closes ad.\n   * If request duration is shorter, the ad stops early. \n   * @private\n   */\n  compareAdAndRequestedDurations_() {\n    if (this.requestedDuration_ === NO_REQUESTED_DURATION ||\n      this.requestedDuration_ === UNLIMITED_DURATION) {\n      //Note: Users can end the ad with unlimited duration with\n      // the close ad button on the player\n      return;\n    } else if (this.adVideoElement_.currentTime >= this.requestedDuration_) {\n      //Creative requested a duration shorter than the ad\n      this.stopAd(StopCode.CREATIVE_INITATED);\n    }\n  }\n\n  onGetMediaState(incomingMessage) {\n    const mediaState = {\n      currentSrc: this.adVideoElement_.currentSrc,\n      currentTime: this.adVideoElement_.currentTime,\n      duration: this.adVideoElement_.duration,\n      ended: this.adVideoElement_.ended,\n      muted: this.adVideoElement_.muted,\n      paused: this.adVideoElement_.paused,\n      volume: this.adVideoElement_.volume,\n      fullscreen: this.adVideoElement_.fullscreen,\n    };\n    this.simidProtocol.resolve(incomingMessage, mediaState);\n  }\n\n  onReceiveCreativeLog(incomingMessage) {\n    const logMessage = incomingMessage.args.message;\n    Logger.print(this.rmpVast_.debugRawConsoleLogs, `SIMID: Received message from creative: ${logMessage}`);\n  }\n\n  sendLog(outgoingMessage) {\n    const logMessage = {\n      message: outgoingMessage,\n    };\n    this.simidProtocol.sendMessage(PlayerMessage.LOG, logMessage);\n  }\n}\n","import FW from '../framework/fw';\nimport Logger from '../framework/logger';\n\n\nexport default class VpaidPlayer {\n\n  #rmpVast;\n  #adContainer;\n  #adPlayer;\n  #params;\n  #adParametersData;\n  #initialWidth = 640;\n  #initialHeight = 360;\n  #initialViewMode = 'normal';\n  #desiredBitrate = 500;\n  #vpaidCreativeUrl = '';\n  #vpaidCreative = null;\n  #vpaidScript = null;\n  #vpaidIframe = null;\n  #vpaidAdLoaded = false;\n  #initAdTimeout = null;\n  #vpaidCallbacks = {};\n  #startAdTimeout = null;\n  #vpaidAdStarted = false;\n  #vpaidVersion = -1;\n  #vpaid1AdDuration = -1;\n  #adStoppedTimeout = null;\n  #adSkippedTimeout = null;\n  #vpaidAdRemainingTimeInterval = null;\n  #vpaidRemainingTime = -1;\n  #vpaidCurrentVolume = 1;\n  #vpaidPaused = true;\n  #vpaidLoadTimeout = null;\n  #vpaidAvailableInterval = null;\n  #vpaidSlot = null;\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#adContainer = rmpVast.adContainer;\n    this.#adPlayer = rmpVast.currentAdPlayer;\n    this.#params = rmpVast.params;\n    this.#adParametersData = rmpVast.adParametersData;\n  }\n\n  // VPAID creative events\n  #onAdLoaded() {\n    this.#vpaidAdLoaded = true;\n    if (!this.#vpaidCreative) {\n      return;\n    }\n    window.clearTimeout(this.#initAdTimeout);\n    if (this.#vpaidCallbacks.AdLoaded) {\n      this.#vpaidCreative.unsubscribe(this.#vpaidCallbacks.AdLoaded, 'AdLoaded');\n    }\n    // when we call startAd we expect AdStarted event to follow closely\n    // otherwise we need to resume content\n    this.#startAdTimeout = window.setTimeout(() => {\n      if (!this.#vpaidAdStarted && this.#rmpVast.rmpVastAdPlayer) {\n        this.#rmpVast.rmpVastAdPlayer.resumeContent();\n      }\n      this.#vpaidAdStarted = false;\n    }, this.#params.creativeLoadTimeout);\n    this.#rmpVast.__adOnStage = true;\n    this.#vpaidCreative.startAd();\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adloaded');\n  }\n\n  #onAdStarted() {\n    this.#vpaidAdStarted = true;\n    if (!this.#vpaidCreative) {\n      return;\n    }\n    window.clearTimeout(this.#startAdTimeout);\n    if (this.#vpaidCallbacks.AdStarted) {\n      this.#vpaidCreative.unsubscribe(this.#vpaidCallbacks.AdStarted, 'AdStarted');\n    }\n    // update duration for VPAID 1.*\n    if (this.#vpaidVersion === 1) {\n      this.#vpaid1AdDuration = this.#vpaidCreative.getAdRemainingTime();\n    }\n    // append icons - if VPAID does not handle them\n    const adIcons = this.#vpaidCreative.getAdIcons();\n    if (!adIcons && this.#rmpVast.rmpVastIcons) {\n      const iconsData = this.#rmpVast.rmpVastIcons.iconsData;\n      if (iconsData.length > 0) {\n        this.#rmpVast.rmpVastIcons.append();\n      }\n    }\n    if (typeof this.#vpaidCreative.getAdLinear === 'function') {\n      this.#rmpVast.creative.isLinear = this.#vpaidCreative.getAdLinear();\n    }\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adcreativeview');\n  }\n\n  #onAdStopped() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID AdStopped event`);\n    window.clearTimeout(this.#adStoppedTimeout);\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      this.#rmpVast.rmpVastAdPlayer.resumeContent();\n    }\n  }\n\n  #onAdSkipped() {\n    window.clearTimeout(this.#adSkippedTimeout);\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adskipped');\n  }\n\n  #onAdSkippableStateChange() {\n    this.#rmpVast.rmpVastUtils.createApiEvent('adskippablestatechanged');\n  }\n\n  #onAdDurationChange() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdRemainingTime === 'function') {\n      const remainingTime = this.#vpaidCreative.getAdRemainingTime();\n      if (remainingTime >= 0) {\n        this.#vpaidRemainingTime = remainingTime;\n      }\n      // AdRemainingTimeChange is deprecated in VPAID 2\n      // instead we use setInterval\n      window.clearInterval(this.#vpaidAdRemainingTimeInterval);\n      this.#vpaidAdRemainingTimeInterval = window.setInterval(() => {\n        const remainingTime = this.#vpaidCreative.getAdRemainingTime();\n        if (remainingTime >= 0) {\n          this.#vpaidRemainingTime = remainingTime;\n        }\n      }, 200);\n      this.#rmpVast.rmpVastUtils.createApiEvent('addurationchange');\n    }\n  }\n\n  #onAdVolumeChange() {\n    let newVolume = -1;\n    if (this.#vpaidCreative) {\n      newVolume = this.#vpaidCreative.getAdVolume();\n    }\n    if (typeof newVolume === 'number' && newVolume >= 0) {\n      if (this.#vpaidCurrentVolume > 0 && newVolume === 0) {\n        this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('advolumemuted');\n      } else if (this.#vpaidCurrentVolume === 0 && newVolume > 0) {\n        this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('advolumeunmuted');\n      }\n      this.#vpaidCurrentVolume = newVolume;\n      this.#rmpVast.rmpVastUtils.createApiEvent('advolumechanged');\n    }\n  }\n\n  #onAdImpression() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adimpression');\n  }\n\n  #onAdVideoStart() {\n    this.#vpaidPaused = false;\n    let newVolume = -1;\n    if (this.#vpaidCreative) {\n      newVolume = this.#vpaidCreative.getAdVolume();\n    }\n    if (typeof newVolume === 'number' && newVolume >= 0) {\n      this.#vpaidCurrentVolume = newVolume;\n      this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adstarted');\n    }\n  }\n\n  #onAdVideoFirstQuartile() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adfirstquartile');\n  }\n\n  #onAdVideoMidpoint() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('admidpoint');\n  }\n\n  #onAdVideoThirdQuartile() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adthirdquartile');\n  }\n\n  #onAdVideoComplete() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adcomplete');\n  }\n\n  #onAdClickThru(url, id, playerHandles) {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclick');\n    if (typeof playerHandles !== 'boolean') {\n      return;\n    }\n    if (!playerHandles) {\n      return;\n    } else {\n      let destUrl;\n      if (url) {\n        destUrl = url;\n      } else if (this.#rmpVast.creative.clickThroughUrl) {\n        destUrl = this.#rmpVast.creative.clickThroughUrl;\n      }\n      if (destUrl) {\n        this.#rmpVast.creative.clickThroughUrl = destUrl;\n        FW.openWindow(this.#rmpVast.creative.clickThroughUrl);\n      }\n    }\n  }\n\n  #onAdPaused() {\n    this.#vpaidPaused = true;\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adpaused');\n  }\n\n  #onAdPlaying() {\n    this.#vpaidPaused = false;\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adresumed');\n  }\n\n  #onAdLog(message) {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID AdLog event ${message}`);\n  }\n\n  #onAdError(message) {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID AdError event ${message}`);\n    this.#rmpVast.rmpVastUtils.processVastErrors(901, true);\n  }\n\n  #onAdInteraction() {\n    this.#rmpVast.rmpVastUtils.createApiEvent('adinteraction');\n  }\n\n  #onAdUserAcceptInvitation() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('aduseracceptinvitation');\n  }\n\n  #onAdUserMinimize() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adcollapse');\n  }\n\n  #onAdUserClose() {\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclosed');\n  }\n\n  #onAdSizeChange() {\n    this.#rmpVast.rmpVastUtils.createApiEvent('adsizechange');\n  }\n\n  #onAdLinearChange() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdLinear === 'function') {\n      this.#rmpVast.creative.isLinear = this.#vpaidCreative.getAdLinear();\n      this.#rmpVast.rmpVastUtils.createApiEvent('adlinearchange');\n    }\n  }\n\n  #onAdExpandedChange() {\n    this.#rmpVast.rmpVastUtils.createApiEvent('adexpandedchange');\n  }\n\n  #onAdRemainingTimeChange() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdRemainingTime === 'function') {\n      const remainingTime = this.#vpaidCreative.getAdRemainingTime();\n      if (remainingTime >= 0) {\n        this.#vpaidRemainingTime = remainingTime;\n      }\n      this.#rmpVast.rmpVastUtils.createApiEvent('adremainingtimechange');\n    }\n  }\n\n  #setCallbacksForCreative() {\n    if (!this.#vpaidCreative) {\n      return;\n    }\n    this.#vpaidCallbacks = {\n      AdLoaded: this.#onAdLoaded.bind(this),\n      AdStarted: this.#onAdStarted.bind(this),\n      AdStopped: this.#onAdStopped.bind(this),\n      AdSkipped: this.#onAdSkipped.bind(this),\n      AdSkippableStateChange: this.#onAdSkippableStateChange.bind(this),\n      AdDurationChange: this.#onAdDurationChange.bind(this),\n      AdVolumeChange: this.#onAdVolumeChange.bind(this),\n      AdImpression: this.#onAdImpression.bind(this),\n      AdVideoStart: this.#onAdVideoStart.bind(this),\n      AdVideoFirstQuartile: this.#onAdVideoFirstQuartile.bind(this),\n      AdVideoMidpoint: this.#onAdVideoMidpoint.bind(this),\n      AdVideoThirdQuartile: this.#onAdVideoThirdQuartile.bind(this),\n      AdVideoComplete: this.#onAdVideoComplete.bind(this),\n      AdClickThru: this.#onAdClickThru.bind(this),\n      AdPaused: this.#onAdPaused.bind(this),\n      AdPlaying: this.#onAdPlaying.bind(this),\n      AdLog: this.#onAdLog.bind(this),\n      AdError: this.#onAdError.bind(this),\n      AdInteraction: this.#onAdInteraction.bind(this),\n      AdUserAcceptInvitation: this.#onAdUserAcceptInvitation.bind(this),\n      AdUserMinimize: this.#onAdUserMinimize.bind(this),\n      AdUserClose: this.#onAdUserClose.bind(this),\n      AdSizeChange: this.#onAdSizeChange.bind(this),\n      AdLinearChange: this.#onAdLinearChange.bind(this),\n      AdExpandedChange: this.#onAdExpandedChange.bind(this),\n      AdRemainingTimeChange: this.#onAdRemainingTimeChange.bind(this)\n    };\n    // Looping through the object and registering each of the callbacks with the creative\n    const callbacksKeys = Object.keys(this.#vpaidCallbacks);\n    callbacksKeys.forEach(key => {\n      this.#vpaidCreative.subscribe(this.#vpaidCallbacks[key], key);\n    });\n  }\n\n  #unsetCallbacksForCreative() {\n    if (!this.#vpaidCreative) {\n      return;\n    }\n    // Looping through the object and registering each of the callbacks with the creative\n    const callbacksKeys = Object.keys(this.#vpaidCallbacks);\n    callbacksKeys.forEach(key => {\n      this.#vpaidCreative.unsubscribe(this.#vpaidCallbacks[key], key);\n    });\n  }\n\n  // eslint-disable-next-line\n  #isValidVPAID(creative) {\n    if (typeof creative.initAd === 'function' &&\n      typeof creative.startAd === 'function' &&\n      typeof creative.stopAd === 'function' &&\n      typeof creative.skipAd === 'function' &&\n      typeof creative.resizeAd === 'function' &&\n      typeof creative.pauseAd === 'function' &&\n      typeof creative.resumeAd === 'function' &&\n      typeof creative.expandAd === 'function' &&\n      typeof creative.collapseAd === 'function' &&\n      typeof creative.subscribe === 'function' &&\n      typeof creative.unsubscribe === 'function') {\n      return true;\n    }\n    return false;\n  }\n\n  #onVPAIDAvailable() {\n    window.clearInterval(this.#vpaidAvailableInterval);\n    window.clearTimeout(this.#vpaidLoadTimeout);\n    this.#vpaidCreative = this.#vpaidIframe.contentWindow.getVPAIDAd();\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.handshakeVersion === 'function') {\n      // we need to insure handshakeVersion return\n      let vpaidVersion;\n      try {\n        vpaidVersion = this.#vpaidCreative.handshakeVersion('2.0');\n      } catch (error) {\n        console.warn(error);\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `could not validate VPAID ad unit handshakeVersion`);\n        this.#rmpVast.rmpVastUtils.processVastErrors(901, true);\n        return;\n      }\n      this.#vpaidVersion = parseInt(vpaidVersion);\n      if (this.#vpaidVersion < 1) {\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `unsupported VPAID version - exit`);\n        this.#rmpVast.rmpVastUtils.processVastErrors(901, true);\n        return;\n      }\n      if (!this.#isValidVPAID(this.#vpaidCreative)) {\n        //The VPAID creative doesn't conform to the VPAID spec\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID creative does not conform to VPAID spec - exit`);\n        this.#rmpVast.rmpVastUtils.processVastErrors(901, true);\n        return;\n      }\n      // wire callback for VPAID events\n      this.#setCallbacksForCreative();\n      // wire tracking events for VAST pings\n      this.#rmpVast.rmpVastTracking.wire();\n      const creativeData = {};\n      creativeData.AdParameters = this.#adParametersData;\n\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID AdParameters follow`, this.#adParametersData);\n\n      FW.show(this.#adContainer);\n      FW.show(this.#adPlayer);\n      const environmentVars = {};\n      // we create a new slot for VPAID creative - using adContainer can cause some VPAID to ill-render\n      // from spec:\n      // The 'environmentVars' object contains a reference, 'slot', to the HTML element\n      // on the page in which the ad is to be rendered. The ad unit essentially gets\n      // control of that element. \n      this.#vpaidSlot = document.createElement('div');\n      this.#vpaidSlot.className = 'rmp-vpaid-container';\n      this.#adContainer.appendChild(this.#vpaidSlot);\n      environmentVars.slot = this.#vpaidSlot;\n      environmentVars.videoSlot = this.#adPlayer;\n      // we assume we can autoplay (or at least muted autoplay) because this.#rmpVast.currentAdPlayer \n      // has been init\n      environmentVars.videoSlotCanAutoPlay = true;\n      // when we call initAd we expect AdLoaded event to follow closely\n      // if not we need to resume content\n      this.#initAdTimeout = window.setTimeout(() => {\n        if (!this.#vpaidAdLoaded) {\n          Logger.print(this.#rmpVast.debugRawConsoleLogs, `#initAdTimeout`);\n          if (this.#rmpVast.rmpVastAdPlayer) {\n            this.#rmpVast.rmpVastAdPlayer.resumeContent();\n          }\n        }\n        this.#vpaidAdLoaded = false;\n      }, this.#params.creativeLoadTimeout * 10);\n\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `calling initAd on VPAID creative now`);\n\n      this.#vpaidCreative.initAd(\n        this.#initialWidth,\n        this.#initialHeight,\n        this.#initialViewMode,\n        this.#desiredBitrate,\n        creativeData,\n        environmentVars\n      );\n    }\n  }\n\n  #onJSVPAIDLoaded() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID JS loaded`);\n\n    const iframeWindow = this.#vpaidIframe.contentWindow;\n    if (typeof iframeWindow.getVPAIDAd === 'function') {\n      this.#onVPAIDAvailable();\n    } else {\n      this.#vpaidAvailableInterval = window.setInterval(() => {\n        if (typeof iframeWindow.getVPAIDAd === 'function') {\n          this.#onVPAIDAvailable();\n        }\n      }, 100);\n    }\n    this.#vpaidScript.onload = null;\n    this.#vpaidScript.onerror = null;\n  }\n\n  #onJSVPAIDError() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID JS error loading`);\n    this.#rmpVast.rmpVastUtils.processVastErrors(901, true);\n    this.#vpaidScript.onload = null;\n    this.#vpaidScript.onerror = null;\n  }\n\n  // #vpaidCreative getters\n\n  getAdWidth() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdWidth === 'function') {\n      return this.#vpaidCreative.getAdWidth();\n    }\n    return -1;\n  }\n\n  getAdHeight() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdHeight === 'function') {\n      return this.#vpaidCreative.getAdHeight();\n    }\n    return -1;\n  }\n\n  getAdDuration() {\n    if (this.#vpaidCreative) {\n      if (typeof this.#vpaidCreative.getAdDuration === 'function') {\n        return this.#vpaidCreative.getAdDuration();\n      } else if (this.#vpaid1AdDuration > -1) {\n        return this.#vpaid1AdDuration;\n      }\n    }\n    return -1;\n  }\n\n  getAdRemainingTime() {\n    if (this.#vpaidRemainingTime >= 0) {\n      return this.#vpaidRemainingTime;\n    }\n    return -1;\n  }\n\n  getCreativeUrl() {\n    if (this.#vpaidCreativeUrl) {\n      return this.#vpaidCreativeUrl;\n    }\n    return '';\n  }\n\n  getAdVolume() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdVolume === 'function') {\n      return this.#vpaidCreative.getAdVolume();\n    }\n    return -1;\n  }\n\n  getAdPaused() {\n    return this.#vpaidPaused;\n  }\n\n  getAdExpanded() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdExpanded === 'function') {\n      return this.#vpaidCreative.getAdExpanded();\n    }\n    return false;\n  }\n\n  getAdSkippableState() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdSkippableState === 'function') {\n      return this.#vpaidCreative.getAdSkippableState();\n    }\n    return false;\n  }\n\n  getAdCompanions() {\n    if (this.#vpaidCreative && typeof this.#vpaidCreative.getAdCompanions === 'function') {\n      return this.#vpaidCreative.getAdCompanions();\n    }\n    return '';\n  }\n\n  // #vpaidCreative methods\n  resizeAd(width, height, viewMode) {\n    if (!this.#vpaidCreative) {\n      return;\n    }\n    if (!FW.isNumber(width) || !FW.isNumber(height) || typeof viewMode !== 'string') {\n      return;\n    }\n    if (width <= 0 || height <= 0) {\n      return;\n    }\n    let validViewMode = 'normal';\n    if (viewMode === 'fullscreen') {\n      validViewMode = viewMode;\n    }\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID resizeAd with width ${width}, height ${height}, viewMode ${viewMode}`);\n    this.#vpaidCreative.resizeAd(width, height, validViewMode);\n  }\n\n  stopAd() {\n    if (!this.#vpaidCreative) {\n      return;\n    }\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `stopAd`);\n    // when stopAd is called we need to check a \n    // AdStopped event follows\n    this.#adStoppedTimeout = window.setTimeout(() => {\n      this.#onAdStopped();\n    }, this.#params.creativeLoadTimeout);\n    this.#vpaidCreative.stopAd();\n  }\n\n  pauseAd() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `pauseAd`);\n    if (this.#vpaidCreative && !this.#vpaidPaused) {\n      this.#vpaidCreative.pauseAd();\n    }\n  }\n\n  resumeAd() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `resumeAd`);\n    if (this.#vpaidCreative && this.#vpaidPaused) {\n      this.#vpaidCreative.resumeAd();\n    }\n  }\n\n  expandAd() {\n    if (this.#vpaidCreative) {\n      this.#vpaidCreative.expandAd();\n    }\n  }\n\n  collapseAd() {\n    if (this.#vpaidCreative) {\n      this.#vpaidCreative.collapseAd();\n    }\n  }\n\n  skipAd() {\n    if (!this.#vpaidCreative) {\n      return;\n    }\n    // when skipAd is called we need to check a \n    // AdSkipped event follows\n    this.#adSkippedTimeout = window.setTimeout(() => {\n      this.#onAdStopped();\n    }, this.#params.creativeLoadTimeout);\n    this.#vpaidCreative.skipAd();\n  }\n\n  setAdVolume(volume) {\n    if (this.#vpaidCreative && FW.isNumber(volume) && volume >= 0 && volume <= 1 &&\n      typeof this.#vpaidCreative.setAdVolume === 'function') {\n      this.#vpaidCreative.setAdVolume(volume);\n    }\n  }\n\n  init(creativeUrl, vpaidSettings) {\n    this.#initialWidth = vpaidSettings.width;\n    this.#initialHeight = vpaidSettings.height;\n    this.#initialViewMode = vpaidSettings.viewMode;\n    this.#desiredBitrate = vpaidSettings.desiredBitrate;\n    this.#vpaidCreativeUrl = creativeUrl;\n    if (!this.#adPlayer) {\n      // we use existing ad player as it is already \n      // available and initialized (no need for user interaction)\n      let existingAdPlayer = null;\n      if (this.#adContainer) {\n        existingAdPlayer = this.#adContainer.querySelector('.rmp-ad-vast-video-player');\n      }\n      if (existingAdPlayer === null) {\n        this.#rmpVast.rmpVastUtils.processVastErrors(900, true);\n        return;\n      }\n      this.#adPlayer = existingAdPlayer;\n    }\n    // pause content player\n    this.#rmpVast.rmpVastContentPlayer.pause();\n    // create FiF \n    this.#vpaidIframe = document.createElement('iframe');\n    this.#vpaidIframe.sandbox = 'allow-scripts allow-same-origin';\n    this.#vpaidIframe.id = 'vpaid-frame';\n    // do not use display: none;\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    FW.setStyle(this.#vpaidIframe, { visibility: 'hidden', width: '0px', height: '0px', border: 'none' });\n    // this is to adhere to Best Practices for Rich Media Ads \n    // in Asynchronous Ad Environments  http://www.iab.net/media/file/rich_media_ajax_best_practices.pdf\n    const src = 'about:blank';\n    this.#vpaidIframe.onload = () => {\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `#vpaidIframe.onload`);\n      if (!this.#vpaidIframe.contentWindow || !this.#vpaidIframe.contentWindow.document ||\n        !this.#vpaidIframe.contentWindow.document.body) {\n        // PING error and resume content\n\n        this.#rmpVast.rmpVastUtils.processVastErrors(901, true);\n        return;\n      }\n      const iframeWindow = this.#vpaidIframe.contentWindow;\n      const iframeDocument = iframeWindow.document;\n      const iframeBody = iframeDocument.body;\n      this.#vpaidScript = iframeDocument.createElement('script');\n\n      this.#vpaidLoadTimeout = window.setTimeout(() => {\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `could not load VPAID JS Creative or getVPAIDAd in iframeWindow - resume content`);\n        this.#vpaidScript.onload = null;\n        this.#vpaidScript.onerror = null;\n        if (this.#rmpVast.rmpVastAdPlayer) {\n          this.#rmpVast.rmpVastAdPlayer.resumeContent();\n        }\n      }, this.#params.creativeLoadTimeout);\n      this.#vpaidScript.onload = this.#onJSVPAIDLoaded.bind(this);\n      this.#vpaidScript.onerror = this.#onJSVPAIDError.bind(this);\n      iframeBody.appendChild(this.#vpaidScript);\n      this.#vpaidScript.src = this.#vpaidCreativeUrl;\n    };\n\n    this.#vpaidIframe.src = src;\n    this.#adContainer.appendChild(this.#vpaidIframe);\n  }\n\n  destroy() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `destroy VPAID dependencies`);\n    window.clearInterval(this.#vpaidAvailableInterval);\n    window.clearInterval(this.#vpaidAdRemainingTimeInterval);\n    window.clearTimeout(this.#vpaidLoadTimeout);\n    window.clearTimeout(this.#initAdTimeout);\n    window.clearTimeout(this.#startAdTimeout);\n    this.#unsetCallbacksForCreative();\n    if (this.#vpaidScript) {\n      this.#vpaidScript.onload = null;\n      this.#vpaidScript.onerror = null;\n    }\n    if (this.#vpaidSlot) {\n      FW.removeElement(this.#vpaidSlot);\n    }\n    if (this.#vpaidIframe) {\n      FW.removeElement(this.#vpaidIframe);\n    }\n  }\n\n}\n","import FW from '../framework/fw';\nimport Environment from '../framework/environment';\nimport Logger from '../framework/logger';\nimport Icons from './icons';\nimport RmpConnection from '../../assets/rmp-connection/rmp-connection';\nimport SimidPlayer from '../players/simid/simid_player';\nimport VpaidPlayer from '../players/vpaid-player';\n\n\nexport default class LinearCreative {\n\n  #rmpVast;\n  #params;\n  #adContainer;\n  #adPlayer;\n  #contentPlayer;\n  #firstAdPlayerPlayRequest = true;\n  #interactionMobileUI = null;\n  #skipWaitingUI = null;\n  #skipMessageUI = null;\n  #skipIconUI = null;\n  #skipButtonUI = null;\n  #skippableAdCanBeSkipped = false;\n  #onTimeupdateCheckSkipFn = null;\n  #onDurationChangeFn = null;\n  #onLoadedmetadataPlayFn = null;\n  #onContextMenuFn = null;\n  #onPlaybackErrorFn = null;\n  #onInteractionOpenClickThroughUrlFn = null;\n  #creativeLoadTimeoutCallback = null;\n  #hlsJS = [];\n  #hlsJSIndex = 0;\n  #readingHlsJS = false;\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#params = rmpVast.params;\n    this.#adContainer = rmpVast.adContainer;\n    this.#adPlayer = rmpVast.currentAdPlayer;\n    this.#contentPlayer = rmpVast.currentContentPlayer;\n  }\n\n  get hlsJSInstances() {\n    return this.#hlsJS;\n  }\n\n  get hlsJSIndex() {\n    return this.#hlsJSIndex;\n  }\n\n  set hlsJSIndex(value) {\n    this.#hlsJSIndex = value;\n  }\n\n  get readingHlsJS() {\n    return this.#readingHlsJS;\n  }\n\n  set readingHlsJS(value) {\n    this.#readingHlsJS = value;\n  }\n\n  get skippableAdCanBeSkipped() {\n    return this.#skippableAdCanBeSkipped;\n  }\n\n  #onDurationChange() {\n    let adPlayerDuration = -1;\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      adPlayerDuration = this.#rmpVast.rmpVastAdPlayer.duration;\n    }\n    this.#rmpVast.rmpVastUtils.createApiEvent('addurationchange');\n    // progress event\n    if (adPlayerDuration === -1) {\n      return;\n    }\n    const keys = Object.keys(this.#rmpVast.creative.trackingEvents);\n    keys.forEach(eventName => {\n      if (/progress-/i.test(eventName)) {\n        const time = eventName.split('-');\n        const time_2 = time[1];\n        if (/%/i.test(time_2)) {\n          let timePerCent = time_2.slice(0, -1);\n          timePerCent = (adPlayerDuration * parseFloat(timePerCent)) / 100;\n          const trackingUrls = this.#rmpVast.creative.trackingEvents[eventName];\n          trackingUrls.forEach(url => {\n            this.#rmpVast.progressEvents.push({\n              time: timePerCent,\n              url\n            });\n          });\n        } else {\n          const trackingUrls = this.#rmpVast.creative.trackingEvents[eventName];\n          trackingUrls.forEach(url => {\n            this.#rmpVast.progressEvents.push({\n              time: parseFloat(time_2) * 1000,\n              url\n            });\n          });\n        }\n      }\n    });\n    // sort progress time ascending\n    if (this.#rmpVast.progressEvents.length > 0) {\n      this.#rmpVast.progressEvents.sort((a, b) => {\n        return a.time - b.time;\n      });\n    }\n  }\n\n  #onLoadedmetadataPlay() {\n    window.clearTimeout(this.#creativeLoadTimeoutCallback);\n    // adjust volume to make sure content player volume matches ad player volume\n    if (this.#adPlayer) {\n      if (this.#adPlayer.volume !== this.#contentPlayer.volume) {\n        this.#adPlayer.volume = this.#contentPlayer.volume;\n      }\n      if (this.#contentPlayer.muted) {\n        this.#adPlayer.muted = true;\n      } else {\n        this.#adPlayer.muted = false;\n      }\n    }\n    // show ad container holding ad player\n    FW.show(this.#adContainer);\n    FW.show(this.#adPlayer);\n    this.#rmpVast.__adOnStage = true;\n    // play ad player\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      this.#rmpVast.rmpVastAdPlayer.play(this.#firstAdPlayerPlayRequest);\n      this.#firstAdPlayerPlayRequest = false;\n    }\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adloaded');\n  }\n\n  #onInteractionOpenClickThroughUrl(event) {\n    if (event) {\n      event.stopPropagation();\n    }\n    if (!Environment.isMobile) {\n      FW.openWindow(this.#rmpVast.creative.clickThroughUrl);\n    }\n    this.#rmpVast.pause();\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclick');\n  }\n\n  #onPlaybackError(event) {\n    // https://www.w3.org/TR/html50/embedded-content-0.html#mediaerror\n    // MEDIA_ERR_SRC_NOT_SUPPORTED is sign of fatal error\n    // other errors may produce non-fatal error in the browser so we do not \n    // act upon them\n    if (event && event.target) {\n      const videoElement = event.target;\n      if (videoElement.error && FW.isNumber(videoElement.error.code)) {\n        const errorCode = videoElement.error.code;\n        let errorMessage = '';\n        if (typeof videoElement.error.message === 'string') {\n          errorMessage = videoElement.error.message;\n        }\n\n        const htmlMediaErrorTypes = [\n          'MEDIA_ERR_CUSTOM',\n          'MEDIA_ERR_ABORTED',\n          'MEDIA_ERR_NETWORK',\n          'MEDIA_ERR_DECODE',\n          'MEDIA_ERR_SRC_NOT_SUPPORTED',\n          'MEDIA_ERR_ENCRYPTED'\n        ];\n\n        console.error(`Error on video element with code ${errorCode.toString()} and message ${errorMessage}`);\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `error type is ${htmlMediaErrorTypes[errorCode] ? htmlMediaErrorTypes[errorCode] : 'unknown type'}`);\n\n        // MEDIA_ERR_SRC_NOT_SUPPORTED (numeric value 4)\n        if (errorCode === 4) {\n          this.#rmpVast.rmpVastUtils.processVastErrors(401, true);\n        }\n      }\n    }\n  }\n\n  #updateWaitingForCanBeSkippedUI(delta) {\n    if (Math.round(delta) > 0) {\n      this.#skipWaitingUI.textContent = this.#params.labels.skipMessage + ' ' + Math.round(delta) + 's';\n    }\n  }\n\n  #onTimeupdateCheckSkip() {\n    if (this.#skipButtonUI.style.display === 'none') {\n      FW.setStyle(this.#skipButtonUI, { display: 'block' });\n    }\n    const adPlayerCurrentTime = this.#adPlayer.currentTime;\n    if (FW.isNumber(adPlayerCurrentTime) && adPlayerCurrentTime > 0) {\n      if (adPlayerCurrentTime >= this.#rmpVast.creative.skipoffset) {\n        this.#adPlayer.removeEventListener('timeupdate', this.#onTimeupdateCheckSkipFn);\n        FW.setStyle(this.#skipWaitingUI, { display: 'none' });\n        FW.setStyle(this.#skipMessageUI, { display: 'block' });\n        FW.setStyle(this.#skipIconUI, { display: 'block' });\n        this.#skippableAdCanBeSkipped = true;\n        this.#rmpVast.rmpVastUtils.createApiEvent('adskippablestatechanged');\n      } else if (this.#rmpVast.creative.skipoffset - adPlayerCurrentTime > 0) {\n        this.#updateWaitingForCanBeSkippedUI(this.#rmpVast.creative.skipoffset - adPlayerCurrentTime);\n      }\n    }\n  }\n\n  #onSkipInteraction(event) {\n    if (event) {\n      event.stopPropagation();\n      if (event.type === 'touchend') {\n        event.preventDefault();\n      }\n    }\n    if (this.#skippableAdCanBeSkipped) {\n      this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adskipped');\n      // resume content\n      if (this.#rmpVast.rmpVastAdPlayer) {\n        this.#rmpVast.rmpVastAdPlayer.resumeContent();\n      }\n    }\n  }\n\n  #appendSkipUI() {\n    const skipMessage = this.#params.labels.skipMessage;\n    this.#skipButtonUI = document.createElement('div');\n    this.#skipButtonUI.className = 'rmp-ad-container-skip';\n    FW.setStyle(this.#skipButtonUI, { display: 'none' });\n    FW.makeButtonAccessible(this.#skipButtonUI, skipMessage);\n\n    this.#skipWaitingUI = document.createElement('div');\n    this.#skipWaitingUI.className = 'rmp-ad-container-skip-waiting';\n    this.#updateWaitingForCanBeSkippedUI(this.#rmpVast.creative.skipoffset);\n    FW.setStyle(this.#skipWaitingUI, { display: 'block' });\n\n    this.#skipMessageUI = document.createElement('div');\n    this.#skipMessageUI.className = 'rmp-ad-container-skip-message';\n    this.#skipMessageUI.textContent = skipMessage;\n    FW.setStyle(this.#skipMessageUI, { display: 'none' });\n\n    this.#skipIconUI = document.createElement('div');\n    this.#skipIconUI.className = 'rmp-ad-container-skip-icon';\n    FW.setStyle(this.#skipIconUI, { display: 'none' });\n\n    const onSkipInteractionFn = this.#onSkipInteraction.bind(this);\n    FW.addEvents(['click', 'touchend'], this.#skipButtonUI, onSkipInteractionFn);\n    this.#skipButtonUI.appendChild(this.#skipWaitingUI);\n    this.#skipButtonUI.appendChild(this.#skipMessageUI);\n    this.#skipButtonUI.appendChild(this.#skipIconUI);\n    this.#adContainer.appendChild(this.#skipButtonUI);\n    this.#onTimeupdateCheckSkipFn = this.#onTimeupdateCheckSkip.bind(this);\n    this.#adPlayer.addEventListener('timeupdate', this.#onTimeupdateCheckSkipFn);\n  }\n\n  #onHlsJSError(event, data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case Hls.ErrorTypes.NETWORK_ERROR:\n          // try to recover network error\n          this.#hlsJS[this.#hlsJSIndex].startLoad();\n          break;\n        case Hls.ErrorTypes.MEDIA_ERROR:\n          this.#hlsJS[this.#hlsJSIndex].recoverMediaError();\n          break;\n        default:\n          this.#rmpVast.rmpVastUtils.processVastErrors(900, true);\n          break;\n      }\n    }\n  }\n\n  destroy() {\n    if (this.#interactionMobileUI) {\n      this.#interactionMobileUI.removeEventListener('touchend', this.#onInteractionOpenClickThroughUrlFn);\n      FW.removeElement(this.#interactionMobileUI);\n    }\n    window.clearTimeout(this.#creativeLoadTimeoutCallback);\n    FW.removeElement(this.#skipButtonUI);\n    if (this.#adPlayer) {\n      this.#adPlayer.removeEventListener('click', this.#onInteractionOpenClickThroughUrlFn);\n      this.#adPlayer.removeEventListener('timeupdate', this.#onTimeupdateCheckSkipFn);\n      this.#adPlayer.removeEventListener('durationchange', this.#onDurationChangeFn);\n      this.#adPlayer.removeEventListener('loadedmetadata', this.#onLoadedmetadataPlayFn);\n      this.#adPlayer.removeEventListener('contextmenu', this.#onContextMenuFn);\n      this.#adPlayer.removeEventListener('error', this.#onPlaybackErrorFn);\n    }\n    this.#contentPlayer.removeEventListener('error', this.#onPlaybackErrorFn);\n  }\n\n  update(url, type) {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `update ad player for linear creative of type ${type} located at ${url}`);\n\n    this.#onDurationChangeFn = this.#onDurationChange.bind(this);\n    this.#adPlayer.addEventListener('durationchange', this.#onDurationChangeFn, { once: true });\n\n    // when creative is loaded play it \n    this.#onLoadedmetadataPlayFn = this.#onLoadedmetadataPlay.bind(this);\n    this.#adPlayer.addEventListener('loadedmetadata', this.#onLoadedmetadataPlayFn, { once: true });\n\n    // prevent built in menu to show on right click\n    this.#onContextMenuFn = FW.stopPreventEvent;\n    this.#adPlayer.addEventListener('contextmenu', this.#onContextMenuFn);\n\n    this.#onPlaybackErrorFn = this.#onPlaybackError.bind(this);\n\n    // start creativeLoadTimeout\n    this.#creativeLoadTimeoutCallback = window.setTimeout(() => {\n      this.#rmpVast.rmpVastUtils.processVastErrors(402, true);\n    }, this.#params.creativeLoadTimeout);\n\n    if (this.#params.useHlsJS && type === 'application/vnd.apple.mpegurl' &&\n      typeof window.Hls !== 'undefined' && Hls.isSupported()) {\n      this.#readingHlsJS = true;\n      const hlsJSConfig = {\n        debug: this.#params.debugHlsJS,\n        capLevelToPlayerSize: true,\n        testBandwidth: true,\n        startLevel: -1,\n        lowLatencyMode: false\n      };\n      this.#hlsJS[this.#hlsJSIndex] = new Hls(hlsJSConfig);\n      this.#hlsJS[this.#hlsJSIndex].on(Hls.Events.ERROR, this.#onHlsJSError.bind(this));\n      this.#hlsJS[this.#hlsJSIndex].loadSource(url);\n      this.#hlsJS[this.#hlsJSIndex].attachMedia(this.#adPlayer);\n    } else {\n      if (typeof this.#rmpVast.creative.simid === 'undefined' ||\n        (this.#rmpVast.creative.simid && !this.#params.enableSimid)) {\n        this.#adPlayer.addEventListener('error', this.#onPlaybackErrorFn);\n        this.#adPlayer.src = url;\n        // we need this extra load for Chrome data saver mode in mobile or desktop\n        this.#adPlayer.load();\n      } else {\n        if (this.#rmpVast.rmpVastSimidPlayer) {\n          this.#rmpVast.rmpVastSimidPlayer.stopAd();\n        }\n        this.#rmpVast.rmpVastSimidPlayer = new SimidPlayer(url, this.#rmpVast);\n        this.#rmpVast.rmpVastSimidPlayer.initializeAd();\n        this.#rmpVast.rmpVastSimidPlayer.playAd();\n      }\n    }\n\n\n    // clickthrough interaction\n    this.#onInteractionOpenClickThroughUrlFn = this.#onInteractionOpenClickThroughUrl.bind(this);\n    if (this.#rmpVast.creative.clickThroughUrl) {\n      if (Environment.isMobile) {\n        // we create a <a> tag rather than using window.open \n        // because it works better in standalone mode and WebView\n        this.#interactionMobileUI = document.createElement('a');\n        this.#interactionMobileUI.className = 'rmp-ad-click-ui-mobile';\n        this.#interactionMobileUI.textContent = this.#params.labels.textForInteractionUIOnMobile;\n        this.#interactionMobileUI.addEventListener('touchend', this.#onInteractionOpenClickThroughUrlFn);\n        this.#interactionMobileUI.href = this.#rmpVast.creative.clickThroughUrl;\n        this.#interactionMobileUI.target = '_blank';\n        this.#adContainer.appendChild(this.#interactionMobileUI);\n      } else {\n        this.#adPlayer.addEventListener('click', this.#onInteractionOpenClickThroughUrlFn);\n      }\n    }\n\n    // skippable - only where ad player is different from \n    // content player\n    if (this.#rmpVast.creative.isSkippableAd) {\n      this.#appendSkipUI();\n    }\n  }\n\n  parse(creative) {\n    const icons = creative.icons;\n    const adParameters = creative.adParameters;\n    const mediaFiles = creative.mediaFiles;\n    // some linear tags may pass till here but have empty MediaFiles\n    // this is against specification so we return\n    if (mediaFiles.length === 0) {\n      return;\n    }\n    if (icons.length > 0) {\n      this.#rmpVast.rmpVastIcons = new Icons(this.#rmpVast);\n      this.#rmpVast.rmpVastIcons.parse(icons);\n    }\n    // check for AdParameters tag in case we have a VPAID creative\n    this.#rmpVast.adParametersData = '';\n    if (adParameters && adParameters.value) {\n      this.#rmpVast.adParametersData = adParameters.value;\n    }\n    let mediaFileItems = [];\n    let isVpaid = false;\n    for (let i = 0; i < mediaFiles.length; i++) {\n      const currentMediaFile = mediaFiles[i];\n      const mediaFileValue = currentMediaFile.fileURL;\n      const type = currentMediaFile.mimeType;\n      if (mediaFileValue === null || type === null) {\n        continue;\n      }\n      const newMediaFileItem = {};\n      newMediaFileItem.url = mediaFileValue;\n      newMediaFileItem.type = type;\n      if (currentMediaFile.codec !== null) {\n        newMediaFileItem.codec = currentMediaFile.codec;\n      }\n      // check for potential VPAID - we have a VPAID JS - we break\n      // for VPAID we may not have a width, height or delivery\n      const vpaidPattern = /vpaid/i;\n      const jsPattern = /\\/javascript/i;\n      if (this.#params.enableVpaid && currentMediaFile.apiFramework &&\n        vpaidPattern.test(currentMediaFile.apiFramework) && jsPattern.test(type)) {\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `VPAID creative detected`);\n        mediaFileItems = [newMediaFileItem];\n        isVpaid = true;\n        break;\n      }\n      newMediaFileItem.width = currentMediaFile.width;\n      newMediaFileItem.height = currentMediaFile.height;\n      newMediaFileItem.bitrate = currentMediaFile.bitrate;\n      mediaFileItems.push(newMediaFileItem);\n    }\n    // we support HLS; MP4; WebM: VPAID so let us fecth for those\n    const creatives = [];\n    for (let j = 0; j < mediaFileItems.length; j++) {\n      const currentMediaFileItem = mediaFileItems[j];\n      const type = currentMediaFileItem.type;\n      const url = currentMediaFileItem.url;\n      if (isVpaid && url) {\n        this.#rmpVast.rmpVastVpaidPlayer = new VpaidPlayer(this.#rmpVast);\n        this.#rmpVast.rmpVastVpaidPlayer.init(url, this.#params.vpaidSettings);\n        this.#rmpVast.creative.type = type;\n        return;\n      }\n      // we have HLS > use hls.js where no native support for HLS is available or native HLS otherwise (Apple devices mainly)\n      if (this.#rmpVast.rmpVastAdPlayer) {\n        if (type === 'application/vnd.apple.mpegurl' &&\n          (Environment.checkCanPlayType(type) || (typeof window.Hls !== 'undefined' && Hls.isSupported()))) {\n          this.#rmpVast.rmpVastAdPlayer.append(url, type);\n          this.#rmpVast.creative.type = type;\n          return;\n        }\n        // we have DASH and DASH is natively supported > use DASH\n        if (Environment.checkCanPlayType('application/dash+xml')) {\n          this.#rmpVast.rmpVastAdPlayer.append(url, type);\n          this.#rmpVast.creative.type = type;\n          return;\n        }\n      }\n      // we gather MP4, WebM, OGG and remaining files\n      creatives.push(currentMediaFileItem);\n    }\n    if (isVpaid) {\n      return;\n    }\n    let retainedCreatives = [];\n    const commonVideoFormats = [\n      'video/webm',\n      'video/mp4',\n      'video/ogg',\n      'video/3gpp'\n    ];\n    // first we check for the common formats below ... \n    const __filterCommonCreatives = (i, creative) => {\n      if (creative.codec && creative.type === commonVideoFormats[i]) {\n        return Environment.checkCanPlayType(creative.type, creative.codec);\n      } else if (creative.type === commonVideoFormats[i]) {\n        return Environment.checkCanPlayType(creative.type);\n      }\n      return false;\n    };\n    for (let k = 0; k < commonVideoFormats.length; k++) {\n      retainedCreatives = creatives.filter(__filterCommonCreatives.bind(null, k));\n      if (retainedCreatives.length > 0) {\n        break;\n      }\n    }\n    // ... if none of the common format work, then we check for exotic format\n    // first we check for those with codec information as it provides more accurate support indication ...\n    if (retainedCreatives.length === 0) {\n      const __filterCodecCreatives = (codec, type, creative) => {\n        return creative.codec === codec && creative.type === type;\n      };\n      creatives.forEach(creative => {\n        if (creative.codec && creative.type && Environment.checkCanPlayType(creative.type, creative.codec)) {\n          retainedCreatives = creatives.filter(__filterCodecCreatives.bind(null, creative.codec, creative.type));\n        }\n      });\n    }\n    // ... if codec information are not available then we go first type matching\n    if (retainedCreatives.length === 0) {\n      const __filterTypeCreatives = (type, creative) => {\n        return creative.type === type;\n      };\n      creatives.forEach(creative => {\n        if (creative.type && Environment.checkCanPlayType(creative.type)) {\n          retainedCreatives = creatives.filter(__filterTypeCreatives.bind(null, creative.type));\n        }\n      });\n    }\n\n    // still no match for supported format - we exit\n    if (retainedCreatives.length === 0) {\n      // None of the MediaFile provided are supported by the player\n      this.#rmpVast.rmpVastUtils.processVastErrors(403, true);\n      return;\n    }\n\n    // sort supported creatives by width\n    retainedCreatives.sort((a, b) => {\n      return a.width - b.width;\n    });\n\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `Vavailable linear creative follows`, retainedCreatives);\n\n    // we have files matching device capabilities\n    // select the best one based on player current width\n    let finalCreative;\n    let validCreativesByWidth = [];\n    let validCreativesByBitrate = [];\n    if (retainedCreatives.length > 1) {\n      const containerWidth = FW.getWidth(this.#rmpVast.container) * Environment.devicePixelRatio;\n      const containerHeight = FW.getHeight(this.#rmpVast.container) * Environment.devicePixelRatio;\n      if (containerWidth > 0 && containerHeight > 0) {\n        validCreativesByWidth = retainedCreatives.filter(creative => {\n          return containerWidth >= creative.width && containerHeight >= creative.height;\n        });\n      }\n\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `validCreativesByWidth follow`, validCreativesByWidth);\n\n      // if no match by size \n      if (validCreativesByWidth.length === 0) {\n        validCreativesByWidth = [retainedCreatives[0]];\n      }\n\n      // filter by bitrate to provide best quality\n      const rmpConnection = new RmpConnection();\n      let availableBandwidth = rmpConnection.bandwidthData.estimate;\n\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `availableBandwidth is ${availableBandwidth} Mbps`);\n\n      if (availableBandwidth > -1 && validCreativesByWidth.length > 1) {\n        // sort supported creatives by bitrates\n        validCreativesByWidth.sort((a, b) => {\n          return a.bitrate - b.bitrate;\n        });\n        // convert to kbps\n        availableBandwidth = Math.round(availableBandwidth * 1000);\n        validCreativesByBitrate = validCreativesByWidth.filter(creative => {\n          return availableBandwidth >= creative.bitrate;\n        });\n\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `validCreativesByBitrate follow`, validCreativesByBitrate);\n\n        // pick max available bitrate\n        finalCreative = validCreativesByBitrate[validCreativesByBitrate.length - 1];\n      }\n    }\n\n    // if no match by bitrate \n    if (!finalCreative) {\n      if (validCreativesByWidth.length > 0) {\n        finalCreative = validCreativesByWidth[validCreativesByWidth.length - 1];\n      } else {\n        retainedCreatives.sort((a, b) => {\n          return a.bitrate - b.bitrate;\n        });\n        finalCreative = retainedCreatives[retainedCreatives.length - 1];\n      }\n    }\n\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `selected linear creative follows`, finalCreative);\n\n    this.#rmpVast.creative.mediaUrl = finalCreative.url;\n    this.#rmpVast.creative.height = finalCreative.height;\n    this.#rmpVast.creative.width = finalCreative.width;\n    this.#rmpVast.creative.type = finalCreative.type;\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      this.#rmpVast.rmpVastAdPlayer.append(finalCreative.url, finalCreative.type);\n    }\n  }\n\n}\n","import FW from '../framework/fw';\nimport Logger from '../framework/logger';\n\n\nexport default class NonLinearCreative {\n\n  #rmpVast;\n  #params;\n  #adContainer;\n  #container;\n  #nonLinearMinSuggestedDuration = 0;\n  #firstContentPlayerPlayRequest = true;\n  #nonLinearCloseElement = null;\n  #nonLinearAElement = null;\n  #nonLinearInnerElement = null;\n  #nonLinearContainerElement = null;\n  #closeButtonTimeoutFn = null;\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#params = rmpVast.params;\n    this.#adContainer = rmpVast.adContainer;\n    this.#container = rmpVast.container;\n  }\n\n  #onNonLinearLoadError() {\n    this.#rmpVast.rmpVastUtils.processVastErrors(502, true);\n  }\n\n  #onNonLinearLoadSuccess() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `success loading non-linear creative at ${this.#rmpVast.creative.mediaUrl}`);\n    this.#rmpVast.__adOnStage = true;\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(\n      ['adloaded', 'adimpression', 'adstarted', 'adcreativeview']\n    );\n  }\n\n  #onNonLinearClickThrough(event) {\n    try {\n      if (event) {\n        event.stopPropagation();\n      }\n      this.#rmpVast.pause();\n      this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclick');\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  #onClickCloseNonLinear(event) {\n    if (event) {\n      event.stopPropagation();\n      if (event.type === 'touchend') {\n        event.preventDefault();\n      }\n    }\n    FW.setStyle(this.#nonLinearContainerElement, { display: 'none' });\n    this.#rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent('adclosed');\n  }\n\n  #appendCloseButton() {\n    this.#nonLinearCloseElement = document.createElement('div');\n    this.#nonLinearCloseElement.className = 'rmp-ad-non-linear-close';\n    FW.makeButtonAccessible(this.#nonLinearCloseElement, this.#params.labels.closeAd);\n    if (this.#nonLinearMinSuggestedDuration > 0) {\n      FW.setStyle(this.#nonLinearCloseElement, { display: 'none' });\n      window.clearTimeout(this.#closeButtonTimeoutFn);\n      this.#closeButtonTimeoutFn = window.setTimeout(() => {\n        FW.setStyle(this.#nonLinearCloseElement, { display: 'block' });\n      }, this.#nonLinearMinSuggestedDuration * 1000);\n    } else {\n      FW.setStyle(this.#nonLinearCloseElement, { display: 'block' });\n    }\n    const onClickCloseNonLinearFn = this.#onClickCloseNonLinear.bind(this);\n    FW.addEvents(['touchend', 'click'], this.#nonLinearCloseElement, onClickCloseNonLinearFn);\n    this.#nonLinearContainerElement.appendChild(this.#nonLinearCloseElement);\n  }\n\n  destroy() {\n    window.clearTimeout(this.#closeButtonTimeoutFn);\n    try {\n      FW.removeElement(this.#nonLinearContainerElement);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  update() {\n    // non-linear ad container\n    this.#nonLinearContainerElement = document.createElement('div');\n    this.#nonLinearContainerElement.className = 'rmp-ad-non-linear-container';\n    FW.setStyle(this.#nonLinearContainerElement, {\n      width: (this.#rmpVast.creative.width).toString() + 'px',\n      height: (this.#rmpVast.creative.height).toString() + 'px'\n    });\n\n    // a tag to handle click - a tag is best for WebView support\n    this.#nonLinearAElement = document.createElement('a');\n    this.#nonLinearAElement.className = 'rmp-ad-non-linear-anchor';\n    if (this.#rmpVast.creative.clickThroughUrl) {\n      this.#nonLinearAElement.href = this.#rmpVast.creative.clickThroughUrl;\n      this.#nonLinearAElement.target = '_blank';\n      const onNonLinearClickThroughFn = this.#onNonLinearClickThrough.bind(this);\n      FW.addEvents(['touchend', 'click'], this.#nonLinearAElement, onNonLinearClickThroughFn);\n    }\n\n    // non-linear creative image\n    if (this.#rmpVast.creative.nonLinearType === 'image') {\n      this.#nonLinearInnerElement = document.createElement('img');\n    } else {\n      this.#nonLinearInnerElement = document.createElement('iframe');\n      this.#nonLinearInnerElement.sandbox = 'allow-scripts allow-same-origin';\n      FW.setStyle(this.#nonLinearInnerElement, { border: 'none', overflow: 'hidden' });\n      this.#nonLinearInnerElement.setAttribute('allow', 'autoplay; fullscreen; picture-in-picture; encrypted-media');\n      this.#nonLinearInnerElement.setAttribute('scrolling', 'no');\n      this.#nonLinearInnerElement.setAttribute('sandbox', 'allow-scripts allow-presentation allow-same-origin');\n    }\n    this.#nonLinearInnerElement.className = 'rmp-ad-non-linear-creative';\n\n    const onNonLinearLoadErrorFn = this.#onNonLinearLoadError.bind(this);\n    this.#nonLinearInnerElement.addEventListener('error', onNonLinearLoadErrorFn);\n    const onNonLinearLoadSuccessFn = this.#onNonLinearLoadSuccess.bind(this);\n    this.#nonLinearInnerElement.addEventListener('load', onNonLinearLoadSuccessFn);\n\n    if (this.#rmpVast.creative.nonLinearType === 'html') {\n      this.#nonLinearInnerElement.srcdoc = this.#rmpVast.creative.mediaUrl;\n    } else {\n      this.#nonLinearInnerElement.src = this.#rmpVast.creative.mediaUrl;\n    }\n\n    // append to adContainer\n    this.#nonLinearAElement.appendChild(this.#nonLinearInnerElement);\n    this.#nonLinearContainerElement.appendChild(this.#nonLinearAElement);\n    this.#adContainer.appendChild(this.#nonLinearContainerElement);\n\n    // display a close button when non-linear ad has reached minSuggestedDuration\n    this.#appendCloseButton();\n    FW.show(this.#adContainer);\n\n    this.#rmpVast.rmpVastContentPlayer.play(this.#firstContentPlayerPlayRequest);\n    this.#firstContentPlayerPlayRequest = false;\n  }\n\n  parse(variations) {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `non-linear creatives follow`, variations);\n\n    let isDimensionError = false;\n    let currentVariation;\n    // The video player should poll each <NonLinear> element to determine \n    // which creative is offered in a format the video player can support.\n    for (let i = 0; i < variations.length; i++) {\n      isDimensionError = false;\n      currentVariation = variations[i];\n      let width = currentVariation.width;\n      let height = currentVariation.height;\n      // width/height attribute is required\n      if (width <= 0) {\n        width = 300;\n      }\n      if (height <= 0) {\n        height = 44;\n      }\n      // if width of non-linear creative does not fit within current player container width \n      // we should skip this creative\n      if (width > FW.getWidth(this.#container) || height > FW.getHeight(this.#container)) {\n        isDimensionError = true;\n        continue;\n      }\n      // get minSuggestedDuration (optional)\n      this.#nonLinearMinSuggestedDuration = currentVariation.minSuggestedDuration;\n      const staticResource = currentVariation.staticResource;\n      const iframeResource = currentVariation.iframeResource;\n      const htmlResource = currentVariation.htmlResource;\n      // we have a valid NonLinear/StaticResource with supported creativeType - we break\n      if (staticResource !== null || iframeResource !== null || htmlResource !== null) {\n        if (staticResource) {\n          this.#rmpVast.creative.mediaUrl = staticResource;\n          this.#rmpVast.creative.nonLinearType = 'image';\n        } else if (iframeResource) {\n          this.#rmpVast.creative.mediaUrl = iframeResource;\n          this.#rmpVast.creative.nonLinearType = 'iframe';\n        } else if (htmlResource) {\n          this.#rmpVast.creative.mediaUrl = htmlResource;\n          this.#rmpVast.creative.nonLinearType = 'html';\n        }\n        this.#rmpVast.creative.width = width;\n        this.#rmpVast.creative.height = height;\n        this.#rmpVast.creative.type = currentVariation.type;\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `selected non-linear creative`, this.#rmpVast.creative);\n        break;\n      }\n    }\n    // if not supported NonLinear type ping for error\n    if (!this.#rmpVast.creative.mediaUrl || isDimensionError) {\n      let vastErrorCode = 503;\n      if (isDimensionError) {\n        vastErrorCode = 501;\n      }\n      this.#rmpVast.rmpVastUtils.processVastErrors(vastErrorCode, true);\n      return;\n    }\n    this.#rmpVast.creative.clickThroughUrl = currentVariation.nonlinearClickThroughURLTemplate;\n    if (currentVariation.nonlinearClickTrackingURLTemplates.length > 0) {\n      currentVariation.nonlinearClickTrackingURLTemplates.forEach(nonlinearClickTrackingURLTemplate => {\n        if (nonlinearClickTrackingURLTemplate.url) {\n          this.#rmpVast.trackingTags.push({\n            event: 'clickthrough',\n            url: nonlinearClickTrackingURLTemplate.url\n          });\n        }\n      });\n    }\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      this.#rmpVast.rmpVastAdPlayer.append();\n    }\n  }\n\n}\n","import FW from '../framework/fw';\nimport Logger from '../framework/logger';\n\n\nexport default class CompanionCreative {\n\n  #rmpVast;\n  #requiredAttribute = '';\n  #validCompanionAds = [];\n  #companionAdsList = [];\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n  }\n\n  get requiredAttribute() {\n    return this.#requiredAttribute;\n  }\n\n  #onImgClickThrough(companionClickThroughUrl, companionClickTrackingUrls, event) {\n    if (event) {\n      event.stopPropagation();\n      if (event.type === 'touchend') {\n        event.preventDefault();\n      }\n    }\n    if (companionClickTrackingUrls) {\n      companionClickTrackingUrls.forEach(companionClickTrackingUrl => {\n        if (companionClickTrackingUrl.url) {\n          this.#rmpVast.rmpVastTracking.pingURI(companionClickTrackingUrl.url);\n        }\n      });\n    }\n    FW.openWindow(companionClickThroughUrl);\n  }\n\n  reset() {\n    this.#requiredAttribute = '';\n    this.#validCompanionAds = [];\n    this.#companionAdsList = [];\n  }\n\n  parse(creative) {\n    // reset variables in case wrapper\n    this.#validCompanionAds = [];\n    this.#requiredAttribute = '';\n    if (creative.required) {\n      this.#requiredAttribute = creative.required;\n    }\n    const companions = creative.variations;\n    // at least 1 Companion is expected to continue\n    if (companions.length > 0) {\n      for (let i = 0; i < companions.length; i++) {\n        const companion = companions[i];\n        const newCompanionAds = {\n          width: companion.width,\n          height: companion.height\n        };\n        const staticResourceFound = companion.staticResources.find(staticResource => {\n          if (staticResource.url) {\n            return true;\n          }\n          return false;\n        });\n        const iframeResourceFound = companion.iframeResources.find(iframeResource => {\n          if (iframeResource) {\n            return true;\n          }\n          return false;\n        });\n        const htmlResourceFound = companion.htmlResources.find(htmlResource => {\n          if (htmlResource) {\n            return true;\n          }\n          return false;\n        });\n        if (staticResourceFound && staticResourceFound.url) {\n          newCompanionAds.imageUrl = staticResourceFound.url;\n        }\n        if (iframeResourceFound && iframeResourceFound.length > 0) {\n          newCompanionAds.iframeUrl = iframeResourceFound;\n        }\n        if (htmlResourceFound && htmlResourceFound.length > 0) {\n          newCompanionAds.htmlContent = htmlResourceFound;\n        }\n        // if no companion content for this <Companion> then move on to the next\n        if (typeof staticResourceFound === 'undefined' &&\n          typeof iframeResourceFound === 'undefined' &&\n          typeof htmlResourceFound === 'undefined') {\n          continue;\n        }\n        if (companion.companionClickThroughURLTemplate) {\n          newCompanionAds.companionClickThroughUrl = companion.companionClickThroughURLTemplate;\n        }\n        if (companion.companionClickTrackingURLTemplates.length > 0) {\n          newCompanionAds.companionClickTrackingUrls = companion.companionClickTrackingURLTemplates;\n        }\n        if (companion.altText) {\n          newCompanionAds.altText = companion.altText;\n        }\n        if (companion.adSlotId) {\n          newCompanionAds.adSlotId = companion.adSlotId;\n        }\n        newCompanionAds.trackingEventsUrls = [];\n        if (companion.trackingEvents && companion.trackingEvents.creativeView) {\n          companion.trackingEvents.creativeView.forEach(creativeView => {\n            newCompanionAds.trackingEventsUrls.push(creativeView);\n          });\n        }\n        this.#validCompanionAds.push(newCompanionAds);\n      }\n    }\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `Parse companion ads follow`, this.#validCompanionAds);\n  }\n\n  getList(inputWidth, inputHeight) {\n    if (this.#validCompanionAds.length > 0) {\n      let availableCompanionAds;\n      if (typeof inputWidth === 'number' && inputWidth > 0 && typeof inputHeight === 'number' && inputHeight > 0) {\n        availableCompanionAds = this.#validCompanionAds.filter(companionAds => {\n          return inputWidth >= companionAds.width && inputHeight >= companionAds.height;\n        });\n      } else {\n        availableCompanionAds = this.#validCompanionAds;\n      }\n      if (availableCompanionAds.length > 0) {\n        this.#companionAdsList = availableCompanionAds;\n        return this.#companionAdsList;\n      }\n    }\n    return [];\n  }\n\n  getItem(index) {\n    if (typeof this.#companionAdsList[index] === 'undefined') {\n      return null;\n    }\n    const companionAd = this.#companionAdsList[index];\n    let html;\n    if (companionAd.imageUrl || companionAd.iframeUrl) {\n      if (companionAd.imageUrl) {\n        html = document.createElement('img');\n        if (companionAd.altText) {\n          html.alt = companionAd.altText;\n        }\n      } else {\n        html = document.createElement('iframe');\n        html.sandbox = 'allow-scripts allow-same-origin';\n      }\n      html.width = companionAd.width;\n      html.height = companionAd.height;\n      html.style.cursor = 'pointer';\n    } else if (companionAd.htmlContent) {\n      html = companionAd.htmlContent;\n    }\n    if (companionAd.imageUrl || companionAd.iframeUrl) {\n      const trackingEventsUrls = companionAd.trackingEventsUrls;\n      if (trackingEventsUrls.length > 0) {\n        html.onload = () => {\n          trackingEventsUrls.forEach(trackingEventsUrl => {\n            this.#rmpVast.rmpVastTracking.pingURI(trackingEventsUrl);\n          });\n        };\n        html.onerror = () => {\n          this.#rmpVast.rmpVastTracking.error(603);\n        };\n      }\n      let companionClickTrackingUrls = null;\n      if (companionAd.companionClickTrackingUrls) {\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `Companion click tracking URIs`, companionClickTrackingUrls);\n\n        companionClickTrackingUrls = companionAd.companionClickTrackingUrls;\n      }\n      if (companionAd.companionClickThroughUrl) {\n        const onImgClickThroughFn = this.#onImgClickThrough.bind(\n          this,\n          companionAd.companionClickThroughUrl,\n          companionClickTrackingUrls\n        );\n        FW.addEvents(['touchend', 'click'], html, onImgClickThroughFn);\n      }\n    }\n    if (companionAd.imageUrl) {\n      html.src = companionAd.imageUrl;\n    } else if (companionAd.iframeUrl) {\n      html.src = companionAd.iframeUrl;\n    } else if (companionAd.htmlContent) {\n      try {\n        const parser = new DOMParser();\n        html = parser.parseFromString(companionAd.htmlContent, 'text/html');\n        html = html.documentElement;\n      } catch (error) {\n        console.warn(error);\n        return null;\n      }\n    }\n    return html;\n  }\n\n}\n","import FW from '../framework/fw';\nimport Environment from '../framework/environment';\nimport Logger from '../framework/logger';\n\n\nexport default class AdPlayer {\n\n  #rmpVast;\n  #params;\n  #contentPlayer;\n  #adContainer;\n  #contentWrapper;\n  #adPlayer = null;\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#params = rmpVast.params;\n    this.#contentPlayer = rmpVast.currentContentPlayer;\n    this.#adContainer = rmpVast.adContainer;\n    this.#contentWrapper = rmpVast.contentWrapper;\n  }\n\n  set volume(level) {\n    if (this.#adPlayer) {\n      this.#adPlayer.volume = level;\n    }\n  }\n\n  get volume() {\n    if (this.#adPlayer) {\n      return this.#adPlayer.volume;\n    }\n    return -1;\n  }\n\n  set muted(muted) {\n    if (this.#adPlayer) {\n      if (muted && !this.#adPlayer.muted) {\n        this.#adPlayer.muted = true;\n      } else if (!muted && this.#adPlayer.muted) {\n        this.#adPlayer.muted = false;\n      }\n    }\n  }\n\n  get muted() {\n    if (this.#adPlayer) {\n      return this.#adPlayer.muted;\n    }\n    return false;\n  }\n\n  get duration() {\n    if (this.#adPlayer && FW.isNumber(this.#adPlayer.duration)) {\n      return this.#adPlayer.duration * 1000;\n    }\n    return -1;\n  }\n\n  get currentTime() {\n    if (this.#adPlayer && FW.isNumber(this.#adPlayer.currentTime)) {\n      return this.#adPlayer.currentTime * 1000;\n    }\n    return -1;\n  }\n\n  destroy() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `start destroying ad player`);\n\n    // destroy icons if any \n    if (this.#rmpVast.rmpVastIcons) {\n      this.#rmpVast.rmpVastIcons.destroy();\n    }\n\n    if (this.#rmpVast.rmpVastVpaidPlayer) {\n      this.#rmpVast.rmpVastVpaidPlayer.destroy();\n    }\n\n    // reset non-linear creative\n    if (this.#rmpVast.rmpVastNonLinearCreative) {\n      this.#rmpVast.rmpVastNonLinearCreative.destroy();\n    }\n\n    // reset linear creative\n    if (this.#rmpVast.rmpVastLinearCreative) {\n      this.#rmpVast.rmpVastLinearCreative.destroy();\n    }\n\n    // unwire events\n    this.#rmpVast.rmpVastTracking.destroy();\n\n    // hide rmp-ad-container\n    FW.hide(this.#adContainer);\n\n    // unwire anti-seek logic (iOS)\n    if (this.#rmpVast.rmpVastContentPlayer) {\n      this.#rmpVast.rmpVastContentPlayer.destroy();\n    }\n    // flush currentAdPlayer\n    try {\n      if (this.#adPlayer) {\n        this.#adPlayer.pause();\n        if (this.#rmpVast.rmpVastLinearCreative && this.#rmpVast.rmpVastLinearCreative.readingHlsJS) {\n          this.#rmpVast.rmpVastLinearCreative.readingHlsJS = false;\n          this.#rmpVast.rmpVastLinearCreative.hlsJSInstances[this.#rmpVast.rmpVastLinearCreative.hlsJSIndex].destroy();\n          this.#rmpVast.rmpVastLinearCreative.hlsJSIndex = this.#rmpVast.rmpVastLinearCreative.hlsJSIndex++;\n        } else {\n          // empty buffer\n          this.#adPlayer.removeAttribute('src');\n          this.#adPlayer.load();\n        }\n        FW.hide(this.#adPlayer);\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `flushing currentAdPlayer buffer after ad`);\n      }\n      if (this.#rmpVast.rmpVastNonLinearCreative) {\n        this.#rmpVast.rmpVastNonLinearCreative.destroy();\n      }\n    } catch (error) {\n      console.warn(error);\n    }\n\n    this.#rmpVast.resetVariablesForNewLoadAds();\n    this.#rmpVast.rmpVastUtils.createApiEvent('addestroyed');\n  }\n\n  init() {\n    this.#rmpVast.adContainer = this.#adContainer = document.createElement('div');\n    this.#adContainer.className = 'rmp-ad-container';\n    this.#contentWrapper.appendChild(this.#adContainer);\n    FW.hide(this.#adContainer);\n\n    this.#rmpVast.currentAdPlayer = this.#adPlayer = document.createElement('video');\n    Logger.printVideoEvents(this.#rmpVast.debugRawConsoleLogs, this.#adPlayer, 'ad');\n    // disable native UI cast/PiP for ad player \n    // DEPRECATED - this is no longer necessary \n    //this.#adPlayer.disableRemotePlayback = true;\n    //this.#adPlayer.disablePictureInPicture = true;\n    this.#adPlayer.className = 'rmp-ad-vast-video-player';\n    if (this.#params.showControlsForAdPlayer) {\n      this.#adPlayer.controls = true;\n    } else {\n      this.#adPlayer.controls = false;\n    }\n\n    // this.currentContentPlayer.muted may not be set because of a bug in some version of Chromium\n    if (this.#contentPlayer.hasAttribute('muted')) {\n      this.#contentPlayer.muted = true;\n    }\n    if (this.#contentPlayer.muted) {\n      this.#adPlayer.muted = true;\n    }\n    // black poster based 64 png\n    this.#adPlayer.poster = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=';\n    // note to myself: we use setAttribute for non-standard attribute (instead of . notation)\n    this.#adPlayer.setAttribute('x-webkit-airplay', 'allow');\n    if (typeof this.#contentPlayer.playsInline === 'boolean' && this.#contentPlayer.playsInline) {\n      this.#adPlayer.playsInline = true;\n    }\n    // append to rmp-ad-container\n    FW.hide(this.#adPlayer);\n    this.#adContainer.appendChild(this.#adPlayer);\n\n    // we track ended state for content player\n    this.#contentPlayer.addEventListener('ended', () => {\n      if (this.#rmpVast.__adOnStage) {\n        return;\n      }\n      this.#rmpVast.contentCompleted = true;\n    });\n    // we need to preload as much creative data as possible\n    // also on macOS and iOS Safari we need to force preload to avoid \n    // playback issues\n    this.#adPlayer.preload = 'auto';\n    // we need to init the ad player video tag\n    // according to https://developers.google.com/interactive-media-ads/docs/sdks/html5/mobile_video\n    // to initialize the content element, a call to the load() method is sufficient.\n    if (Environment.isMobile) {\n      // on Android both this.currentContentPlayer (to resume content)\n      // and this.currentAdPlayer (to start ads) needs to be init\n      // on iOS only init this.currentAdPlayer (as same as this.currentContentPlayer)\n      this.#contentPlayer.load();\n      this.#adPlayer.load();\n    }\n    this.#rmpVast.rmpVastInitialized = true;\n  }\n\n  append(url, type) {\n    // in case loadAds is called several times - rmpVastInitialized is already true\n    // but we still need to locate the currentAdPlayer\n    if (!this.#adPlayer) {\n      // we use existing ad player as it is already \n      // available and initialized (no need for user interaction)\n      let existingAdPlayer = null;\n      if (this.#adContainer) {\n        existingAdPlayer = this.#adContainer.querySelector('.rmp-ad-vast-video-player');\n      }\n      if (existingAdPlayer === null) {\n        this.#rmpVast.rmpVastUtils.processVastErrors(900, true);\n        return;\n      }\n      this.#adPlayer = existingAdPlayer;\n    }\n    this.#rmpVast.rmpVastContentPlayer.pause();\n    if (!this.#rmpVast.creative.isLinear) {\n      // we do not display non-linear ads with outstream ad \n      // they won't fit the format\n      if (this.#params.outstream) {\n        Logger.print(this.#rmpVast.debugRawConsoleLogs, `non-linear creative detected for outstream ad mode - discarding creative`);\n        this.#rmpVast.rmpVastUtils.processVastErrors(201, true);\n        return;\n      } else {\n        if (this.#rmpVast.rmpVastNonLinearCreative) {\n          this.#rmpVast.rmpVastNonLinearCreative.update();\n        }\n      }\n    } else {\n      if (url && type && this.#rmpVast.rmpVastLinearCreative) {\n        this.#rmpVast.rmpVastLinearCreative.update(url, type);\n      }\n    }\n    // wire tracking events\n    this.#rmpVast.rmpVastTracking.wire();\n\n    // append icons - only where ad player is different from \n    // content player\n    if (this.#rmpVast.rmpVastIcons) {\n      const iconsData = this.#rmpVast.rmpVastIcons.iconsData;\n      if (iconsData.length > 0) {\n        this.#rmpVast.rmpVastIcons.append();\n      }\n    }\n  }\n\n  play(firstAdPlayerPlayRequest) {\n    if (this.#adPlayer && this.#adPlayer.paused) {\n      this.#rmpVast.rmpVastUtils.playPromise('vast', firstAdPlayerPlayRequest);\n    }\n  }\n\n  pause() {\n    if (this.#adPlayer && !this.#adPlayer.paused) {\n      this.#adPlayer.pause();\n    }\n  }\n\n  resumeContent() {\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, `AdPlayer resumeContent requested`);\n    if (this.#rmpVast.rmpVastAdPlayer) {\n      this.#rmpVast.rmpVastAdPlayer.destroy();\n    }\n    if (this.#rmpVast.rmpVastLinearCreative) {\n      this.#rmpVast.rmpVastLinearCreative.readingHlsJS = false;\n    }\n    // if contentPlayerCompleted = true - we are in a post-roll situation\n    // in that case we must not resume content once the post-roll has completed\n    // you can use contentPlayerCompleted to support \n    // custom use-cases when dynamically changing source for content\n    // no need to resume content for outstream ads\n    if (!this.#rmpVast.contentCompleted && !this.#params.outstream) {\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `content player play requested after ad player resumeContent`);\n      this.#rmpVast.rmpVastContentPlayer.play();\n    }\n    this.#rmpVast.contentCompleted = false;\n  }\n\n}\n","import Logger from '../framework/logger';\n\n\nexport default class OmSdkManager {\n\n  #rmpVast;\n  #contentPlayer;\n  #adPlayer;\n  #params;\n  #isSkippableAd;\n  #skipTimeOffset;\n  #adVerifications;\n  #VastProperties = null;\n  #adEvents = null;\n  #mediaEvents = null;\n  #adSession = null;\n  #lastVideoTime = -1;\n  #onFullscreenChangeFn = null;\n\n  constructor(adVerifications, rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#contentPlayer = rmpVast.currentContentPlayer;\n    this.#adPlayer = rmpVast.currentAdPlayer;\n    this.#params = rmpVast.params;\n    this.#isSkippableAd = rmpVast.isSkippableAd;\n    this.#skipTimeOffset = rmpVast.skipTimeOffset;\n    this.#adVerifications = adVerifications;\n  }\n\n  #destroy() {\n    document.removeEventListener('fullscreenchange', this.#onFullscreenChangeFn);\n    this.#adSession.finish();\n  }\n\n  #onFullscreenChange() {\n    const isFullscreen = document.fullscreenElement !== null;\n    const playerState = isFullscreen ? 'fullscreen' : 'normal';\n    this.#mediaEvents.playerStateChange(playerState);\n  }\n\n  #pingVerificationNotExecuted(verification, reasonCode) {\n    if (typeof verification.trackingEvents !== 'undefined' &&\n      Array.isArray(verification.trackingEvents.verificationNotExecuted) &&\n      verification.trackingEvents.verificationNotExecuted.length > 0) {\n      verification.trackingEvents.verificationNotExecuted.forEach(verificationNotExecutedURI => {\n        let validatedURI = verificationNotExecutedURI;\n        const reasonPattern = /\\[REASON\\]/gi;\n        if (reasonPattern.test(validatedURI)) {\n          validatedURI = validatedURI.replace(reasonPattern, reasonCode);\n        }\n        this.#rmpVast.rmpVastTracking.pingURI(validatedURI);\n      });\n    }\n  }\n\n  #adPlayerDidDispatchTimeUpdate() {\n    if (!this.#adEvents || !this.#mediaEvents || !this.#adPlayer || this.#adPlayer.playbackRate === 0) {\n      return;\n    }\n    // Check if playback has crossed a quartile threshold, and report that to\n    // the OMSDK.\n    const adPlayerCurrentTime = this.#adPlayer.currentTime;\n    const adPlayerDuration = this.#adPlayer.duration;\n    if (adPlayerCurrentTime > -1 && adPlayerDuration > 0) {\n      const currentVideoTimePerCent = adPlayerCurrentTime / adPlayerDuration;\n      if (this.#lastVideoTime < 0 && currentVideoTimePerCent >= 0) {\n        this.#adEvents.impressionOccurred();\n        this.#mediaEvents.start(\n          adPlayerDuration,\n          this.#adPlayer.volume\n        );\n      } else if (this.#lastVideoTime < 0.25 && currentVideoTimePerCent >= 0.25) {\n        this.#mediaEvents.firstQuartile();\n      } else if (this.#lastVideoTime < 0.5 && currentVideoTimePerCent >= 0.5) {\n        this.#mediaEvents.midpoint();\n      } else if (this.#lastVideoTime < 0.75 && currentVideoTimePerCent >= 0.75) {\n        this.#mediaEvents.thirdQuartile();\n      } else if (this.#lastVideoTime < 1 && currentVideoTimePerCent >= 1) {\n        this.#mediaEvents.complete();\n        // to prevent ad pod to fire verification events\n        this.#adEvents = null;\n        this.#mediaEvents = null;\n        // Wait 300 ms, then finish the session.\n        window.setTimeout(() => {\n          this.#destroy();\n        }, 300);\n      }\n      this.#lastVideoTime = currentVideoTimePerCent;\n    }\n  }\n\n  #adPlayerDidDispatchEvent(event) {\n    if (!this.#adSession || !this.#adEvents || !this.#mediaEvents || !this.#VastProperties) {\n      return;\n    }\n    let vastProperties, volume;\n    let videoPosition = 'preroll';\n    switch (event.type) {\n      case 'error':\n        this.#adSession.error(\n          'video',\n          this.#adPlayer.error.message\n        );\n        break;\n      case 'loadeddata':\n        if (this.#skipTimeOffset < 0) {\n          this.#skipTimeOffset = 0;\n        }\n        if (this.#params.outstream) {\n          videoPosition = 'standalone';\n        } else {\n          const contentPlayerCurrentTime = this.#contentPlayer.currentTime;\n          const contentPlayerDuration = this.#contentPlayer.duration;\n          if (contentPlayerCurrentTime > 0 && contentPlayerCurrentTime < contentPlayerDuration) {\n            videoPosition === 'midroll';\n          } else if (contentPlayerCurrentTime >= contentPlayerDuration) {\n            videoPosition = 'postroll';\n          }\n        }\n        vastProperties = new this.#VastProperties(\n          this.#isSkippableAd,\n          this.#skipTimeOffset,\n          this.#params.omidAutoplay,\n          videoPosition\n        );\n        this.#adEvents.loaded(vastProperties);\n        break;\n      case 'pause':\n        this.#mediaEvents.pause();\n        break;\n      case 'play':\n        if (this.#adPlayer.currentTime > 0) {\n          this.#mediaEvents.resume();\n        }\n        break;\n      case 'timeupdate':\n        this.#adPlayerDidDispatchTimeUpdate();\n        break;\n      case 'volumechange':\n        volume = this.#adPlayer.muted ? 0 : this.#adPlayer.volume;\n        this.#mediaEvents.volumeChange(volume);\n        break;\n      case 'click':\n        this.#mediaEvents.adUserInteraction('click');\n        break;\n      default:\n        break;\n    }\n  }\n\n  #onOMWebLoaded() {\n    // remove executable to only have JavaScriptResource\n    const validatedVerificationArray = [];\n    // we only execute browserOptional=\"false\" unless there are none \n    // in which case we will look for browserOptional=\"true\"\n    let browserOptional = [];\n    for (let i = 0; i < this.#adVerifications.length; i++) {\n      const verification = this.#adVerifications[i];\n      if (typeof verification.resource !== 'string' || verification.resource === '') {\n        continue;\n      }\n      // Ping rejection code 2\n      // Verification not supported. The API framework or language type of\n      // verification resources provided are not implemented or supported by\n      // the player/SDK\n      if (typeof verification.type !== 'undefined' && verification.type === 'executable') {\n        this.#pingVerificationNotExecuted(verification, '2');\n        continue;\n      }\n      // if not OMID, we reject\n      if (typeof verification.apiFramework !== 'undefined' && verification.apiFramework !== 'omid') {\n        this.#pingVerificationNotExecuted(verification, '2');\n        continue;\n      }\n      // reject vendors not in omidAllowedVendors if omidAllowedVendors is not empty\n      if (this.#params.omidAllowedVendors.length > 0 && typeof verification.vendor !== 'undefined') {\n        if (!this.#params.omidAllowedVendors.includes(verification.vendor)) {\n          continue;\n        }\n      }\n      if (typeof verification.browserOptional !== 'undefined' && verification.browserOptional === true) {\n        browserOptional.push(i);\n        continue;\n      }\n      validatedVerificationArray.push(verification);\n    }\n    if (validatedVerificationArray.length === 0 && browserOptional.length > 0) {\n      browserOptional.forEach(browserOptionalItem => {\n        validatedVerificationArray.push(this.#adVerifications[browserOptionalItem]);\n      });\n    }\n    this.#adVerifications = validatedVerificationArray;\n    let sessionClient;\n    try {\n      sessionClient = OmidSessionClient.default;\n    } catch (error) {\n      console.warn(error);\n      return;\n    }\n    const AdSession = sessionClient.AdSession;\n    const Partner = sessionClient.Partner;\n    const Context = sessionClient.Context;\n    const VerificationScriptResource = sessionClient.VerificationScriptResource;\n    const AdEvents = sessionClient.AdEvents;\n    const MediaEvents = sessionClient.MediaEvents;\n    this.#VastProperties = sessionClient.VastProperties;\n    const partner = new Partner(this.#params.partnerName, this.#params.partnerVersion);\n\n    let resources = [];\n    if (this.#params.omidRunValidationScript) {\n      // https://interactiveadvertisingbureau.github.io/Open-Measurement-SDKJS/validation.html\n      const VALIDATION_SCRIPT_URL = 'https://cdn.radiantmediatechs.com/rmp/omsdk/1.5.5/omid-validation-verification-script-v1.js';\n      const VENDOR_KEY = 'dummyVendor'; // you must use this value as is\n      const PARAMS = JSON.stringify({ k: 'v' });\n      resources.push(new VerificationScriptResource(VALIDATION_SCRIPT_URL, VENDOR_KEY, PARAMS));\n    } else {\n      // we support Access Modes Creative Access a.k.a full\n      const accessMode = 'full';\n      resources = this.#adVerifications.map(verification => {\n        return new VerificationScriptResource(\n          verification.resource,\n          verification.vendor,\n          verification.parameters,\n          accessMode\n        );\n      });\n    }\n    const contentUrl = document.location.href;\n    const context = new Context(partner, resources, contentUrl);\n\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, ``, resources);\n\n\n    context.underEvaluation = true;\n\n\n    const omdSdkServiceWindow = window.top;\n    if (!omdSdkServiceWindow) {\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `OMSDK: invalid serviceWindow - return`);\n      return;\n    }\n    context.setServiceWindow(omdSdkServiceWindow);\n    context.setVideoElement(this.#adPlayer);\n    Logger.print(this.#rmpVast.debugRawConsoleLogs, ``, context);\n    this.#adSession = new AdSession(context);\n    this.#adSession.setCreativeType('video');\n    this.#adSession.setImpressionType('beginToRender');\n    if (!this.#adSession.isSupported()) {\n      Logger.print(this.#rmpVast.debugRawConsoleLogs, `OMSDK: invalid serviceWindow - return`);\n      return;\n    }\n    this.#adEvents = new AdEvents(this.#adSession);\n    this.#mediaEvents = new MediaEvents(this.#adSession);\n    this.#adSession.start();\n  }\n\n  init() {\n    const videoEventTypes = [\n      'error',\n      'loadeddata',\n      'pause',\n      'play',\n      'timeupdate',\n      'volumechange',\n      'click',\n    ];\n\n    // handle ad player events\n    videoEventTypes.forEach(eventType => {\n      this.#adPlayer.addEventListener(eventType, event => this.#adPlayerDidDispatchEvent(event));\n    });\n    // handle fullscreenchange \n    this.#onFullscreenChangeFn = this.#onFullscreenChange.bind(this);\n    document.addEventListener('fullscreenchange', this.#onFullscreenChangeFn);\n    // Service Script To incorporate omweb-v1.js, use a <script> tag - we are assuming it is there\n    this.#onOMWebLoaded();\n  }\n\n}\n","export default class Dispatcher {\n\n  constructor(eventName) {\n    this.eventName = eventName;\n    this.callbacks = [];\n  }\n\n  registerCallback(callback) {\n    this.callbacks.push(callback);\n  }\n\n  unregisterCallback(callback) {\n    const index = this.callbacks.indexOf(callback);\n    if (index > -1) {\n      this.callbacks.splice(index, 1);\n    }\n  }\n\n  fire(data) {\n    const callbacks = this.callbacks.slice(0);\n    callbacks.forEach(callback => {\n      callback(data);\n    });\n  }\n\n}\n","import FW from '../framework/fw';\n\n\nexport default class ContentPlayer {\n\n  #rmpVast;\n  #contentPlayer;\n  #customPlaybackCurrentTime = 0;\n  #antiSeekLogicInterval = null;\n\n  constructor(rmpVast) {\n    this.#rmpVast = rmpVast;\n    this.#contentPlayer = rmpVast.currentContentPlayer;\n  }\n\n  set volume(level) {\n    if (this.#contentPlayer) {\n      this.#contentPlayer.volume = level;\n    }\n  }\n\n  get volume() {\n    if (this.#contentPlayer) {\n      return this.#contentPlayer.volume;\n    }\n    return -1;\n  }\n\n  get muted() {\n    if (this.#contentPlayer) {\n      return this.#contentPlayer.muted;\n    }\n    return false;\n  }\n\n  set muted(muted) {\n    if (this.#contentPlayer) {\n      if (muted && !this.#contentPlayer.muted) {\n        this.#contentPlayer.muted = true;\n      } else if (!muted && this.#contentPlayer.muted) {\n        this.#contentPlayer.muted = false;\n      }\n    }\n  }\n\n  get currentTime() {\n    if (this.#contentPlayer && FW.isNumber(this.#contentPlayer.currentTime)) {\n      return this.#contentPlayer.currentTime * 1000;\n    }\n    return -1;\n  }\n\n  destroy() {\n    window.clearInterval(this.#antiSeekLogicInterval);\n  }\n\n  play(firstContentPlayerPlayRequest) {\n    if (this.#contentPlayer && this.#contentPlayer.paused) {\n      this.#rmpVast.rmpVastUtils.playPromise('content', firstContentPlayerPlayRequest);\n    }\n  }\n\n  pause() {\n    if (this.#contentPlayer && !this.#contentPlayer.paused) {\n      this.#contentPlayer.pause();\n    }\n  }\n\n  seekTo(msSeek) {\n    if (!FW.isNumber(msSeek)) {\n      return;\n    }\n    if (msSeek >= 0 && this.#contentPlayer) {\n      this.#contentPlayer.currentTime = msSeek / 1000;\n    }\n  }\n\n  preventSeekingForCustomPlayback() {\n    // after much poking it appears we cannot rely on seek events for iOS to \n    // set this up reliably - so interval it is\n    if (this.#contentPlayer) {\n      this.#antiSeekLogicInterval = window.setInterval(() => {\n        if (this.#rmpVast.creative.isLinear && this.#rmpVast.__adOnStage) {\n          const diff = Math.abs(this.#customPlaybackCurrentTime - this.#contentPlayer.currentTime);\n          if (diff > 1) {\n            this.#contentPlayer.currentTime = this.#customPlaybackCurrentTime;\n          }\n          this.#customPlaybackCurrentTime = this.#contentPlayer.currentTime;\n        }\n      }, 200);\n    }\n  }\n\n}\n","function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const t=[\"ADCATEGORIES\",\"ADCOUNT\",\"ADPLAYHEAD\",\"ADSERVINGID\",\"ADTYPE\",\"APIFRAMEWORKS\",\"APPBUNDLE\",\"ASSETURI\",\"BLOCKEDADCATEGORIES\",\"BREAKMAXADLENGTH\",\"BREAKMAXADS\",\"BREAKMAXDURATION\",\"BREAKMINADLENGTH\",\"BREAKMINDURATION\",\"BREAKPOSITION\",\"CLICKPOS\",\"CLICKTYPE\",\"CLIENTUA\",\"CONTENTID\",\"CONTENTPLAYHEAD\",\"CONTENTURI\",\"DEVICEIP\",\"DEVICEUA\",\"DOMAIN\",\"EXTENSIONS\",\"GDPRCONSENT\",\"IFA\",\"IFATYPE\",\"INVENTORYSTATE\",\"LATLONG\",\"LIMITADTRACKING\",\"MEDIAMIME\",\"MEDIAPLAYHEAD\",\"OMIDPARTNER\",\"PAGEURL\",\"PLACEMENTTYPE\",\"PLAYERCAPABILITIES\",\"PLAYERSIZE\",\"PLAYERSTATE\",\"PODSEQUENCE\",\"REGULATIONS\",\"SERVERSIDE\",\"SERVERUA\",\"TRANSACTIONID\",\"UNIVERSALADID\",\"VASTVERSIONS\",\"VERIFICATIONVENDORS\"];function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=[],n=s(e);!t.ERRORCODE||r.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=d(Math.round(1e8*Math.random())),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING;for(const e in t)t[e]=c(t[e]);for(const e in n){const r=n[e];\"string\"==typeof r&&a.push(i(r,t))}return a}function i(e,r){const i=(e=a(e,r)).match(/[^[\\]]+(?=])/g);if(!i)return e;let s=i.filter((e=>t.indexOf(e)>-1));return 0===s.length?e:(s=s.reduce(((e,t)=>(e[t]=-1,e)),{}),a(e,s))}function a(e,t){let r=e;for(const e in t){const i=t[e];r=r.replace(new RegExp(\"(?:\\\\[|%%)(\".concat(e,\")(?:\\\\]|%%)\"),\"g\"),i)}return r}function s(e){return Array.isArray(e)?e.map((e=>e&&e.hasOwnProperty(\"url\")?e.url:e)):e}function n(e){return/^(https?:\\/\\/|\\/\\/)/.test(e)}function o(e,t){for(let r=0;r<t.length;r++)if(l(t[r],e))return!0;return!1}function l(e,t){if(e&&t){const r=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);return r.length===i.length&&(e.id===t.id&&e.url===t.url)}return!1}function c(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>\"%\".concat(e.charCodeAt(0).toString(16))))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString().padStart(t,\"0\")}const u={track:function(e,t,i){r(e,t,i).forEach((e=>{if(\"undefined\"!=typeof window&&null!==window){(new Image).src=e}}))},resolveURLTemplates:r,extractURLsFromTemplates:s,filterUrlTemplates:function(e){return e.reduce(((e,t)=>{const r=t.url||t;return n(r)?e.validUrls.push(r):e.invalidUrls.push(r),e}),{validUrls:[],invalidUrls:[]})},containsTemplateObject:o,isTemplateObjectEqual:l,encodeURIComponentRFC3986:c,replaceUrlMacros:i,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce(((t,r)=>t.concat(Array.isArray(r)?e(r):r)),[])},joinArrayOfUniqueTemplateObjs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];return r.concat(i).reduce(((e,t)=>(o(t,e)||e.push(t),e)),[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:d,isValidUrl:n,isBrowserEnvironment:function(){return\"undefined\"!=typeof window},formatMacrosValues:function(e){return\"object\"!=typeof e?e:JSON.stringify(e)}};function h(e){return[\"true\",\"TRUE\",\"True\",\"1\"].includes(e)}function p(e){if(null==e)return-1;if(u.isNumeric(e))return parseInt(e);const t=e.split(\":\");if(3!==t.length)return-1;const r=t[2].split(\".\");let i=parseInt(r[0]);2===r.length&&(i+=parseFloat(\"0.\".concat(r[1])));const a=parseInt(60*t[1]),s=parseInt(60*t[0]*60);return isNaN(s)||isNaN(a)||isNaN(i)||a>3600||i>60?-1:s+a+i}const m={childByName:function(e,t){return Array.from(e.childNodes).find((e=>e.nodeName===t))},childrenByName:function(e,t){return Array.from(e.childNodes).filter((e=>e.nodeName===t))},resolveVastAdTagURI:function(e,t){if(!t)return e;if(e.startsWith(\"//\")){const{protocol:t}=location;return\"\".concat(t).concat(e)}if(!e.includes(\"://\")){const r=t.slice(0,t.lastIndexOf(\"/\"));return\"\".concat(r,\"/\").concat(e)}return e},parseBoolean:h,parseNodeText:function(e){return e&&(e.textContent||e.text||\"\").trim()},copyNodeAttribute:function(e,t,r){const i=t.getAttribute(e);i&&r.setAttribute(e,i)},parseAttributes:function(e){return Array.from(e.attributes).reduce(((e,t)=>(e[t.nodeName]=t.nodeValue,e)),{})},parseDuration:p,getStandAloneAds:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>!parseInt(e.sequence,10)))},getSortedAdPods:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>parseInt(e.sequence,10))).sort(((e,t)=>e.sequence-t.sequence))},assignAttributes:function(e,t){e&&Array.from(e).forEach((e=>{let{nodeName:r,nodeValue:i}=e;if(r&&i&&t.hasOwnProperty(r)){let e=i;\"boolean\"==typeof t[r]&&(e=h(e)),t[r]=e}}))},mergeWrapperAdData:function(e,t){var r;e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),t.viewableImpression.length>0&&(e.viewableImpression=[...e.viewableImpression,...t.viewableImpression]),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;const i=(t.creatives||[]).filter((e=>e&&\"companion\"===e.type)),a=i.reduce(((e,t)=>((t.variations||[]).forEach((t=>{(t.companionClickTrackingURLTemplates||[]).forEach((t=>{u.containsTemplateObject(t,e)||e.push(t)}))})),e)),[]);e.creatives=i.concat(e.creatives);const s=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,n=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;if(e.creatives.forEach((e=>{if(t.trackingEvents&&t.trackingEvents[e.type])for(const r in t.trackingEvents[e.type]){const i=t.trackingEvents[e.type][r];Array.isArray(e.trackingEvents[r])||(e.trackingEvents[r]=[]),e.trackingEvents[r]=e.trackingEvents[r].concat(i)}\"linear\"===e.type&&(s&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),n&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),\"companion\"===e.type&&a.length&&(e.variations||[]).forEach((e=>{e.companionClickTrackingURLTemplates=u.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,a)}))})),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories)),null!==(r=t.creatives)&&void 0!==r&&r.length){const r=t.creatives.filter((e=>{var t;return(null===(t=e.icons)||void 0===t?void 0:t.length)&&!e.mediaFiles.length}));r.length&&(e.creatives=e.creatives.concat(r))}}};function g(t,r){const i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:r,adId:i,sequence:a,apiFramework:s}=e(t);return{id:r,adId:i,sequence:a,apiFramework:s,type:\"companion\",required:null,variations:[]}}(r);return i.required=t.getAttribute(\"required\")||null,i.variations=m.childrenByName(t,\"Companion\").map((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:\"companionAd\",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotId:e.adSlotId||null,pxratio:e.pxratio||\"1\",renderingMode:e.renderingMode||\"default\",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(m.parseAttributes(e));t.htmlResources=m.childrenByName(e,\"HTMLResource\").reduce(((e,t)=>{const r=m.parseNodeText(t);return r?e.concat(r):e}),[]),t.iframeResources=m.childrenByName(e,\"IFrameResource\").reduce(((e,t)=>{const r=m.parseNodeText(t);return r?e.concat(r):e}),[]),t.staticResources=m.childrenByName(e,\"StaticResource\").reduce(((e,t)=>{const r=m.parseNodeText(t);return r?e.concat({url:r,creativeType:t.getAttribute(\"creativeType\")||null}):e}),[]),t.altText=m.parseNodeText(m.childByName(e,\"AltText\"))||null;const r=m.childByName(e,\"TrackingEvents\");r&&m.childrenByName(r,\"Tracking\").forEach((e=>{const r=e.getAttribute(\"event\"),i=m.parseNodeText(e);r&&i&&(Array.isArray(t.trackingEvents[r])||(t.trackingEvents[r]=[]),t.trackingEvents[r].push(i))})),t.companionClickTrackingURLTemplates=m.childrenByName(e,\"CompanionClickTracking\").map((e=>({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)}))),t.companionClickThroughURLTemplate=m.parseNodeText(m.childByName(e,\"CompanionClickThrough\"))||null;const i=m.childByName(e,\"AdParameters\");return i&&(t.adParameters={value:m.parseNodeText(i),xmlEncoded:i.getAttribute(\"xmlEncoded\")||null}),t})),i}function v(t,r){let i;const a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:r,adId:i,sequence:a,apiFramework:s}=e(t);return{id:r,adId:i,sequence:a,apiFramework:s,type:\"linear\",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(r);a.duration=m.parseDuration(m.parseNodeText(m.childByName(t,\"Duration\")));const s=t.getAttribute(\"skipoffset\");if(null==s)a.skipDelay=null;else if(\"%\"===s.charAt(s.length-1)&&-1!==a.duration){const e=parseInt(s,10);a.skipDelay=a.duration*(e/100)}else a.skipDelay=m.parseDuration(s);const n=m.childByName(t,\"VideoClicks\");if(n){const e=m.childByName(n,\"ClickThrough\");a.videoClickThroughURLTemplate=e?{id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)}:null,m.childrenByName(n,\"ClickTracking\").forEach((e=>{a.videoClickTrackingURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})})),m.childrenByName(n,\"CustomClick\").forEach((e=>{a.videoCustomClickURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})}))}const o=m.childByName(t,\"AdParameters\");o&&(a.adParameters={value:m.parseNodeText(o),xmlEncoded:o.getAttribute(\"xmlEncoded\")||null}),m.childrenByName(t,\"TrackingEvents\").forEach((e=>{m.childrenByName(e,\"Tracking\").forEach((e=>{let t=e.getAttribute(\"event\");const r=m.parseNodeText(e);if(t&&r){if(\"progress\"===t){if(i=e.getAttribute(\"offset\"),!i)return;t=\"%\"===i.charAt(i.length-1)?\"progress-\".concat(i):\"progress-\".concat(m.parseDuration(i))}Array.isArray(a.trackingEvents[t])||(a.trackingEvents[t]=[]),a.trackingEvents[t].push(r)}}))})),m.childrenByName(t,\"MediaFiles\").forEach((e=>{m.childrenByName(e,\"MediaFile\").forEach((e=>{a.mediaFiles.push(function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:\"progressive\",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute(\"id\"),t.fileURL=m.parseNodeText(e),t.deliveryType=e.getAttribute(\"delivery\"),t.codec=e.getAttribute(\"codec\"),t.mimeType=e.getAttribute(\"type\"),t.mediaType=e.getAttribute(\"mediaType\")||\"2D\",t.apiFramework=e.getAttribute(\"apiFramework\"),t.fileSize=parseInt(e.getAttribute(\"fileSize\")||0),t.bitrate=parseInt(e.getAttribute(\"bitrate\")||0),t.minBitrate=parseInt(e.getAttribute(\"minBitrate\")||0),t.maxBitrate=parseInt(e.getAttribute(\"maxBitrate\")||0),t.width=parseInt(e.getAttribute(\"width\")||0),t.height=parseInt(e.getAttribute(\"height\")||0);const r=e.getAttribute(\"scalable\");r&&\"string\"==typeof r&&(t.scalable=m.parseBoolean(r));const i=e.getAttribute(\"maintainAspectRatio\");i&&\"string\"==typeof i&&(t.maintainAspectRatio=m.parseBoolean(i));return t}(e))}));const t=m.childByName(e,\"InteractiveCreativeFile\");t&&(a.interactiveCreativeFile=function(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:m.parseBoolean(e.variableDuration),fileURL:null}}(m.parseAttributes(e));return t.fileURL=m.parseNodeText(e),t}(t));const r=m.childByName(e,\"ClosedCaptionFiles\");r&&m.childrenByName(r,\"ClosedCaptionFile\").forEach((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(m.parseAttributes(e));t.fileURL=m.parseNodeText(e),a.closedCaptionFiles.push(t)}));const i=m.childByName(e,\"Mezzanine\"),s=function(e,t){const r={};let i=!1;return t.forEach((t=>{e&&e.getAttribute(t)?r[t]=e.getAttribute(t):i=!0})),i?null:r}(i,[\"delivery\",\"type\",\"width\",\"height\"]);if(s){const e={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:\"2D\"};e.id=i.getAttribute(\"id\"),e.fileURL=m.parseNodeText(i),e.delivery=s.delivery,e.codec=i.getAttribute(\"codec\"),e.type=s.type,e.width=parseInt(s.width,10),e.height=parseInt(s.height,10),e.fileSize=parseInt(i.getAttribute(\"fileSize\"),10),e.mediaType=i.getAttribute(\"mediaType\")||\"2D\",a.mezzanine=e}}));const l=m.childByName(t,\"Icons\");return l&&m.childrenByName(l,\"Icon\").forEach((e=>{a.icons.push(function(e){const t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:\"1\",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};t.program=e.getAttribute(\"program\"),t.height=parseInt(e.getAttribute(\"height\")||0),t.width=parseInt(e.getAttribute(\"width\")||0),t.xPosition=function(e){if(-1!==[\"left\",\"right\"].indexOf(e))return e;return parseInt(e||0)}(e.getAttribute(\"xPosition\")),t.yPosition=function(e){if(-1!==[\"top\",\"bottom\"].indexOf(e))return e;return parseInt(e||0)}(e.getAttribute(\"yPosition\")),t.apiFramework=e.getAttribute(\"apiFramework\"),t.pxratio=e.getAttribute(\"pxratio\")||\"1\",t.offset=m.parseDuration(e.getAttribute(\"offset\")),t.duration=m.parseDuration(e.getAttribute(\"duration\")),t.altText=e.getAttribute(\"altText\"),t.hoverText=e.getAttribute(\"hoverText\"),m.childrenByName(e,\"HTMLResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||\"text/html\",t.htmlResource=m.parseNodeText(e)})),m.childrenByName(e,\"IFrameResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.iframeResource=m.parseNodeText(e)})),m.childrenByName(e,\"StaticResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.staticResource=m.parseNodeText(e)}));const r=m.childByName(e,\"IconClicks\");if(r){t.iconClickThroughURLTemplate=m.parseNodeText(m.childByName(r,\"IconClickThrough\")),m.childrenByName(r,\"IconClickTracking\").forEach((e=>{t.iconClickTrackingURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})}));const e=m.childByName(r,\"IconClickFallbackImages\");e&&m.childrenByName(e,\"IconClickFallbackImage\").forEach((e=>{t.iconClickFallbackImages.push({url:m.parseNodeText(e)||null,width:e.getAttribute(\"width\")||null,height:e.getAttribute(\"height\")||null})}))}return t.iconViewTrackingURLTemplate=m.parseNodeText(m.childByName(e,\"IconViewTracking\")),t}(e))})),a}function f(t,r){const i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:r,adId:i,sequence:a,apiFramework:s}=e(t);return{id:r,adId:i,sequence:a,apiFramework:s,type:\"nonlinear\",variations:[],trackingEvents:{}}}(r);return m.childrenByName(t,\"TrackingEvents\").forEach((e=>{let t,r;m.childrenByName(e,\"Tracking\").forEach((e=>{t=e.getAttribute(\"event\"),r=m.parseNodeText(e),t&&r&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(r))}))})),m.childrenByName(t,\"NonLinear\").forEach((e=>{const t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:\"static\",adType:\"nonLinearAd\",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute(\"id\")||null,t.width=e.getAttribute(\"width\"),t.height=e.getAttribute(\"height\"),t.expandedWidth=e.getAttribute(\"expandedWidth\"),t.expandedHeight=e.getAttribute(\"expandedHeight\"),t.scalable=m.parseBoolean(e.getAttribute(\"scalable\")),t.maintainAspectRatio=m.parseBoolean(e.getAttribute(\"maintainAspectRatio\")),t.minSuggestedDuration=m.parseDuration(e.getAttribute(\"minSuggestedDuration\")),t.apiFramework=e.getAttribute(\"apiFramework\"),m.childrenByName(e,\"HTMLResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||\"text/html\",t.htmlResource=m.parseNodeText(e)})),m.childrenByName(e,\"IFrameResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.iframeResource=m.parseNodeText(e)})),m.childrenByName(e,\"StaticResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.staticResource=m.parseNodeText(e)}));const r=m.childByName(e,\"AdParameters\");r&&(t.adParameters={value:m.parseNodeText(r),xmlEncoded:r.getAttribute(\"xmlEncoded\")||null}),t.nonlinearClickThroughURLTemplate=m.parseNodeText(m.childByName(e,\"NonLinearClickThrough\")),m.childrenByName(e,\"NonLinearClickTracking\").forEach((e=>{t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})})),i.variations.push(t)})),i}function T(e){const t=[];return e.forEach((e=>{const r=A(e);r&&t.push(r)})),t}function A(e){if(\"#comment\"===e.nodeName)return null;const t={name:null,value:null,attributes:{},children:[]},r=e.attributes,i=e.childNodes;if(t.name=e.nodeName,e.attributes)for(const e in r)if(r.hasOwnProperty(e)){const i=r[e];i.nodeName&&i.nodeValue&&(t.attributes[i.nodeName]=i.nodeValue)}for(const e in i)if(i.hasOwnProperty(e)){const r=A(i[e]);r&&t.children.push(r)}if(0===t.children.length||1===t.children.length&&[\"#cdata-section\",\"#text\"].indexOf(t.children[0].name)>=0){const r=m.parseNodeText(e);\"\"!==r&&(t.value=r),t.children=[]}return null===(a=t).value&&0===Object.keys(a.attributes).length&&0===a.children.length?null:t;var a}function R(e){return e.getAttribute(\"AdID\")||e.getAttribute(\"adID\")||e.getAttribute(\"adId\")||null}const y={Wrapper:{subElements:[\"VASTAdTagURI\",\"Impression\"]},BlockedAdCategories:{attributes:[\"authority\"]},InLine:{subElements:[\"AdSystem\",\"AdTitle\",\"Impression\",\"AdServingId\",\"Creatives\"]},Category:{attributes:[\"authority\"]},Pricing:{attributes:[\"model\",\"currency\"]},Verification:{oneOfinLineResources:[\"JavaScriptResource\",\"ExecutableResource\"],attributes:[\"vendor\"]},UniversalAdId:{attributes:[\"idRegistry\"]},JavaScriptResource:{attributes:[\"apiFramework\",\"browserOptional\"]},ExecutableResource:{attributes:[\"apiFramework\",\"type\"]},Tracking:{attributes:[\"event\"]},Creatives:{subElements:[\"Creative\"]},Creative:{subElements:[\"UniversalAdId\"]},Linear:{subElements:[\"MediaFiles\",\"Duration\"]},MediaFiles:{subElements:[\"MediaFile\"]},MediaFile:{attributes:[\"delivery\",\"type\",\"width\",\"height\"]},Mezzanine:{attributes:[\"delivery\",\"type\",\"width\",\"height\"]},NonLinear:{oneOfinLineResources:[\"StaticResource\",\"IFrameResource\",\"HTMLResource\"],attributes:[\"width\",\"height\"]},Companion:{oneOfinLineResources:[\"StaticResource\",\"IFrameResource\",\"HTMLResource\"],attributes:[\"width\",\"height\"]},StaticResource:{attributes:[\"creativeType\"]},Icons:{subElements:[\"Icon\"]},Icon:{oneOfinLineResources:[\"StaticResource\",\"IFrameResource\",\"HTMLResource\"]}};function k(e,t){if(!y[e.nodeName]||!y[e.nodeName].attributes)return;const r=y[e.nodeName].attributes.filter((t=>!e.getAttribute(t)));r.length>0&&N({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:r},t)}function E(e,t,r){const i=y[e.nodeName],a=!r&&\"Wrapper\"!==e.nodeName;if(!i||a)return;if(i.subElements){const r=i.subElements.filter((t=>!m.childByName(e,t)));r.length>0&&N({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:r},t)}if(!r||!i.oneOfinLineResources)return;i.oneOfinLineResources.some((t=>m.childByName(e,t)))||N({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:i.oneOfinLineResources},t)}function b(e){return e.children&&0!==e.children.length}function N(e,t){let{name:r,parentName:i,attributes:a,subElements:s,oneOfResources:n}=e,o=\"Element '\".concat(r,\"'\");o+=a?\" missing required attribute(s) '\".concat(a.join(\", \"),\"' \"):s?\" missing required sub element(s) '\".concat(s.join(\", \"),\"' \"):n?\" must provide one of the following '\".concat(n.join(\", \"),\"' \"):\" is empty\",t(\"VAST-warning\",{message:o,parentElement:i,specVersion:4.1})}const w={verifyRequiredValues:function e(t,r,i){if(t&&t.nodeName)if(\"InLine\"===t.nodeName&&(i=!0),k(t,r),b(t)){E(t,r,i);for(let a=0;a<t.children.length;a++)e(t.children[a],r,i)}else 0===m.parseNodeText(t).length&&N({name:t.nodeName,parentName:t.parentNode.nodeName},r)},hasSubElements:b,emitMissingValueWarning:N,verifyRequiredAttributes:k,verifyRequiredSubElements:E};function L(e,t){let{allowMultipleAds:r,followAdditionalWrappers:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Array.from(e.childNodes).filter((e=>{const t=e.nodeName.toLowerCase();return\"inline\"===t||!1!==i&&\"wrapper\"===t}));for(const i of a){if(m.copyNodeAttribute(\"id\",e,i),m.copyNodeAttribute(\"sequence\",e,i),m.copyNodeAttribute(\"adType\",e,i),\"Wrapper\"===i.nodeName)return{ad:I(i,t),type:\"WRAPPER\"};if(\"InLine\"===i.nodeName)return{ad:C(i,t,{allowMultipleAds:r}),type:\"INLINE\"};const a=i.nodeName.toLowerCase();t(\"VAST-warning\",{message:\"<\".concat(i.nodeName,\"inline\"===a?\"> must be written <InLine>\":\"> must be written <Wrapper>\"),wrongNode:i})}}function C(e,t){let{allowMultipleAds:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1===r&&e.getAttribute(\"sequence\")?null:U(e,t)}function U(e,t){let r=[];t&&w.verifyRequiredValues(e,t);const i=Array.from(e.childNodes),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(m.parseAttributes(e));return i.forEach((e=>{switch(e.nodeName){case\"Error\":a.errorURLTemplates.push(m.parseNodeText(e));break;case\"Impression\":a.impressionURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)});break;case\"Creatives\":a.creatives=function(e){const t=[];return e.forEach((e=>{const r={id:e.getAttribute(\"id\")||null,adId:R(e),sequence:e.getAttribute(\"sequence\")||null,apiFramework:e.getAttribute(\"apiFramework\")||null},i=[];let a;m.childrenByName(e,\"UniversalAdId\").forEach((e=>{const t={idRegistry:e.getAttribute(\"idRegistry\")||\"unknown\",value:m.parseNodeText(e)};i.push(t)}));const s=m.childByName(e,\"CreativeExtensions\");s&&(a=T(m.childrenByName(s,\"CreativeExtension\")));for(const s in e.childNodes){const n=e.childNodes[s];let o;switch(n.nodeName){case\"Linear\":o=v(n,r);break;case\"NonLinearAds\":o=f(n,r);break;case\"CompanionAds\":o=g(n,r)}o&&(i&&(o.universalAdIds=i),a&&(o.creativeExtensions=a),t.push(o))}})),t}(m.childrenByName(e,\"Creative\"));break;case\"Extensions\":{const t=m.childrenByName(e,\"Extension\");a.extensions=T(t),a.adVerifications.length||(r=function(e){let t=null,r=[];e.some((e=>t=m.childByName(e,\"AdVerifications\"))),t&&(r=x(m.childrenByName(t,\"Verification\")));return r}(t));break}case\"AdVerifications\":a.adVerifications=x(m.childrenByName(e,\"Verification\"));break;case\"AdSystem\":a.system={value:m.parseNodeText(e),version:e.getAttribute(\"version\")||null};break;case\"AdTitle\":a.title=m.parseNodeText(e);break;case\"AdServingId\":a.adServingId=m.parseNodeText(e);break;case\"Category\":a.categories.push({authority:e.getAttribute(\"authority\")||null,value:m.parseNodeText(e)});break;case\"Expires\":a.expires=parseInt(m.parseNodeText(e),10);break;case\"ViewableImpression\":a.viewableImpression.push(function(e){const t=(e,t)=>{const r=m.parseNodeText(t);return r&&e.push(r),e};return{id:e.getAttribute(\"id\")||null,viewable:m.childrenByName(e,\"Viewable\").reduce(t,[]),notViewable:m.childrenByName(e,\"NotViewable\").reduce(t,[]),viewUndetermined:m.childrenByName(e,\"ViewUndetermined\").reduce(t,[])}}(e));break;case\"Description\":a.description=m.parseNodeText(e);break;case\"Advertiser\":a.advertiser={id:e.getAttribute(\"id\")||null,value:m.parseNodeText(e)};break;case\"Pricing\":a.pricing={value:m.parseNodeText(e),model:e.getAttribute(\"model\")||null,currency:e.getAttribute(\"currency\")||null};break;case\"Survey\":a.survey={value:m.parseNodeText(e),type:e.getAttribute(\"type\")||null};break;case\"BlockedAdCategories\":a.blockedAdCategories.push({authority:e.getAttribute(\"authority\")||null,value:m.parseNodeText(e)})}})),r.length&&(a.adVerifications=a.adVerifications.concat(r)),a}function I(e,t){const r=U(e,t),i=e.getAttribute(\"followAdditionalWrappers\"),a=e.getAttribute(\"allowMultipleAds\"),s=e.getAttribute(\"fallbackOnNoAd\");r.followAdditionalWrappers=!i||m.parseBoolean(i),r.allowMultipleAds=!!a&&m.parseBoolean(a),r.fallbackOnNoAd=s?m.parseBoolean(s):null;let n=m.childByName(e,\"VASTAdTagURI\");if(n?r.nextWrapperURL=m.parseNodeText(n):(n=m.childByName(e,\"VASTAdTagURL\"),n&&(r.nextWrapperURL=m.parseNodeText(m.childByName(n,\"URL\")))),r.creatives.forEach((e=>{if([\"linear\",\"nonlinear\"].includes(e.type)){if(e.trackingEvents){r.trackingEvents||(r.trackingEvents={}),r.trackingEvents[e.type]||(r.trackingEvents[e.type]={});for(const t in e.trackingEvents){const i=e.trackingEvents[t];Array.isArray(r.trackingEvents[e.type][t])||(r.trackingEvents[e.type][t]=[]),i.forEach((i=>{r.trackingEvents[e.type][t].push(i)}))}}e.videoClickTrackingURLTemplates&&(Array.isArray(r.videoClickTrackingURLTemplates)||(r.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach((e=>{r.videoClickTrackingURLTemplates.push(e)}))),e.videoClickThroughURLTemplate&&(r.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(r.videoCustomClickURLTemplates)||(r.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach((e=>{r.videoCustomClickURLTemplates.push(e)})))}})),r.nextWrapperURL)return r}function x(e){const t=[];return e.forEach((e=>{const r={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},i=Array.from(e.childNodes);m.assignAttributes(e.attributes,r),i.forEach((e=>{let{nodeName:t,textContent:i,attributes:a}=e;switch(t){case\"JavaScriptResource\":case\"ExecutableResource\":r.resource=i.trim(),m.assignAttributes(a,r);break;case\"VerificationParameters\":r.parameters=i.trim()}}));const a=m.childByName(e,\"TrackingEvents\");a&&m.childrenByName(a,\"Tracking\").forEach((e=>{const t=e.getAttribute(\"event\"),i=m.parseNodeText(e);t&&i&&(Array.isArray(r.trackingEvents[t])||(r.trackingEvents[t]=[]),r.trackingEvents[t].push(i))})),t.push(r)})),t}class S{constructor(){this._handlers=[]}on(e,t){if(\"function\"!=typeof t)throw new TypeError(\"The handler argument must be of type Function. Received type \".concat(typeof t));if(!e)throw new TypeError(\"The event argument must be of type String. Received type \".concat(typeof e));return this._handlers.push({event:e,handler:t}),this}once(e,t){return this.on(e,function(e,t,r){const i={fired:!1,wrapFn:void 0};function a(){i.fired||(e.off(t,i.wrapFn),i.fired=!0,r.bind(e)(...arguments))}return i.wrapFn=a,a}(this,e,t))}off(e,t){return this._handlers=this._handlers.filter((r=>r.event!==e||r.handler!==t)),this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];let a=!1;return this._handlers.forEach((t=>{\"*\"===t.event&&(a=!0,t.handler(e,...r)),t.event===e&&(a=!0,t.handler(...r))})),a}removeAllListeners(e){return e?(this._handlers=this._handlers.filter((t=>t.event!==e)),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter((t=>t.event===e)).length}listeners(e){return this._handlers.reduce(((t,r)=>(r.event===e&&t.push(r.handler),t)),[])}eventNames(){return this._handlers.map((e=>e.event))}}let V=0,D=0;const O=(e,t)=>{if(!e||!t||e<=0||t<=0)return;D=(D*V+8*e/t)/++V},F={ERRORCODE:900,extensions:[]},P=\"VAST response version not supported\";class B extends S{constructor(){let{fetcher:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];this.emit(\"VAST-error\",Object.assign({},F,t,...i)),u.track(e,t)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return D}initParsingStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL=\"\",this.resetParsingStatus(),O(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(0===this.remainingAds.length)return Promise.reject(new Error(\"No more ads are available for the given VAST\"));const t=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then((e=>this.buildVASTResponse(e)))}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(t),t.isRootVAST=!0,this.parse(e,t).then((e=>this.buildVASTResponse(e)))}buildVASTResponse(e){const t=function(e){let{ads:t,errorURLTemplates:r,version:i}=e;return{ads:t||[],errorURLTemplates:r||[],version:i||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(t),t}parseVastXml(e,t){let{isRootVAST:r=!1,url:i=null,wrapperDepth:a=0,allowMultipleAds:s,followAdditionalWrappers:n}=t;if(!e||!e.documentElement||\"VAST\"!==e.documentElement.nodeName){var o;this.emit(\"VAST-ad-parsed\",{type:\"ERROR\",url:i,wrapperDepth:a});const t=\"VideoAdServingTemplate\"===(null==e||null===(o=e.documentElement)||void 0===o?void 0:o.nodeName);throw new Error(t?P:\"Invalid VAST XMLDocument\")}const l=[],c=e.documentElement.childNodes,d=e.documentElement.getAttribute(\"version\");r&&d&&(this.vastVersion=d);for(const e in c){const t=c[e];if(\"Error\"===t.nodeName){const e=m.parseNodeText(t);r?this.rootErrorURLTemplates.push(e):this.errorURLTemplates.push(e)}else if(\"Ad\"===t.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)s=!0;else if(!1===s&&l.length>1)break;const e=L(t,this.emit.bind(this),{allowMultipleAds:s,followAdditionalWrappers:n});e.ad?(l.push(e.ad),this.emit(\"VAST-ad-parsed\",{type:e.type,url:i,wrapperDepth:a,adIndex:l.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}parse(e){let{url:t=null,resolveAll:r=!0,wrapperSequence:i=null,previousUrl:a=null,wrapperDepth:s=0,isRootVAST:n=!1,followAdditionalWrappers:o,allowMultipleAds:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&n&&(l=!0);try{c=this.parseVastXml(e,{isRootVAST:n,url:t,wrapperDepth:s,allowMultipleAds:l,followAdditionalWrappers:o})}catch(e){return Promise.reject(e)}if(1===c.length&&null!=i&&(c[0].sequence=i),!1===r){const e=m.getSortedAdPods(c),t=m.getStandAloneAds(c);e.length?c=e:t.length&&(c=[t.shift()]),this.remainingAds=t}return this.resolveAds(c,{wrapperDepth:s,previousUrl:a,url:t})}resolveAds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{wrapperDepth:t,previousUrl:r,url:i}=arguments.length>1?arguments[1]:void 0;const a=[];return r=i,e.forEach((e=>{const i=this.resolveWrappers(e,t,r);a.push(i)})),Promise.all(a).then((e=>u.flatten(e)))}resolveWrappers(e,t,r){const i={...e};return new Promise((e=>{var a;if(t++,!i.nextWrapperURL)return delete i.nextWrapperURL,e(i);if(!this.fetcher)return i.VASTAdTagURI=i.nextWrapperURL,delete i.nextWrapperURL,e(i);if(t>=this.maxWrapperDepth)return i.errorCode=302,delete i.nextWrapperURL,e(i);i.nextWrapperURL=m.resolveVastAdTagURI(i.nextWrapperURL,r);const s=null!==(a=this.parsingOptions.allowMultipleAds)&&void 0!==a?a:i.allowMultipleAds,n=i.sequence;this.fetcher.fetchVAST({url:i.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then((a=>this.parse(a,{url:i.nextWrapperURL,previousUrl:r,wrapperSequence:n,wrapperDepth:t,followAdditionalWrappers:i.followAdditionalWrappers,allowMultipleAds:s}).then((t=>{if(delete i.nextWrapperURL,0===t.length)return i.creatives=[],e(i);t.forEach((e=>{e&&m.mergeWrapperAdData(e,i)})),e(t)})))).catch((t=>{i.errorCode=t.message===P?102:301,i.errorMessage=t.message,e(i)}))}))}completeWrapperResolving(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const r=e.ads[t],i=!r.creatives.some((e=>{var t,r;return(null===(t=e.mediaFiles)||void 0===t?void 0:t.length)>0||(null===(r=e.variations)||void 0===r?void 0:r.length)>0}));!r.errorCode&&!i||r.VASTAdTagURI||(this.trackVastError(r.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:r.errorCode||303},{ERRORMESSAGE:r.errorMessage||\"\"},{extensions:r.extensions},{system:r.system}),e.ads.splice(t,1))}}}let M=null;const W={data:{},length:0,getItem(e){return this.data[e]},setItem(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem(e){delete this.data[e],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class j{constructor(){this.storage=this.initStorage()}initStorage(){if(M)return M;try{M=\"undefined\"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){M=null}return M&&!this.isStorageDisabled(M)||(M=W,M.clear()),M}isStorageDisabled(e){const t=\"__VASTStorage__\";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}getItem(e){return this.storage.getItem(e)}setItem(e,t){return this.storage.setItem(e,t)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const q=12e4;const K={get:async function(e,t){try{const r=new AbortController,i=setTimeout((()=>{throw r.abort(),new Error(\"URLHandler: Request timed out after \".concat(t.timeout||q,\" ms (408)\"))}),t.timeout||q),a=await fetch(e,{...t,signal:r.signal,credentials:t.withCredentials?\"include\":\"omit\"}).finally((()=>{clearTimeout(i)})),s=function(e){return u.isBrowserEnvironment()&&\"https:\"===window.location.protocol&&e.url.includes(\"http://\")?\"URLHandler: Cannot go from HTTPS to HTTP.\":200===e.status&&e.ok?null:\"URLHandler: \".concat(e.statusText,\" (\").concat(e.status,\")\")}(a);return s?{error:new Error(s),statusCode:a.status}:async function(e){const t=await e.text();let r;r=u.isBrowserEnvironment()?new DOMParser:new((await import(\"@xmldom/xmldom\")).DOMParser);return{xml:r.parseFromString(t,\"text/xml\"),details:{byteLength:t.length,statusCode:e.status,rawXml:t}}}(a)}catch(e){return{error:e,statusCode:\"AbortError\"===e.name?408:null}}}};class H{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||K,this.fetchingOptions={...e.fetchOptions,timeout:e.timeout||q,withCredentials:Boolean(e.withCredentials)}}addURLTemplateFilter(e){\"function\"==typeof e&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var t;let{url:r,maxWrapperDepth:i,emitter:a,wrapperDepth:s=0,previousUrl:n=null,wrapperAd:o=null}=e;const l=Date.now();this.URLTemplateFilters.forEach((e=>{r=e(r)})),a(\"VAST-resolving\",{url:r,previousUrl:n,wrapperDepth:s,maxWrapperDepth:i,timeout:this.fetchingOptions.timeout,wrapperAd:o});const c=await this.urlHandler.get(r,this.fetchingOptions),d=Math.round(Date.now()-l);if(a(\"VAST-resolved\",{url:r,previousUrl:n,wrapperDepth:s,error:(null==c?void 0:c.error)||null,duration:d,statusCode:(null==c?void 0:c.statusCode)||null,...null==c?void 0:c.details}),O(null==c||null===(t=c.details)||void 0===t?void 0:t.byteLength,d),c.error)throw new Error(c.error);return c.xml}}class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new j;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=t,this.fetcher=new H,this.vastParser=new B({fetcher:this.fetcher}),this.storage=r,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem(\"vast-client-last-successful-ad\")}set lastSuccessfulAd(e){this.storage.setItem(\"vast-client-last-successful-ad\",e)}get totalCalls(){return this.storage.getItem(\"vast-client-total-calls\")}set totalCalls(e){this.storage.setItem(\"vast-client-total-calls\",e)}get totalCallsTimeout(){return this.storage.getItem(\"vast-client-total-calls-timeout\")}set totalCallsTimeout(e){this.storage.setItem(\"vast-client-total-calls-timeout\",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetcher.setOptions(t),this.vastParser.parseVAST(e,t)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Date.now();return t.hasOwnProperty(\"resolveAll\")||(t.resolveAll=!1),this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36e5):this.totalCalls++,new Promise(((i,a)=>{if(this.cappingFreeLunch>=this.totalCalls)return a(new Error(\"VAST call canceled  FreeLunch capping not reached yet \".concat(this.totalCalls,\"/\").concat(this.cappingFreeLunch)));const s=r-this.lastSuccessfulAd;if(s<0)this.lastSuccessfulAd=0;else if(s<this.cappingMinimumTimeInterval)return a(new Error(\"VAST call canceled  (\".concat(this.cappingMinimumTimeInterval,\")ms minimum interval reached\")));this.vastParser.initParsingStatus(t),this.fetcher.setOptions(t),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then((r=>(t.previousUrl=e,t.isRootVAST=!0,t.url=e,this.vastParser.parse(r,t).then((e=>{const t=this.vastParser.buildVASTResponse(e);i(t)}))))).catch((e=>a(e)))}))}}class z extends S{constructor(e,t,r){var i;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.ad=t,this.creative=r,this.variation=a,this.muted=s,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=[\"creativeView\",\"start\",\"firstQuartile\",\"midpoint\",\"thirdQuartile\",\"complete\",\"resume\",\"pause\",\"rewind\",\"skip\",\"closeLinear\",\"close\"];for(const e in this.creative.trackingEvents){const t=this.creative.trackingEvents[e];this.trackingEvents[e]=t.slice(0)}this.viewableImpressionTrackers=(null===(i=this.ad.viewableImpression)||void 0===i?void 0:i.reduce(((e,t)=>(e.notViewable.push(...t.notViewable),e.viewUndetermined.push(...t.viewUndetermined),e.viewable.push(...t.viewable),e)),{notViewable:[],viewUndetermined:[],viewable:[]}))||{},Object.entries(this.viewableImpressionTrackers).forEach((e=>{let[t,r]=e;r.length&&(this.trackingEvents[t]=r)})),!function(e){return\"linear\"===e.type}(this.creative)?this._initVariationTracking():this._initLinearTracking(),e&&this.on(\"start\",(()=>{e.lastSuccessfulAd=Date.now()}))}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}\"nonLinearAd\"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return\"companionAd\"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){u.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit(\"TRACKER-error\",{message:\"the duration provided is not valid. duration: \".concat(e)})}setProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!u.isValidTimeValue(e)||\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"One given setProgress parameter has the wrong type. progress: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))});const i=this.skipDelay||-1;if(-1===i||this.skippable||(i>e?this.emit(\"skip-countdown\",i-e):(this.skippable=!0,this.emit(\"skip-countdown\",0))),this.assetDuration>0){const i=Math.round(e/this.assetDuration*100),a=[];if(e>0){a.push(\"start\");for(let e=this.lastPercentage;e<i;e++)a.push(\"progress-\".concat(e+1,\"%\"));a.push(\"progress-\".concat(e));for(const t in this.quartiles)this.isQuartileReached(t,this.quartiles[t],e)&&(a.push(t),this._alreadyTriggeredQuartiles[t]=!0);this.lastPercentage=i}a.forEach((e=>{this.track(e,{macros:t,once:r})})),e<this.progress&&(this.track(\"rewind\",{macros:t}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,t,r){let i=!1;return t<=r&&!this._alreadyTriggeredQuartiles[e]&&(i=!0),i}setMuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.muted!==e&&this.track(e?\"mute\":\"unmute\",{macros:t}),this.muted=e):this.emit(\"TRACKER-error\",{message:\"One given setMuted parameter has the wrong type. muted: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setPaused(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.paused!==e&&this.track(e?\"pause\":\"resume\",{macros:t}),this.paused=e):this.emit(\"TRACKER-error\",{message:\"One given setPaused parameter has the wrong type. paused: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setFullscreen(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.fullscreen!==e&&this.track(e?\"fullscreen\":\"exitFullscreen\",{macros:t}),this.fullscreen=e):this.emit(\"TRACKER-error\",{message:\"One given setFullScreen parameter has the wrong type. fullscreen: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setExpand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.expanded!==e&&(this.track(e?\"expand\":\"collapse\",{macros:t}),this.track(e?\"playerExpand\":\"playerCollapse\",{macros:t})),this.expanded=e):this.emit(\"TRACKER-error\",{message:\"One given setExpand parameter has the wrong type. expanded: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setSkipDelay(e){u.isValidTimeValue(e)?this.skipDelay=e:this.emit(\"TRACKER-error\",{message:\"setSkipDelay parameter does not have a valid value. duration: \".concat(e)})}trackImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track(\"creativeView\",{macros:e})):this.emit(\"TRACKER-error\",{message:\"trackImpression parameter has the wrong type. macros: \".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e?this.track(\"viewable\",{macros:e,once:t}):this.emit(\"TRACKER-error\",{message:\"trackViewableImpression given macros has the wrong type. macros: \".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e?this.track(\"notViewable\",{macros:e,once:t}):this.emit(\"TRACKER-error\",{message:\"trackNotViewableImpression given macros has the wrong type. macros: \".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e?this.track(\"viewUndetermined\",{macros:e,once:t}):this.emit(\"TRACKER-error\",{message:\"trackUndeterminedImpression given macros has the wrong type. macros: \".concat(e)})}error(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e&&\"boolean\"==typeof t?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t}):this.emit(\"TRACKER-error\",{message:\"One given error parameter has the wrong type. macros: \".concat(u.formatMacrosValues(e),\", isCustomCode: \").concat(t)})}errorWithCode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"string\"==typeof e&&\"boolean\"==typeof t?(this.error({ERRORCODE:e},t),console.log(\"The method errorWithCode is deprecated, please use vast tracker error method instead\")):this.emit(\"TRACKER-error\",{message:\"One given errorWithCode parameter has the wrong type. errorCode: \".concat(e,\", isCustomCode: \").concat(t)})}complete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"complete\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"complete given macros has the wrong type. macros: \".concat(e)})}notUsed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?(this.track(\"notUsed\",{macros:e}),this.trackingEvents=[]):this.emit(\"TRACKER-error\",{message:\"notUsed given macros has the wrong type. macros: \".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"otherAdInteraction\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"otherAdInteraction given macros has the wrong type. macros: \".concat(e)})}acceptInvitation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"acceptInvitation\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"acceptInvitation given macros has the wrong type. macros: \".concat(e)})}adExpand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"adExpand\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"adExpand given macros has the wrong type. macros: \".concat(e)})}adCollapse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"adCollapse\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"adCollapse given macros has the wrong type. macros: \".concat(e)})}minimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"minimize\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"minimize given macros has the wrong type. macros: \".concat(e)})}verificationNotExecuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"!=typeof e||\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"One given verificationNotExecuted parameter has to wrong type. vendor: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error(\"No adVerifications provided\");if(!e)throw new Error(\"No vendor provided, unable to find associated verificationNotExecuted\");const r=this.ad.adVerifications.find((t=>t.vendor===e));if(!r)throw new Error(\"No associated verification element found for vendor: \".concat(e));const i=r.trackingEvents;if(i&&i.verificationNotExecuted){const e=i.verificationNotExecuted;this.trackURLs(e,t),this.emit(\"verificationNotExecuted\",{trackingURLTemplates:e})}}overlayViewDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"string\"==typeof e&&\"object\"==typeof t?(t.ADPLAYHEAD=e,this.track(\"overlayViewDuration\",{macros:t})):this.emit(\"TRACKER-error\",{message:\"One given overlayViewDuration parameters has the wrong type. formattedDuration: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(this.linear?\"closeLinear\":\"close\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"close given macros has the wrong type. macros: \".concat(e)})}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"skip\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"skip given macros has the wrong type. macros: \".concat(e)})}load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"loaded\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"load given macros has the wrong type. macros: \".concat(e)})}click(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e&&\"string\"!=typeof e||\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"One given click parameter has the wrong type. fallbackClickThroughURL: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);const r=this.clickThroughURLTemplate||e,i={...t};if(r){this.progress&&(i.ADPLAYHEAD=this.progressFormatted());const e=u.resolveURLTemplates([r],i)[0];this.emit(\"clickthrough\",e)}}trackProgressEvents(e,t,r){const i=parseFloat(e.split(\"-\")[1]);Object.entries(this.trackingEvents).filter((e=>{let[t]=e;return t.startsWith(\"progress-\")})).map((e=>{let[t,r]=e;return{name:t,time:parseFloat(t.split(\"-\")[1]),urls:r}})).filter((e=>{let{time:t}=e;return t<=i&&t>this.progress})).forEach((e=>{let{name:i,urls:a}=e;!r&&this.trackedProgressEvents.includes(i)||(this.emit(i,{trackingURLTemplates:a}),this.trackURLs(a,t),r?delete this.trackingEvents[i]:this.trackedProgressEvents.push(i))}))}track(e){let{macros:t={},once:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"track given macros has the wrong type. macros: \".concat(t)});\"closeLinear\"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e=\"close\"),e.startsWith(\"progress-\")&&!e.endsWith(\"%\")&&this.trackProgressEvents(e,t,r);const i=this.trackingEvents[e],a=this.emitAlwaysEvents.indexOf(e)>-1;i?(this.emit(e,{trackingURLTemplates:i}),this.trackURLs(i,t)):a&&this.emit(e,null),r&&(delete this.trackingEvents[e],a&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{validUrls:a,invalidUrls:s}=u.filterUrlTemplates(e);s.length&&this.emit(\"TRACKER-error\",{message:\"Provided urls are malformed. url: \".concat(s)});const n={...r};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(n.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(n.ADPLAYHEAD=this.progressFormatted())),null!==(t=this.creative)&&void 0!==t&&null!==(t=t.universalAdIds)&&void 0!==t&&t.length&&(n.UNIVERSALADID=this.creative.universalAdIds.map((e=>e.idRegistry.concat(\" \",e.value))).join(\",\")),this.ad&&(this.ad.sequence&&(n.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(n.ADTYPE=this.ad.adType),this.ad.adServingId&&(n.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(n.ADCATEGORIES=this.ad.categories.map((e=>e.value)).join(\",\")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(n.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map((e=>e.value)).join(\",\"))),u.track(a,n,i)}convertToTimecode(e){if(!u.isValidTimeValue(e))return\"\";const t=1e3*e,r=Math.floor(t/36e5),i=Math.floor(t/6e4%60),a=Math.floor(t/1e3%60),s=Math.floor(t%1e3);return\"\".concat(u.addLeadingZeros(r,2),\":\").concat(u.addLeadingZeros(i,2),\":\").concat(u.addLeadingZeros(a,2),\".\").concat(u.addLeadingZeros(s,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}export{_ as VASTClient,B as VASTParser,z as VASTTracker,p as parseDuration};\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./rmp-vast.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./rmp-vast.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import FW from './framework/fw';\nimport Environment from './framework/environment';\nimport Logger from './framework/logger';\nimport Utils from './helpers/utils';\nimport Tracking from './helpers/tracking';\nimport LinearCreative from './creatives/linear';\nimport NonLinearCreative from './creatives/non-linear';\nimport CompanionCreative from './creatives/companion';\nimport AdPlayer from './players/ad-player';\nimport OmSdkManager from './verification/omsdk';\nimport Dispatcher from './framework/dispatcher';\nimport ContentPlayer from './players/content-player';\nimport { VASTClient } from '@dailymotion/vast-client';\n\nimport '../css/rmp-vast.css';\n\n\n/**\n * The class to instantiate RmpVast\n * @export\n * @class RmpVast\n*/\nexport default class RmpVast {\n\n  /**\n   * @constructor\n   * @param {string|HTMLElement}  idOrElement - the id or element for the player container. Required parameter.\n   * @typedef {object} VpaidSettings\n   * @property {number} [width]\n   * @property {number} [height]\n   * @property {string} [viewMode]\n   * @property {number} [desiredBitrate]\n   * @typedef {object} Labels\n   * @property {string} [skipMessage]\n   * @property {string} [closeAd]\n   * @property {string} [textForInteractionUIOnMobile] \n   * @typedef {object} RmpVastParams\n   * @property {number} [ajaxTimeout] - timeout in ms for an AJAX request to load a VAST tag from the ad server.\n   *  Default 8000.\n   * @property {number} [creativeLoadTimeout] - timeout in ms to load linear media creative from the server. \n   *  Default 10000.\n   * @property {boolean} [ajaxWithCredentials] - AJAX request to load VAST tag from ad server should or should not be \n   *  made with credentials. Default: false.\n   * @property {number} [maxNumRedirects] - the number of VAST wrappers the player should follow before triggering an\n   *  error. Default: 4. Capped at 30 to avoid infinite wrapper loops.\n   * @property {boolean} [outstream] - Enables outstream ad mode. Default: false.\n   * @property {boolean} [showControlsForAdPlayer] - Shows Ad player HTML5 default video controls. Default: false.\n   * @property {boolean} [vastXmlInput] - Instead of a VAST URI, we provide directly to rmp-vast VAST XML. Default: false.\n   * @property {boolean} [enableVpaid] - Enables VPAID support or not. Default: true.\n   * @property {VpaidSettings} [vpaidSettings] - Information required to display VPAID creatives - note that it is up \n   *  to the parent application of rmp-vast to provide those informations\n   * @property {boolean} [useHlsJS] - Enables hls.js usage to display creatives delivered in HLS format on all devices. Include hls.js library (./externals/hls/hls.min.js) in your page before usage. Default: true.\n   * @property {boolean} [debugHlsJS] - Enables debug log when hls.js is used to stream creatives. Default: false.\n   * @property {boolean} [debugRawConsoleLogs] - Enables raw debug console log for Flutter apps and legacy platforms. Default: false.\n  * @property {boolean} [omidSupport] - Enables OMID (OM Web SDK) support in rmp-vast. Default: false.\n   * @property {string[]} [omidAllowedVendors] - List of allowed vendors for ad verification. Vendors not listed will \n   *  be rejected. Default: [].\n   * @property {boolean} [omidAutoplay] - The content player will autoplay or not. The possibility of autoplay is not \n   *  determined by rmp-vast, this information needs to be passed to rmp-vast (see this \n   *  script for example). Default: false (means a click to play is required).\n   * @property {string} [partnerName] - partnerName for OMID. Default: 'rmp-vast'.\n   * @property {string} [partnerVersion] - partnerVersion for OMID. Default: current rmp-vast version 'x.x.x'.\n   * @property {Labels} [labels] - Information required to properly display VPAID creatives - note that it is up to the \n   *  parent application of rmp-vast to provide those informations\n   * @property {object} [macros] - \n   * @param {RmpVastParams} [params] - An object representing various parameters that can be passed to a rmp-vast \n   *  instance and that will affect the player inner-workings. Optional parameter.\n   */\n  constructor(idOrElement, params) {\n    // reset instance variables - once per session\n    this.#initInstanceVariables();\n\n    if (typeof idOrElement === 'string' && idOrElement !== '') {\n      this.container = document.getElementById(idOrElement);\n    } else if (typeof idOrElement !== 'undefined' && idOrElement instanceof HTMLElement) {\n      this.container = idOrElement;\n    } else {\n      console.error(`Invalid idOrElement to create new instance - exit`);\n      return;\n    }\n\n\n    this.contentWrapper = this.container.querySelector('.rmp-content');\n    this.currentContentPlayer = this.container.querySelector('.rmp-video');\n\n    if (this.container === null || this.contentWrapper === null || this.currentContentPlayer === null) {\n      console.error(`Invalid DOM layout - missing container or content wrapper or content player - exit`);\n      return;\n    }\n\n    // filter input params\n    this.rmpVastUtils = new Utils(this);\n    this.rmpVastUtils.filterParams(params);\n    if (this.params.debugRawConsoleLogs) {\n      this.debugRawConsoleLogs = true;\n    }\n\n    Logger.print(this.debugRawConsoleLogs, `Filtered params follow`, this.params);\n\n    Logger.print(this.debugRawConsoleLogs, `Creating new RmpVast instance`);\n\n    this.rmpVastContentPlayer = new ContentPlayer(this);\n    this.rmpVastTracking = new Tracking(this);\n    this.rmpVastCompanionCreative = new CompanionCreative(this);\n    this.environmentData = Environment;\n\n    Logger.printVideoEvents(this.debugRawConsoleLogs, this.currentContentPlayer, 'content');\n    // reset loadAds variables - this is reset at addestroyed \n    // so that next loadAds is cleared\n    this.resetVariablesForNewLoadAds();\n    // handle fullscreen events\n    this.rmpVastUtils.handleFullscreen();\n  }\n\n  #initInstanceVariables() {\n    this.adContainer = null;\n    this.contentWrapper = null;\n    this.container = null;\n    this.rmpVastContentPlayer = null;\n    this.rmpVastAdPlayer = null;\n    this.rmpVastUtils = null;\n    this.rmpVastTracking = null;\n    this.rmpVastCompanionCreative = null;\n    this.environmentData = null;\n    this.currentContentSrc = '';\n    this.currentContentCurrentTime = -1;\n    this.params = {};\n    this.events = {};\n    this.isInFullscreen = false;\n    this.contentCompleted = false;\n    this.currentContentPlayer = null;\n    this.currentAdPlayer = null;\n    this.rmpVastInitialized = false;\n    this.debugRawConsoleLogs = false;\n    // adpod\n    this.adPod = false;\n    this.adPodLength = 0;\n    this.adSequence = 0;\n  }\n\n  resetVariablesForNewLoadAds() {\n    if (this.attachViewableObserverFn) {\n      this.off('adstarted', this.attachViewableObserverFn);\n    }\n    this.rmpVastTracking.reset();\n    this.rmpVastCompanionCreative.reset();\n    this.trackingTags = [];\n    this.vastErrorTags = [];\n    this.adErrorTags = [];\n    this.needsSeekAdjust = false;\n    this.seekAdjustAttached = false;\n    this.ad = {};\n    this.creative = {};\n    this.attachViewableObserverFn = null;\n    this.viewableObserver = null;\n    this.viewablePreviousRatio = 0.5;\n    this.regulationsInfo = {};\n    this.requireCategory = false;\n    this.progressEvents = [];\n    this.rmpVastLinearCreative = null;\n    this.rmpVastNonLinearCreative = null;\n    this.rmpVastVpaidPlayer = null;\n    this.adParametersData = '';\n    this.rmpVastSimidPlayer = null;\n    this.rmpVastIcons = null;\n    // for public getters\n    this.__adTagUrl = '';\n    this.__vastErrorCode = -1;\n    this.__adErrorType = '';\n    this.__adErrorMessage = '';\n    this.__adOnStage = false;\n  }\n\n\n  /** \n   * Dispatch an event to the custom event system\n   * @type {(eventName: string, data: object) => void} \n   */\n  dispatch(eventName, data) {\n    const event = this.events[eventName];\n    if (event) {\n      const validatedData = {\n        type: eventName\n      };\n      if (data) {\n        validatedData.data = data;\n      }\n      event.fire(validatedData);\n    }\n  }\n\n  /** \n   * @private\n   */\n  #on(eventName, callback) {\n    // First we grab the event from this.events\n    let event = this.events[eventName];\n    // If the event does not exist then we should create it!\n    if (!event) {\n      event = new Dispatcher(eventName);\n      this.events[eventName] = event;\n    }\n    // Now we add the callback to the event\n    event.registerCallback(callback);\n  }\n\n  /** \n   * Listen to an event from the custom event system\n   * @type {(eventName: string, callback: function) => void} \n   */\n  on(eventName, callback) {\n    if (typeof eventName !== 'string' || eventName === '' || typeof callback !== 'function') {\n      return;\n    }\n    const split = eventName.split(' ');\n    split.forEach(eventItem => {\n      this.#on(eventItem, callback);\n    });\n  }\n\n  /** \n   * @private\n   */\n  #one(eventName, callback) {\n    const newCallback = (e) => {\n      this.off(eventName, newCallback);\n      callback(e);\n    };\n    this.on(eventName, newCallback);\n  }\n\n  /** \n   * Listen once to an event from the custom event system\n   * @type {(eventName: string, callback: function) => void} \n   */\n  one(eventName, callback) {\n    if (typeof eventName !== 'string' || eventName === '' || typeof callback !== 'function') {\n      return;\n    }\n    const split = eventName.split(' ');\n    split.forEach(eventItem => {\n      this.#one(eventItem, callback);\n    });\n  }\n\n  /** \n   * @private\n   */\n  #off(eventName, callback) {\n    // First get the correct event\n    const event = this.events[eventName];\n    // Check that the event exists and it has the callback registered\n    if (event && event.callbacks.indexOf(callback) > -1) {\n      // if it is registered then unregister it!\n      event.unregisterCallback(callback);\n      // if the event has no callbacks left, delete the event\n      if (event.callbacks.length === 0) {\n        delete this.events[eventName];\n      }\n    }\n  }\n\n  /** \n   * Unregister an event from the custom event system\n   * @type {(eventName: string, callback: function) => void} \n   */\n  off(eventName, callback) {\n    if (typeof eventName !== 'string' || eventName === '' || typeof callback !== 'function') {\n      return;\n    }\n    const split = eventName.split(' ');\n    split.forEach(eventItem => {\n      this.#off(eventItem, callback);\n    });\n  }\n\n  /** \n   * @private\n   */\n  #addTrackingEvents(trackingEvents) {\n    const keys = Object.keys(trackingEvents);\n    keys.forEach(key => {\n      trackingEvents[key].forEach(url => {\n        this.trackingTags.push({\n          event: key,\n          url\n        });\n      });\n    });\n  }\n\n  /** \n   * @private\n   */\n  #handleIntersect(entries) {\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > this.viewablePreviousRatio) {\n        this.viewableObserver.unobserve(this.container);\n        this.rmpVastTracking.dispatchTrackingAndApiEvent('adviewable');\n      }\n      this.viewablePreviousRatio = entry.intersectionRatio;\n    });\n  }\n\n  /** \n   * @private\n   */\n  #attachViewableObserver() {\n    this.off('adstarted', this.attachViewableObserverFn);\n    if (typeof window.IntersectionObserver !== 'undefined') {\n      const options = {\n        root: null,\n        rootMargin: '0px',\n        threshold: [0.5],\n      };\n      this.viewableObserver = new IntersectionObserver(this.#handleIntersect.bind(this), options);\n      this.viewableObserver.observe(this.container);\n    } else {\n      this.rmpVastTracking.dispatchTrackingAndApiEvent('adviewundetermined');\n    }\n  }\n\n  /** \n   * @private\n   */\n  #initViewableImpression() {\n    if (this.viewableObserver) {\n      this.viewableObserver.unobserve(this.container);\n    }\n    this.ad.viewableImpression.forEach(viewableImpression => {\n      if (viewableImpression.viewable.length > 0) {\n        viewableImpression.viewable.forEach(url => {\n          this.trackingTags.push({\n            event: 'viewable',\n            url\n          });\n        });\n      }\n      if (viewableImpression.notViewable.length > 0) {\n        viewableImpression.notViewable.forEach(url => {\n          this.trackingTags.push({\n            event: 'notviewable',\n            url\n          });\n        });\n      }\n      if (viewableImpression.viewUndetermined.length > 0) {\n        viewableImpression.viewUndetermined.forEach(url => {\n          this.trackingTags.push({\n            event: 'viewundetermined',\n            url\n          });\n        });\n      }\n    });\n    this.attachViewableObserverFn = this.#attachViewableObserver.bind(this);\n    this.on('adstarted', this.attachViewableObserverFn);\n  }\n\n  /** \n   * @private\n   */\n  async #loopAds(ads) {\n    for (let i = 0; i < ads.length; i++) {\n      await new Promise(resolve => {\n        const currentAd = ads[i];\n\n        Logger.print(this.debugRawConsoleLogs, `currentAd follows`, currentAd);\n\n        this.ad.id = currentAd.id;\n        this.ad.adServingId = currentAd.adServingId;\n        this.ad.categories = currentAd.categories;\n        if (this.requireCategory) {\n          if (this.ad.categories.length === 0 || !this.ad.categories[0].authority) {\n            this.rmpVastUtils.processVastErrors(204, true);\n            resolve();\n          }\n        }\n        this.ad.blockedAdCategories = currentAd.blockedAdCategories;\n        if (this.requireCategory) {\n          let haltDueToBlockedAdCategories = false;\n          this.ad.blockedAdCategories.forEach(blockedAdCategory => {\n            const blockedAdCategoryAuthority = blockedAdCategory.authority;\n            const blockedAdCategoryValue = blockedAdCategory.value;\n            this.ad.categories.forEach(category => {\n              const categoriesAuthority = category.authority;\n              const categoriesValue = category.value;\n              if (blockedAdCategoryAuthority === categoriesAuthority && blockedAdCategoryValue === categoriesValue) {\n                this.rmpVastUtils.processVastErrors(205, true);\n                haltDueToBlockedAdCategories = true;\n              }\n            });\n          });\n          if (haltDueToBlockedAdCategories) {\n            resolve();\n          }\n        }\n        this.ad.adType = currentAd.adType;\n        this.ad.title = currentAd.title;\n        this.ad.description = currentAd.description;\n        this.ad.system = currentAd.system;\n        this.ad.advertiser = currentAd.advertiser;\n        this.ad.pricing = currentAd.pricing;\n        this.ad.survey = currentAd.survey;\n        this.ad.sequence = currentAd.sequence;\n        ads.find(ad => {\n          this.adPod = false;\n          if (ad.sequence && ad.sequence > 1) {\n            this.adPod = true;\n            return true;\n          }\n          return false;\n        });\n        // this is to fix a weird bug in vast-client-js - sometimes it returns sequence === null for some items when\n        // adpod is made of redirects\n        if (this.adPod) {\n          let max = ads.reduce((prev, current) => {\n            return (prev.sequence > current.sequence) ? prev : current;\n          }).sequence;\n          ads.forEach(ad => {\n            if (ad.sequence === null) {\n              ad.sequence = max + 1;\n              max++;\n            }\n          });\n\n          this.adSequence++;\n          if (this.adPodLength === 0) {\n            let adPodLength = 0;\n            ads.forEach(ad => {\n              if (ad.sequence) {\n                adPodLength++;\n              }\n            });\n            this.adPodLength = adPodLength;\n            Logger.print(this.debugRawConsoleLogs, `AdPod detected with length ${this.adPodLength}`, currentAd);\n          }\n\n          this.one('addestroyed', () => {\n            if (this.adSequence === this.adPodLength) {\n              this.adPodLength = 0;\n              this.adSequence = 0;\n              this.adPod = false;\n              this.rmpVastUtils.createApiEvent('adpodcompleted');\n            }\n            resolve();\n          });\n        }\n        this.ad.viewableImpression = currentAd.viewableImpression;\n        if (this.ad.viewableImpression.length > 0) {\n          this.#initViewableImpression();\n        }\n        currentAd.errorURLTemplates.forEach(errorURLTemplate => {\n          this.adErrorTags.push({\n            event: 'error',\n            url: errorURLTemplate\n          });\n        });\n        currentAd.impressionURLTemplates.forEach(impression => {\n          if (impression.url) {\n            this.trackingTags.push({\n              event: 'impression',\n              url: impression.url\n            });\n          }\n        });\n\n        // parse companion\n        const creatives = currentAd.creatives;\n        Logger.print(this.debugRawConsoleLogs, `Parsed creatives follow`, creatives);\n        creatives.find(creative => {\n          if (creative.type === 'companion') {\n            Logger.print(this.debugRawConsoleLogs, `Creative type companion detected`);\n            this.rmpVastCompanionCreative.parse(creative);\n            return true;\n          }\n          return false;\n        });\n\n        for (let k = 0; k < creatives.length; k++) {\n          const creative = creatives[k];\n          // companion >> continue\n          if (creative.type === 'companion') {\n            continue;\n          }\n          this.creative.id = creative.id;\n          this.creative.universalAdIds = creative.universalAdIds;\n          this.creative.adId = creative.adId;\n          this.creative.trackingEvents = creative.trackingEvents;\n          switch (creative.type) {\n            case 'linear':\n              this.creative.duration = creative.duration;\n              this.creative.skipDelay = creative.skipDelay;\n              if (this.creative.skipDelay) {\n                this.creative.skipoffset = creative.skipDelay;\n                this.creative.isSkippableAd = true;\n              }\n              if (creative.videoClickThroughURLTemplate && creative.videoClickThroughURLTemplate.url) {\n                this.creative.clickThroughUrl = creative.videoClickThroughURLTemplate.url;\n              }\n              if (creative.videoClickTrackingURLTemplates.length > 0) {\n                creative.videoClickTrackingURLTemplates.forEach(videoClickTrackingURLTemplate => {\n                  if (videoClickTrackingURLTemplate.url) {\n                    this.trackingTags.push({\n                      event: 'clickthrough',\n                      url: videoClickTrackingURLTemplate.url\n                    });\n                  }\n                });\n              }\n              this.creative.isLinear = true;\n              if (creative.interactiveCreativeFile &&\n                /simid/i.test(creative.interactiveCreativeFile.apiFramework) &&\n                /text\\/html/i.test(creative.interactiveCreativeFile.type)) {\n                this.creative.simid = {\n                  fileURL: creative.interactiveCreativeFile.fileURL,\n                  variableDuration: creative.interactiveCreativeFile.variableDuration,\n                };\n                if (creative.adParameters && creative.adParameters.value) {\n                  this.creative.simid.adParameters = creative.adParameters.value;\n                }\n              }\n              this.#addTrackingEvents(creative.trackingEvents);\n              this.rmpVastLinearCreative = new LinearCreative(this);\n              this.rmpVastLinearCreative.parse(creative);\n              if (this.params.omidSupport && currentAd.adVerifications.length > 0) {\n                const omSdkManager = new OmSdkManager(currentAd.adVerifications, this);\n                omSdkManager.init();\n              }\n              break;\n            case 'nonlinear':\n              this.creative.isLinear = false;\n              this.#addTrackingEvents(creative.trackingEvents);\n              this.rmpVastNonLinearCreative = new NonLinearCreative(this);\n              this.rmpVastNonLinearCreative.parse(creative.variations);\n              break;\n            default:\n              break;\n          }\n        }\n      });\n    }\n  }\n\n  /** \n   * @private\n   */\n  #handleParsedVast(response) {\n    Logger.print(this.debugRawConsoleLogs, `VAST response follows`, response);\n\n    // error at VAST/Error level\n    if (response.errorURLTemplates.length > 0) {\n      response.errorURLTemplates.forEach(errorURLTemplate => {\n        this.vastErrorTags.push({\n          event: 'error',\n          url: errorURLTemplate\n        });\n      });\n    }\n    // VAST/Ad \n    if (response.ads.length === 0) {\n      this.rmpVastUtils.processVastErrors(303, true);\n      return;\n    } else {\n      this.#loopAds(response.ads);\n    }\n  }\n\n  /** \n   * @private\n   */\n  #getVastTag(vastData) {\n    // we check for required VAST input and API here\n    // as we need to have this.currentContentSrc available for iOS\n    if (typeof vastData !== 'string' || vastData === '') {\n      this.rmpVastUtils.processVastErrors(1001, false);\n      return;\n    }\n    if (typeof DOMParser === 'undefined') {\n      this.rmpVastUtils.processVastErrors(1002, false);\n      return;\n    }\n    this.rmpVastUtils.createApiEvent('adtagstartloading');\n    if (!this.params.vastXmlInput) {\n      const vastClient = new VASTClient();\n      const options = {\n        timeout: this.params.ajaxTimeout,\n        withCredentials: this.params.ajaxWithCredentials,\n        wrapperLimit: this.params.maxNumRedirects,\n        resolveAll: false,\n        allowMultipleAds: true\n      };\n      this.__adTagUrl = vastData;\n\n      Logger.print(this.debugRawConsoleLogs, `Try to load VAST tag at: ${this.__adTagUrl}`);\n\n      vastClient.get(this.__adTagUrl, options).then(response => {\n        this.rmpVastUtils.createApiEvent('adtagloaded');\n        this.#handleParsedVast(response);\n      }).catch(error => {\n        console.warn(error);\n        // PING 900 Undefined Error.\n        this.rmpVastUtils.processVastErrors(900, true);\n      });\n    } else {\n      // input is not a VAST URI but raw VAST XML -> we parse it and proceed\n      let vastXml;\n      try {\n        vastXml = (new DOMParser()).parseFromString(vastData, 'text/xml');\n      } catch (error) {\n        console.warn(error);\n        // PING 900 Undefined Error.\n        this.rmpVastUtils.processVastErrors(900, true);\n        return;\n      }\n      const vastParser = new VASTClient();\n      vastParser.parseVAST(vastXml).then(response => {\n        this.rmpVastUtils.createApiEvent('adtagloaded');\n        this.#handleParsedVast(response);\n      }).catch(error => {\n        console.warn(error);\n        // PING 900 Undefined Error.\n        this.rmpVastUtils.processVastErrors(900, true);\n      });\n    }\n  }\n\n  /** \n   * @param {string} vastData - the URI to the VAST resource to be loaded - or raw VAST XML if params.vastXmlInput is true\n   * @param {object} [regulationsInfo] - data for regulations as\n   * @param {string} [regulationsInfo.regulations] - coppa|gdpr for REGULATIONS macro\n   * @param {string} [regulationsInfo.limitAdTracking] - 0|1 for LIMITADTRACKING macro\n   * @param {string} [regulationsInfo.gdprConsent] - Base64-encoded Cookie Value of IAB GDPR consent info for \n   *  GDPRCONSENT macro\n   * @param {boolean} [requireCategory] - for enforcement of VAST 4 Ad Categories\n   * @return {void}\n   */\n  loadAds(vastData, regulationsInfo, requireCategory) {\n    Logger.print(this.debugRawConsoleLogs, `loadAds method starts`);\n\n    // if player is not initialized - this must be done now\n    if (!this.rmpVastInitialized) {\n      this.initialize();\n    }\n    if (typeof regulationsInfo === 'object') {\n      const regulationRegExp = /coppa|gdpr/ig;\n      if (regulationsInfo.regulations && regulationRegExp.test(regulationsInfo.regulations)) {\n        this.regulationsInfo.regulations = regulationsInfo.regulations;\n      }\n      const limitAdTrackingRegExp = /0|1/ig;\n      if (regulationsInfo.limitAdTracking && limitAdTrackingRegExp.test(regulationsInfo.limitAdTracking)) {\n        this.regulationsInfo.limitAdTracking = regulationsInfo.limitAdTracking;\n      }\n      // Base64-encoded Cookie Value of IAB GDPR consent info\n      if (regulationsInfo.gdprConsent) {\n        this.regulationsInfo.gdprConsent = regulationsInfo.gdprConsent;\n      }\n    }\n    if (requireCategory) {\n      this.requireCategory = true;\n    }\n    let finalVastData = vastData;\n    if (!this.params.vastXmlInput) {\n      // we have a VAST URI replaceMacros\n      finalVastData = this.rmpVastTracking.replaceMacros(vastData, false);\n    }\n\n    // if an ad is already on stage we need to clear it first before we can accept another ad request\n    if (this.__adOnStage) {\n      Logger.print(this.debugRawConsoleLogs, `Creative already on stage calling stopAds before loading new ad`);\n      this.one('addestroyed', this.loadAds.bind(this, finalVastData));\n      this.stopAds();\n      return;\n    }\n    this.#getVastTag(finalVastData);\n  }\n\n  /** \n   * @type {() => void} \n   */\n  play() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        this.rmpVastVpaidPlayer.resumeAd();\n      } else if (this.rmpVastAdPlayer) {\n        this.rmpVastAdPlayer.play();\n      }\n    } else {\n      this.rmpVastContentPlayer.play();\n    }\n  }\n\n  /** \n   * @type {() => void} \n   */\n  pause() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        this.rmpVastVpaidPlayer.pauseAd();\n      } else if (this.rmpVastAdPlayer) {\n        this.rmpVastAdPlayer.pause();\n      }\n    } else {\n      this.rmpVastContentPlayer.pause();\n    }\n  }\n\n  /** \n   * @type {() => void} \n   */\n  stopAds() {\n    if (this.__adOnStage) {\n      if (this.rmpVastVpaidPlayer) {\n        this.rmpVastVpaidPlayer.stopAd();\n      } else if (this.rmpVastSimidPlayer) {\n        this.rmpVastSimidPlayer.stopAd();\n      } else if (this.rmpVastAdPlayer) {\n        // this will destroy ad\n        this.rmpVastAdPlayer.resumeContent();\n      }\n    }\n  }\n\n  /** \n   * The difference between stopAds and destroy is that after calling destroy you may not call loadAds again\n   * You will need to create a new RmpVast instance. \n   * @type {() => void} \n   */\n  destroy() {\n    this.rmpVastUtils.destroyFullscreen();\n    if (this.rmpVastAdPlayer) {\n      this.rmpVastAdPlayer.destroy();\n    }\n    this.#initInstanceVariables();\n  }\n\n  /** \n   * @type {() => void} \n   */\n  skipAd() {\n    if (this.__adOnStage && this.adSkippableState) {\n      if (this.rmpVastVpaidPlayer) {\n        this.rmpVastVpaidPlayer.skipAd();\n      } else if (this.rmpVastSimidPlayer) {\n        this.rmpVastSimidPlayer.skipAd();\n      } else if (this.rmpVastAdPlayer) {\n        // this will destroy ad\n        this.rmpVastAdPlayer.resumeContent();\n      }\n    }\n  }\n\n  /** \n * @typedef {object} Environment\n * @property {number} devicePixelRatio\n * @property {number} maxTouchPoints\n * @property {boolean} isIpadOS\n * @property {array} isIos\n * @property {array} isAndroid\n * @property {boolean} isMacOSSafari\n * @property {boolean} isFirefox\n * @property {boolean} isMobile\n * @property {boolean} hasNativeFullscreenSupport\n * @return {Environment}\n */\n  get environment() {\n    return this.environmentData;\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get adPaused() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        return this.rmpVastVpaidPlayer.getAdPaused();\n      } else if (this.currentAdPlayer) {\n        return this.currentAdPlayer.paused;\n      }\n    }\n    return false;\n  }\n\n  /** \n   * @type {(level: number) => void} \n   */\n  set volume(level) {\n    if (!FW.isNumber(level)) {\n      return;\n    }\n    let validatedLevel = 0;\n    if (level < 0) {\n      validatedLevel = 0;\n    } else if (level > 1) {\n      validatedLevel = 1;\n    } else {\n      validatedLevel = level;\n    }\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        this.rmpVastVpaidPlayer.setAdVolume(validatedLevel);\n      }\n      if (this.rmpVastAdPlayer) {\n        this.rmpVastAdPlayer.volume = validatedLevel;\n      }\n    }\n    this.rmpVastContentPlayer.volume = validatedLevel;\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get volume() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        return this.rmpVastVpaidPlayer.getAdVolume();\n      } else if (this.rmpVastAdPlayer) {\n        return this.rmpVastAdPlayer.volume;\n      }\n    }\n    return this.rmpVastContentPlayer.volume;\n  }\n\n  /** \n   * @type {(muted: boolean) => void} \n   */\n  set muted(muted) {\n    if (typeof muted !== 'boolean') {\n      return;\n    }\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        if (muted) {\n          this.rmpVastVpaidPlayer.setAdVolume(0);\n        } else {\n          this.rmpVastVpaidPlayer.setAdVolume(1);\n        }\n      } else if (this.rmpVastAdPlayer) {\n        this.rmpVastAdPlayer.muted = muted;\n      }\n    }\n    this.rmpVastContentPlayer.muted = muted;\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get muted() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        if (this.rmpVastVpaidPlayer.getAdVolume() === 0) {\n          return true;\n        }\n        return false;\n      } else if (this.rmpVastAdPlayer) {\n        return this.rmpVastAdPlayer.muted;\n      }\n    }\n    return this.rmpVastContentPlayer.muted;\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adTagUrl() {\n    return this.__adTagUrl;\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adMediaUrl() {\n    if (this.__adOnStage) {\n      if (this.rmpVastVpaidPlayer) {\n        return this.rmpVastVpaidPlayer.getCreativeUrl();\n      } else {\n        if (this.creative && this.creative.mediaUrl) {\n          return this.creative.mediaUrl;\n        }\n      }\n    }\n    return '';\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get adLinear() {\n    if (this.creative && this.creative.isLinear) {\n      return true;\n    }\n    return false;\n  }\n\n  /** \n   * @typedef {object} AdSystem\n   * @property {string} value\n   * @property {string} version\n   * @return {AdSystem}\n   */\n  get adSystem() {\n    // <AdSystem version=\"2.0\" ><![CDATA[AdServer]]></AdSystem>\n    // {value: String, version: String}\n    if (this.ad && this.ad.system) {\n      return {\n        value: this.ad.system.value || '',\n        version: this.ad.system.version || ''\n\n      };\n    }\n    return {\n      value: '',\n      version: ''\n    };\n  }\n\n  /** \n   * @typedef {object} universalAdId\n   * @property {string} idRegistry\n   * @property {string} value\n   * @return {universalAdId[]}\n   */\n  get adUniversalAdIds() {\n    // <UniversalAdId idRegistry=\"daily-motion-L\">Linear-12345</UniversalAdId>\n    // [{idRegistry: String, value: String}]\n    if (this.creative && this.creative.universalAdIds) {\n      return this.creative.universalAdIds;\n    }\n    return [];\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adContentType() {\n    if (this.creative && this.creative.type) {\n      return this.creative.type;\n    }\n    return '';\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adTitle() {\n    if (this.ad && this.ad.title) {\n      return this.ad.title;\n    }\n    return '';\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adDescription() {\n    if (this.ad && this.ad.description) {\n      return this.ad.description;\n    }\n    return '';\n  }\n\n  /** \n   * @typedef {object} Advertiser\n   * @property {string} id\n   * @property {string} value\n   * @return {Advertiser}\n   */\n  get adAdvertiser() {\n    // <Advertiser id='advertiser-desc'><![CDATA[Advertiser name]]></Advertiser>\n    // {id: String, value: String}\n    if (this.ad && this.ad.advertiser && this.ad.advertiser !== null) {\n      return this.ad.advertiser;\n    }\n    return {\n      id: '',\n      value: ''\n    };\n  }\n\n  /** \n   * @typedef {object} Pricing\n   * @property {string} value\n   * @property {string} model\n   * @property {string} currency\n   * @return {Pricing}\n   */\n  get adPricing() {\n    // <Pricing model=\"CPM\" currency=\"USD\" ><![CDATA[1.09]]></Pricing>\n    // {value: String, model: String, currency: String}\n    if (this.ad && this.ad.pricing && this.ad.pricing !== null) {\n      return this.ad.pricing;\n    }\n    return {\n      value: '',\n      model: '',\n      currency: ''\n    };\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adSurvey() {\n    if (this.ad && this.ad.survey) {\n      return this.ad.survey;\n    }\n    return {\n      value: '',\n      type: ''\n    };\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adAdServingId() {\n    if (this.ad && this.ad.adServingId) {\n      return this.ad.adServingId;\n    }\n    return '';\n  }\n\n  /** \n   * @typedef {object} Category\n   * @property {string} authority\n   * @property {string} value\n   * @return {Category[]}\n   */\n  get adCategories() {\n    // <Category authority=iabtechlab.com>232</Category> \n    if (this.ad && this.ad.categories && this.ad.categories.length > 0) {\n      return this.ad.categories;\n    }\n    return [];\n  }\n\n  /** \n   * @typedef {object} BlockedAdCategory\n   * @property {string} authority\n   * @property {string} value\n   * @return {BlockedAdCategory[]}\n   */\n  get adBlockedAdCategories() {\n    // <BlockedAdCategories authority=iabtechlab.com>232</BlockedAdCategories> \n    if (this.ad && this.ad.blockedAdCategories && this.ad.blockedAdCategories.length > 0) {\n      return this.ad.blockedAdCategories;\n    }\n    return [];\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get adDuration() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        let duration = this.rmpVastVpaidPlayer.getAdDuration();\n        if (duration > 0) {\n          duration = duration * 1000;\n        }\n        return duration;\n      } else if (this.rmpVastAdPlayer) {\n        return this.rmpVastAdPlayer.duration;\n      }\n    }\n    return -1;\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get adCurrentTime() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        const remainingTime = this.rmpVastVpaidPlayer.getAdRemainingTime();\n        const duration = this.rmpVastVpaidPlayer.getAdDuration();\n        if (remainingTime === -1 || duration === -1 || remainingTime > duration) {\n          return -1;\n        }\n        return (duration - remainingTime) * 1000;\n      } else if (this.rmpVastAdPlayer) {\n        return this.rmpVastAdPlayer.currentTime;\n      }\n    }\n    return -1;\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get adRemainingTime() {\n    if (this.__adOnStage && this.creative && this.creative.isLinear) {\n      if (this.rmpVastVpaidPlayer) {\n        let adRemainingTime = this.rmpVastVpaidPlayer.getAdRemainingTime();\n        if (adRemainingTime > 0) {\n          adRemainingTime = adRemainingTime * 1000;\n        }\n        return adRemainingTime;\n      } else if (this.rmpVastAdPlayer) {\n        const currentTime = this.rmpVastAdPlayer.currentTime;\n        const duration = this.rmpVastAdPlayer.duration;\n        if (currentTime === -1 || duration === -1 || currentTime > duration) {\n          return -1;\n        }\n        return duration - currentTime;\n      }\n    }\n    return -1;\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get adOnStage() {\n    return this.__adOnStage;\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get adMediaWidth() {\n    if (this.__adOnStage) {\n      if (this.rmpVastVpaidPlayer) {\n        return this.rmpVastVpaidPlayer.getAdWidth();\n      } else if (this.creative && this.creative.width) {\n        return this.creative.width;\n      }\n    }\n    return -1;\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get adMediaHeight() {\n    if (this.__adOnStage) {\n      if (this.rmpVastVpaidPlayer) {\n        return this.rmpVastVpaidPlayer.getAdHeight();\n      } else if (this.creative && this.creative.height) {\n        return this.creative.height;\n      }\n    }\n    return -1;\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get clickThroughUrl() {\n    if (this.creative && this.creative.clickThroughUrl) {\n      return this.creative.clickThroughUrl;\n    }\n    return '';\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get skipTimeOffset() {\n    if (this.creative && this.creative.skipoffset) {\n      return this.creative.skipoffset;\n    }\n    return -1;\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get isSkippableAd() {\n    if (this.creative && this.creative.isSkippableAd) {\n      return true;\n    }\n    return false;\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get contentPlayerCompleted() {\n    return this.contentCompleted;\n  }\n\n  /** \n   * @param {boolean} value\n   * @return {void}\n   */\n  set contentPlayerCompleted(value) {\n    if (typeof value === 'boolean') {\n      this.contentCompleted = value;\n    }\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adErrorMessage() {\n    return this.__adErrorMessage;\n  }\n\n  /** \n   * @type {() => number} \n   */\n  get adVastErrorCode() {\n    return this.__vastErrorCode;\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get adErrorType() {\n    return this.__adErrorType;\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get adSkippableState() {\n    if (this.__adOnStage) {\n      if (this.rmpVastVpaidPlayer) {\n        return this.rmpVastVpaidPlayer.getAdSkippableState();\n      } else if (this.rmpVastSimidPlayer) {\n        return true;\n      } else {\n        if (this.isSkippableAd && this.rmpVastLinearCreative) {\n          return this.rmpVastLinearCreative.skippableAdCanBeSkipped;\n        }\n      }\n    }\n    return false;\n  }\n\n  /** \n   * @return {HTMLMediaElement|null}\n   */\n  get adPlayer() {\n    return this.currentAdPlayer;\n  }\n\n  /** \n   * @return {HTMLMediaElement|null}\n   */\n  get contentPlayer() {\n    return this.currentContentPlayer;\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get initialized() {\n    return this.rmpVastInitialized;\n  }\n\n  /** \n   * @typedef {object} AdPod\n   * @property {number} adPodCurrentIndex\n   * @property {number} adPodLength\n   * @return {AdPod}\n   */\n  get adPodInfo() {\n    if (this.adPod && this.adPodLength) {\n      const result = {};\n      result.adPodCurrentIndex = this.adSequence;\n      result.adPodLength = this.adPodLength;\n      return result;\n    }\n    return {\n      adPodCurrentIndex: -1,\n      adPodLength: 0\n    };\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get companionAdsRequiredAttribute() {\n    return this.rmpVastCompanionCreative.requiredAttribute;\n  }\n\n  /** \n   * @param {number} inputWidth\n   * @param {number} inputHeight\n   * @typedef {object} Companion\n   * @property {string} adSlotId\n   * @property {string} altText\n   * @property {string} companionClickThroughUrl\n   * @property {string} companionClickTrackingUrl\n   * @property {number} height\n   * @property {number} width\n   * @property {string} imageUrl\n   * @property {string[]} trackingEventsUri\n   * @return {Companion[]}\n   */\n  getCompanionAdsList(inputWidth, inputHeight) {\n    return this.rmpVastCompanionCreative.getList(inputWidth, inputHeight);\n  }\n\n  /** \n   * @param {number} index\n   * @return {HTMLElement|null}\n   */\n  getCompanionAd(index) {\n    return this.rmpVastCompanionCreative.getItem(index);\n  }\n\n  /** \n   * @type {() => void} \n   */\n  initialize() {\n    if (!this.rmpVastInitialized) {\n      Logger.print(this.debugRawConsoleLogs, `Upon user interaction - player needs to be initialized`);\n      this.rmpVastAdPlayer = new AdPlayer(this);\n      this.rmpVastAdPlayer.init();\n    }\n  }\n\n  // VPAID methods\n  /** \n   * @type {(width: number, height: number, viewMode: string) => void} \n   */\n  resizeAd(width, height, viewMode) {\n    if (this.rmpVastVpaidPlayer) {\n      this.rmpVastVpaidPlayer.resizeAd(width, height, viewMode);\n    }\n  }\n\n  /** \n   * @type {() => void} \n   */\n  expandAd() {\n    if (this.rmpVastVpaidPlayer) {\n      this.rmpVastVpaidPlayer.expandAd();\n    }\n  }\n\n  /** \n   * @type {() => void} \n   */\n  collapseAd() {\n    if (this.rmpVastVpaidPlayer) {\n      this.rmpVastVpaidPlayer.collapseAd();\n    }\n  }\n\n  /** \n   * @type {() => boolean} \n   */\n  get adExpanded() {\n    if (this.rmpVastVpaidPlayer) {\n      this.rmpVastVpaidPlayer.getAdExpanded();\n    }\n    return false;\n  }\n\n  /** \n   * @type {() => string} \n   */\n  get vpaidCompanionAds() {\n    if (this.rmpVastVpaidPlayer) {\n      this.rmpVastVpaidPlayer.getAdCompanions();\n    }\n    return '';\n  }\n}\n"],"names":["leafPrototypes","getProto","inProgress","dataWebpackPrefix","module","exports","styleElement","nonce","setAttribute","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","push","id","stylesInDOM","getIndexByIdentifier","identifier","result","i","length","modulesToDom","list","options","idCountMap","identifiers","item","base","count","concat","indexByIdentifier","obj","css","media","sourceMap","supports","layer","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","styleSheet","cssText","firstChild","removeChild","appendChild","document","createTextNode","cssWithMappingToString","toString","this","map","content","needLayer","join","modules","dedupe","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","url","String","__esModule","default","test","slice","hash","needQuotes","replace","element","createElement","setAttributes","attributes","insert","memo","style","target","styleTarget","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","insertStyleElement","styleTagTransform","apply","parentNode","removeStyleElement","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","n","getter","d","a","Object","getPrototypeOf","__proto__","t","value","mode","then","ns","create","r","def","current","indexOf","getOwnPropertyNames","forEach","key","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","keys","reduce","promises","u","prop","prototype","hasOwnProperty","call","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","type","charset","timeout","nc","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","fn","setTimeout","bind","Symbol","toStringTag","p","b","baseURI","self","location","href","installedChunks","j","installedChunkData","promise","resolve","reject","error","errorType","realSrc","message","name","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","FW","createSyntheticEvent","eventName","Event","dispatchEvent","console","warn","setStyle","styleObject","getWidth","isNumber","offsetWidth","_getStyleAttributeData","getHeight","offsetHeight","show","display","hide","removeElement","Number","isFinite","openWindow","link","open","ajax","withCredentials","xhr","XMLHttpRequest","onloadend","status","ontimeout","send","addEvents","events","domElement","callback","addEventListener","stopPreventEvent","stopPropagation","preventDefault","vastReadableTime","time","seconds","minutes","hours","ms","Math","floor","generateCacheBusting","text","charAt","possible","random","makeButtonAccessible","ariaLabel","tabIndex","code","which","styleAttributeData","getComputedStyle","cs","getPropertyValue","toLowerCase","parseFloat","Environment","userAgent","navigator","devicePixelRatio","pixelRatio","maxTouchPoints","isIos","support","_get_hasTouchEvents","_filterVersion","isIpadOS","platform","isMacOS","macOSXMinorVersion","isSafari","safariVersion","isMacOSSafari","isAndroid","isMobile","hasNativeFullscreenSupport","doc","documentElement","testVideo","_get_testVideo","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitEnterFullscreen","checkCanPlayType","codec","canPlayType","pattern","versionArray","match","Array","isArray","parseInt","_this","_this2","ontouchstart","DocumentTouch","Logger","printVideoEvents","debugRawConsoleLogs","video","print","dump","log","_rawConsoleLogs","_rmpVast","WeakMap","_onFullscreenchangeFn","_Utils_brand","WeakSet","Utils","constructor","rmpVast","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","_classPrivateFieldSet","filterParams","inputParams","defaultParams","ajaxTimeout","creativeLoadTimeout","ajaxWithCredentials","maxNumRedirects","labels","skipMessage","closeAd","textForInteractionUIOnMobile","outstream","showControlsForAdPlayer","vastXmlInput","enableVpaid","enableSimid","vpaidSettings","width","height","viewMode","desiredBitrate","useHlsJS","debugHlsJS","omidSupport","omidAllowedVendors","omidRunValidationScript","omidAutoplay","macros","Map","partnerName","partnerVersion","RMP_VAST_VERSION","_classPrivateFieldGet","params","createApiEvent","currentEvent","dispatch","playPromise","whichPlayer","firstPlayerPlayRequest","targetPlayer","currentContentPlayer","currentAdPlayer","play","isLinear","creative","catch","processVastErrors","destroyFullscreen","removeEventListener","handleFullscreen","_assertClassBrand","_onFullscreenchange","errorCode","ping","rmpVastTracking","_updateVastError","rmpVastAdPlayer","resumeContent","isOnStage","__adOnStage","isInFullscreen","dispatchTrackingAndApiEvent","description","filter","__vastErrorCode","__adErrorMessage","__adErrorType","_trackingApiEventMap","_onPauseFn","_onPlayFn","_onPlayingFn","_onEndedFn","_onVolumeChangeFn","_onTimeupdateFn","_firstQuartileEventFired","_midpointEventFired","_thirdQuartileEventFired","_Tracking_brand","Tracking","_createTrackingApiEventMap","replaceMacros","trackingPixels","finalString","size","regex","RegExp","patternUNWILLING","patternADCOUNT","adCount","adPodLength","adSequence","pattern1","date","Date","toISOString","pattern2","pattern3","currentContentTime","rmpVastContentPlayer","currentTime","pattern5","adPlayerDuration","duration","pattern9","ad","adType","pattern11","pattern11bis","pattern13","hostname","pattern14","pattern18","pattern19","clickType","pattern21","container","pattern4","adPlayerCurrentTime","pattern10","universalAdIds","universalAdIdString","universalAdId","idRegistry","pattern22","assetUri","adMediaUrl","pattern23","sequence","pattern24","adServingId","pattern6","categories","categorie","pattern7","blockedAdCategories","pattern15","pattern16","pattern17","mediaMime","mimeTyepString","rmpVastLinearCreative","readingHlsJS","pattern20","playerState","muted","pattern25","regulationsInfo","limitAdTracking","pattern26","regulations","pattern27","gdprConsent","pingURI","trackingUrl","_ping","errorTags","adErrorTags","vastErrorTags","errorTag","errorUrl","errorRegExp","reset","apiEvent","currentApiEvent","rmpVastUtils","_dispatchTracking","destroy","wire","rmpVastVpaidPlayer","_onPause","_onPlay","_onPlaying","once","_onEnded","_onVolumeChange","_onTimeupdate","set","_dispatch","trackers","trackingTags","body","volume","progressEvents","progressEvent","shift","paused","_adContainer","_adPlayer","_onPlayingAppendIconsFn","_iconsData","_Icons_brand","Icons","adContainer","iconsData","icons","querySelectorAll","icon","parse","currentIcon","program","xPosition","yPosition","staticResourceUrl","staticResource","iframeResourceUrl","iframeResource","htmlContent","htmlResource","iconData","altText","hoverText","iconViewTrackingUrl","iconViewTrackingURLTemplate","iconClickThroughUrl","iconClickThroughURLTemplate","iconClickTrackingUrls","iconClickTrackingURLTemplates","append","_onPlayingAppendIcons","_onIconClickThrough","tracking","_onIconLoadPingTracking","alt","title","sandbox","border","overflow","className","left","right","top","bottom","onIconClickThroughFn","srcdoc","RmpConnection","_getConnectionType","connection","_getBandwidthEstimate","downlink","effectiveType","bandwidthData","onLine","estimate","connectionType","ProtocolMessage","CREATE_SESSION","RESOLVE","REJECT","PlayerMessage","CreativeMessage","CLICK_THRU","EXPAND_NONLINEAR","COLLAPSE_NONLINEAR","FATAL_ERROR","GET_MEDIA_STATE","LOG","REQUEST_FULL_SCREEN","REQUEST_SKIP","REQUEST_STOP","REQUEST_PAUSE","REQUEST_PLAY","REQUEST_RESIZE","REQUEST_VOLUME","REQUEST_TRACKING","REQUEST_CHANGE_AD_DURATION","EventsThatRequireResponse","REQUEST_VIDEO_LOCATION","READY","REPORT_TRACKING","CreativeErrorCode","StopCode","UNSPECIFIED","USER_INITIATED","MEDIA_PLAYBACK_COMPLETE","PLAYER_INITATED","CREATIVE_INITIATED","NON_LINEAR_DURATION_COMPLETE","SimidProtocol","listeners_","sessionId_","nextMessageId_","target_","parent","resolutionListeners_","receiveMessage","sendMessage","messageType","messageArgs","messageId","nameSpacedMessage","sessionId","timestamp","now","args","includes","addResolveRejectListener_","postMessage","addListener","isCreatingSession","isSessionIdMatch","values","handleProtocolMessage_","startsWith","specificType","substr","listeners","listener","correlatingId","resolutionFunction","incomingMessage","outgoingArgs","resolveMessageArgs","rejectMessageArgs","createSession","generateSessionId_","sessionCreationResolved","sessionCreationRejected","random16Uint8s","Uint8Array","crypto","getRandomValues","random32Uint4s","from","isEven","randomUint8","hexDigits","v","uuid","setMessageTarget","SimidPlayer","simidProtocol","addListeners_","rmpVast_","simidData_","simid","adContainer_","playerDiv_","contentWrapper","adPlayerUrl_","adParameters_","adParameters","adId_","adId","creativeId_","adServingId_","clickThroughUrl_","clickThroughUrl","contentVideoElement_","adVideoElement_","simidIframe_","initializationPromise_","adVideoTrackingEvents_","contentVideoTrackingEvents_","isLinearAd_","nonLinearStartTime_","requestedDuration_","resolveSessionCreatedPromise_","sessionCreatedPromise_","resolveInitializationPromise_","rejectInitializationPromise_","nonLinearDimensions_","durationInterval_","trackEventsOnAdVideoElement_","trackEventsOnContentVideoElement_","hideAdPlayer_","initializeAd","isValidDimensions_","getNonlinearDimensions_","createSimidIframe_","displayNonlinearCreative_","requestDuration_","onAdInitializedFailed_","sendInitMessage_","playAd","startCreativePlayback_","playAdVideo","simidIframe","classList","add","contentWindow","fileURL","onSessionCreated_","onRequestFullScreen","onRequestPlay","onRequestPause","onCreativeFatalError","onRequestSkip","onRequestStop","onRequestChangeAdDuration","onGetMediaState","onReceiveCreativeLog","onExpandResize","onCollapse","onRequestResize","destroySimidIframe_","func","clear","getFullDimensions_","elem","videoRect","getBoundingClientRect","x","y","dimensions","playerRect","heightFits","widthFits","newDimensions","getElementById","setSimidIframeDimensions_","position","nonLinearDuration","resizeDimensions","errorMessage","fullDimensions","pause","creativeDimensions","environmentData","videoDimensions","fullscreen","fullscreenAllowed","variableDurationAllowed","skippableState","siteUrl","host","appId","useragent","deviceId","creativeData","creativeId","initMessage","showSimidIFrame_","playLinearVideoAd_","showAdPlayer_","load","errorData","destroyIframeAndResumeContent_","hideSimidIFrame_","videoComplete","compareAdAndRequestedDurations_","stopAd","reason","skipAd","pauseAd","onReportTracking","requestedUrlArray","trackingUrls","durationChangeMs","newRequestedDuration","durationErrorMessage","CREATIVE_INITATED","mediaState","currentSrc","ended","logMessage","sendLog","outgoingMessage","_params","_adParametersData","_initialWidth","_initialHeight","_initialViewMode","_desiredBitrate","_vpaidCreativeUrl","_vpaidCreative","_vpaidScript","_vpaidIframe","_vpaidAdLoaded","_initAdTimeout","_vpaidCallbacks","_startAdTimeout","_vpaidAdStarted","_vpaidVersion","_vpaid1AdDuration","_adStoppedTimeout","_adSkippedTimeout","_vpaidAdRemainingTimeInterval","_vpaidRemainingTime","_vpaidCurrentVolume","_vpaidPaused","_vpaidLoadTimeout","_vpaidAvailableInterval","_vpaidSlot","_VpaidPlayer_brand","VpaidPlayer","adParametersData","getAdWidth","getAdHeight","getAdDuration","getAdRemainingTime","getCreativeUrl","getAdVolume","getAdPaused","getAdExpanded","getAdSkippableState","getAdCompanions","resizeAd","validViewMode","_onAdStopped","resumeAd","expandAd","collapseAd","setAdVolume","init","creativeUrl","existingAdPlayer","visibility","iframeDocument","iframeBody","_onJSVPAIDLoaded","_onJSVPAIDError","clearInterval","_unsetCallbacksForCreative","_onAdLoaded","AdLoaded","unsubscribe","startAd","_onAdStarted","AdStarted","getAdIcons","rmpVastIcons","getAdLinear","_onAdSkipped","_onAdSkippableStateChange","_onAdDurationChange","remainingTime","setInterval","_onAdVolumeChange","newVolume","_onAdImpression","_onAdVideoStart","_onAdVideoFirstQuartile","_onAdVideoMidpoint","_onAdVideoThirdQuartile","_onAdVideoComplete","_onAdClickThru","playerHandles","destUrl","_onAdPaused","_onAdPlaying","_onAdLog","_onAdError","_onAdInteraction","_onAdUserAcceptInvitation","_onAdUserMinimize","_onAdUserClose","_onAdSizeChange","_onAdLinearChange","_onAdExpandedChange","_onAdRemainingTimeChange","_setCallbacksForCreative","AdStopped","AdSkipped","AdSkippableStateChange","AdDurationChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdPaused","AdPlaying","AdLog","AdError","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdSizeChange","AdLinearChange","AdExpandedChange","AdRemainingTimeChange","subscribe","_isValidVPAID","initAd","_onVPAIDAvailable","getVPAIDAd","handshakeVersion","vpaidVersion","AdParameters","environmentVars","slot","videoSlot","videoSlotCanAutoPlay","iframeWindow","_contentPlayer","_firstAdPlayerPlayRequest","_interactionMobileUI","_skipWaitingUI","_skipMessageUI","_skipIconUI","_skipButtonUI","_skippableAdCanBeSkipped","_onTimeupdateCheckSkipFn","_onDurationChangeFn","_onLoadedmetadataPlayFn","_onContextMenuFn","_onPlaybackErrorFn","_onInteractionOpenClickThroughUrlFn","_creativeLoadTimeoutCallback","_hlsJS","_hlsJSIndex","_readingHlsJS","_LinearCreative_brand","LinearCreative","hlsJSInstances","hlsJSIndex","skippableAdCanBeSkipped","_onDurationChange","_onLoadedmetadataPlay","_onPlaybackError","Hls","isSupported","hlsJSConfig","debug","capLevelToPlayerSize","testBandwidth","startLevel","lowLatencyMode","on","Events","ERROR","_onHlsJSError","loadSource","attachMedia","rmpVastSimidPlayer","_onInteractionOpenClickThroughUrl","textContent","isSkippableAd","_appendSkipUI","mediaFiles","mediaFileItems","isVpaid","currentMediaFile","mediaFileValue","mimeType","newMediaFileItem","vpaidPattern","jsPattern","apiFramework","bitrate","creatives","currentMediaFileItem","retainedCreatives","commonVideoFormats","__filterCommonCreatives","__filterCodecCreatives","__filterTypeCreatives","finalCreative","sort","validCreativesByWidth","validCreativesByBitrate","containerWidth","containerHeight","availableBandwidth","round","mediaUrl","trackingEvents","time_2","split","timePerCent","videoElement","htmlMediaErrorTypes","_updateWaitingForCanBeSkippedUI","delta","_onTimeupdateCheckSkip","skipoffset","_onSkipInteraction","onSkipInteractionFn","fatal","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","_container","_nonLinearMinSuggestedDuration","_firstContentPlayerPlayRequest","_nonLinearCloseElement","_nonLinearAElement","_nonLinearInnerElement","_nonLinearContainerElement","_closeButtonTimeoutFn","_NonLinearCreative_brand","NonLinearCreative","onNonLinearClickThroughFn","_onNonLinearClickThrough","nonLinearType","onNonLinearLoadErrorFn","_onNonLinearLoadError","onNonLinearLoadSuccessFn","_onNonLinearLoadSuccess","_appendCloseButton","variations","currentVariation","isDimensionError","minSuggestedDuration","vastErrorCode","nonlinearClickThroughURLTemplate","nonlinearClickTrackingURLTemplates","nonlinearClickTrackingURLTemplate","_onClickCloseNonLinear","onClickCloseNonLinearFn","_requiredAttribute","_validCompanionAds","_companionAdsList","_CompanionCreative_brand","CompanionCreative","requiredAttribute","required","companions","companion","newCompanionAds","staticResourceFound","staticResources","find","iframeResourceFound","iframeResources","htmlResourceFound","htmlResources","imageUrl","iframeUrl","companionClickThroughURLTemplate","companionClickThroughUrl","companionClickTrackingURLTemplates","companionClickTrackingUrls","adSlotId","trackingEventsUrls","creativeView","getList","inputWidth","inputHeight","availableCompanionAds","companionAds","getItem","companionAd","html","cursor","trackingEventsUrl","onImgClickThroughFn","_onImgClickThrough","DOMParser","parseFromString","companionClickTrackingUrl","_contentWrapper","AdPlayer","level","rmpVastNonLinearCreative","removeAttribute","resetVariablesForNewLoadAds","controls","hasAttribute","poster","playsInline","contentCompleted","preload","rmpVastInitialized","firstAdPlayerPlayRequest","_isSkippableAd","_skipTimeOffset","_adVerifications","_VastProperties","_adEvents","_mediaEvents","_adSession","_lastVideoTime","_onFullscreenChangeFn","_OmSdkManager_brand","OmSdkManager","adVerifications","skipTimeOffset","eventType","_adPlayerDidDispatchEvent","_onFullscreenChange","_onOMWebLoaded","_destroy","finish","fullscreenElement","playerStateChange","_pingVerificationNotExecuted","verification","reasonCode","verificationNotExecuted","verificationNotExecutedURI","validatedURI","reasonPattern","_adPlayerDidDispatchTimeUpdate","playbackRate","currentVideoTimePerCent","impressionOccurred","start","firstQuartile","midpoint","thirdQuartile","complete","vastProperties","videoPosition","contentPlayerCurrentTime","contentPlayerDuration","loaded","resume","volumeChange","adUserInteraction","validatedVerificationArray","sessionClient","browserOptional","resource","vendor","browserOptionalItem","OmidSessionClient","AdSession","Partner","Context","VerificationScriptResource","AdEvents","MediaEvents","VastProperties","partner","resources","VALIDATION_SCRIPT_URL","VENDOR_KEY","PARAMS","accessMode","parameters","context","underEvaluation","omdSdkServiceWindow","setServiceWindow","setVideoElement","setCreativeType","setImpressionType","Dispatcher","callbacks","registerCallback","unregisterCallback","fire","_customPlaybackCurrentTime","_antiSeekLogicInterval","ContentPlayer","firstContentPlayerPlayRequest","seekTo","msSeek","preventSeekingForCustomPlayback","abs","arguments","creativeExtensions","ERRORCODE","isCustomCode","CACHEBUSTING","TIMESTAMP","RANDOM","c","charCodeAt","padStart","track","Image","resolveURLTemplates","extractURLsFromTemplates","filterUrlTemplates","validUrls","invalidUrls","containsTemplateObject","isTemplateObjectEqual","encodeURIComponentRFC3986","replaceUrlMacros","isNumeric","isNaN","flatten","joinArrayOfUniqueTemplateObjs","isValidTimeValue","addLeadingZeros","isValidUrl","isBrowserEnvironment","formatMacrosValues","h","childByName","childNodes","nodeName","childrenByName","resolveVastAdTagURI","protocol","lastIndexOf","parseBoolean","parseNodeText","trim","copyNodeAttribute","parseAttributes","nodeValue","parseDuration","getStandAloneAds","getSortedAdPods","assignAttributes","mergeWrapperAdData","errorURLTemplates","impressionURLTemplates","extensions","viewableImpression","followAdditionalWrappers","allowMultipleAds","fallbackOnNoAd","videoClickTrackingURLTemplates","videoCustomClickURLTemplates","videoClickThroughURLTemplate","g","assetWidth","assetHeight","expandedWidth","expandedHeight","pxratio","renderingMode","creativeType","xmlEncoded","skipDelay","mezzanine","interactiveCreativeFile","closedCaptionFiles","fileSize","deliveryType","mediaType","minBitrate","maxBitrate","scalable","maintainAspectRatio","variableDuration","language","delivery","offset","iconClickFallbackImages","T","A","children","R","Wrapper","subElements","BlockedAdCategories","InLine","Category","Pricing","Verification","oneOfinLineResources","UniversalAdId","JavaScriptResource","ExecutableResource","Creatives","Creative","Linear","MediaFiles","MediaFile","Mezzanine","NonLinear","Companion","StaticResource","Icon","N","parentName","oneOfResources","parentElement","specVersion","w","E","L","I","C","wrongNode","U","expires","system","advertiser","pricing","survey","version","authority","viewable","notViewable","viewUndetermined","model","currency","nextWrapperURL","S","_handlers","TypeError","handler","fired","wrapFn","off","emit","removeAllListeners","listenerCount","eventNames","V","D","O","F","P","B","fetcher","super","maxWrapperDepth","rootErrorURLTemplates","remainingAds","parsingOptions","trackVastError","assign","getErrorURLTemplates","getEstimatedBitrate","initParsingStatus","wrapperLimit","rootURL","resetParsingStatus","byteLength","requestDuration","vastVersion","getRemainingAds","resolveAds","wrapperDepth","buildVASTResponse","parseVAST","isRootVAST","ads","completeWrapperResolving","parseVastXml","adIndex","resolveAll","wrapperSequence","previousUrl","resolveWrappers","VASTAdTagURI","fetchVAST","emitter","ERRORMESSAGE","M","W","setItem","removeItem","storage","initStorage","localStorage","sessionStorage","isStorageDisabled","q","K","async","AbortController","abort","fetch","signal","credentials","finally","ok","statusText","statusCode","xml","details","rawXml","H","URLTemplateFilters","setOptions","urlHandler","urlhandler","fetchingOptions","fetchOptions","Boolean","addURLTemplateFilter","removeLastURLTemplateFilter","pop","countURLTemplateFilters","clearURLTemplateFilters","wrapperAd","_","cappingFreeLunch","cappingMinimumTimeInterval","vastParser","lastSuccessfulAd","totalCalls","totalCallsTimeout","getParser","hasRemainingAds","getNextAds","locals","_RmpVast_brand","RmpVast","idOrElement","_initInstanceVariables","HTMLElement","rmpVastCompanionCreative","attachViewableObserverFn","needsSeekAdjust","seekAdjustAttached","viewableObserver","viewablePreviousRatio","requireCategory","__adTagUrl","validatedData","eventItem","_on","one","_one","_off","loadAds","vastData","initialize","regulationRegExp","limitAdTrackingRegExp","finalVastData","stopAds","_getVastTag","adSkippableState","environment","adPaused","validatedLevel","adTagUrl","adLinear","adSystem","adUniversalAdIds","adContentType","adTitle","adDescription","adAdvertiser","adPricing","adSurvey","adAdServingId","adCategories","adBlockedAdCategories","adDuration","adCurrentTime","adRemainingTime","adOnStage","adMediaWidth","adMediaHeight","contentPlayerCompleted","adErrorMessage","adVastErrorCode","adErrorType","adPlayer","contentPlayer","initialized","adPodInfo","adPod","adPodCurrentIndex","companionAdsRequiredAttribute","getCompanionAdsList","getCompanionAd","adExpanded","vpaidCompanionAds","currentContentSrc","currentContentCurrentTime","newCallback","_addTrackingEvents","_handleIntersect","entries","entry","intersectionRatio","unobserve","_attachViewableObserver","IntersectionObserver","root","rootMargin","threshold","observe","_initViewableImpression","_loopAds","currentAd","haltDueToBlockedAdCategories","blockedAdCategory","blockedAdCategoryAuthority","blockedAdCategoryValue","category","categoriesAuthority","categoriesValue","max","errorURLTemplate","impression","videoClickTrackingURLTemplate","_handleParsedVast","response","vastXml","VASTClient","vastClient"],"sourceRoot":""}