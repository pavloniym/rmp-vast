(()=>{var e={382:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var r=i(1354),n=i.n(r),s=i(6314),a=i.n(s)()(n());a.push([e.id,'@charset "UTF-8";\n.rmp-container {\n  position: relative;\n  text-align: center;\n  outline: none;\n  background: #000000;\n  padding: 0;\n  border: none;\n  display: block;\n  font-size: 14px;\n  max-width: none;\n  max-height: none;\n  overflow: hidden;\n  line-height: 1;\n  box-sizing: border-box;\n  font-family: Arial, Helvetica, sans-serif;\n}\n.rmp-container * {\n  box-sizing: border-box;\n}\n.rmp-video,\n.rmp-content {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n}\n.rmp-ad-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n.rmp-fullscreen-on {\n  position: fixed !important;\n  width: 100% !important;\n  height: 100% !important;\n  background: #000000 !important;\n  overflow: hidden !important;\n  z-index: 9999 !important;\n  top: 0;\n  left: 0;\n}\n.rmp-vpaid-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n.rmp-ad-vast-video-player {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n  cursor: pointer;\n}\n.rmp-ad-container-icons {\n  position: absolute;\n  display: block;\n  cursor: pointer;\n}\n.rmp-ad-container-skip {\n  position: absolute;\n  right: 0;\n  bottom: 44px;\n  width: 160px;\n  height: 40px;\n  line-height: 38px;\n  text-align: center;\n  cursor: pointer;\n  background-color: #333;\n  border: 1px solid #333;\n  transition-property: border-color;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n}\n.rmp-ad-container-skip:hover {\n  border-color: #000000;\n}\n.rmp-ad-container-skip-waiting {\n  width: 100%;\n  position: absolute;\n  padding: 0 2px;\n  color: #cfcfcf;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.rmp-ad-container-skip-message {\n  width: 65%;\n  position: absolute;\n  left: 5%;\n  color: #ffffff;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.rmp-ad-container-skip-icon {\n  position: absolute;\n  left: 75%;\n  width: 20%;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpi/P//PwMUNADxXyBuZsAPcoA4CIjfA/EuIJ4JFgUZBMU3/kNAMZIYNnz8PwIcgokzIdl0A0r3AHEbHhf9RGJ/hjGQDWJFYlcC8SQgZibgzf/YDEIHuUC8CIi58ahhJMYgEIgC4mVALIFNMzIgZBAI+AHxRiCWRfcOqQaBgBkQrwRiMSB+iE0BCwPxwBKIDwLxH0pcBAMPkKOcXIPmALEnED+lxKDJQJwKZUuQa1AVEOch8f+SE9hZQDydGCcjG/QPif0H6pUF+LIFriwCy1dvgTgChyEMaPmPBZuLVKA2RALxbjy+IGjQCiD+RcAQEFgF9fpHIN4GEwQIMACnXWgupdnzwwAAAABJRU5ErkJggg==");\n  height: 100%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.7;\n  transition-property: opacity;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n}\n.rmp-ad-container-skip:hover .rmp-ad-container-skip-icon {\n  opacity: 1;\n}\n.rmp-ad-non-linear-container {\n  position: absolute;\n  text-align: center;\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, 0);\n}\n.rmp-ad-non-linear-anchor:link,\n.rmp-ad-non-linear-anchor:visited,\n.rmp-ad-non-linear-anchor:hover,\n.rmp-ad-non-linear-anchor:active {\n  text-decoration: none;\n}\n.rmp-ad-non-linear-creative {\n  position: relative;\n  cursor: pointer;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n}\n.rmp-ad-non-linear-close {\n  right: 0;\n  top: 0;\n  position: absolute;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  background-color: #000000;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHdJREFUeNqUk9EKwCAIRaX9/9MgEAZ9amsPsWVXdxV8Ec+B1Ep/o40UMuuEpK/RMvAUnEZysfAIlYRkg5/6tyGSQNgKPIkLIwGSuLAn8CSKeovgOMiaMKtKPQENjB5i1Pi7xkoMzD0kBg5PmYVnqv1MGXiT3AIMACNQPFnn5xfHAAAAAElFTkSuQmCC");\n  background-size: cover;\n  border: 4px solid #000000;\n}\n.rmp-ad-click-ui-mobile {\n  border: 2px solid #ffffff;\n  background: rgba(0, 0, 0, 0.4);\n  color: #ffffff;\n  display: block;\n  position: absolute;\n  right: 8px;\n  top: 8px;\n  font-size: 18px;\n  width: 112px;\n  height: 34px;\n  text-decoration: none;\n  text-align: center;\n  line-height: 30px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.6);\n}\n.rmp-ad-click-ui-mobile:visited,\n.rmp-ad-click-ui-mobile:hover,\n.rmp-ad-click-ui-mobile:active {\n  color: #ffffff;\n  text-decoration: none;\n}\n.rmp-linear-simid-creative {\n  position: absolute;\n  top: 0;\n  border-width: 0;\n  width: 100%;\n  height: 100%;\n}\n',"",{version:3,sources:["webpack://./src/less/rmp-vast.less"],names:[],mappings:"AAAA,gBAAS;AA0BT;EACE,kBAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;EACA,UAAA;EACA,YAAA;EACA,cAAA;EACA,eAAA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,cAAA;EACA,sBAAA;EACA,yCAAA;AAxBF;AA2BA;EACE,sBAAA;AAzBF;AA4BA;;EAEE,WAAA;EACA,YAAA;EACA,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,aAAA;EACA,cAAA;AA1BF;AA6BA;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,cAAA;EACA,mBAAA;AA3BF;AA8BA;EACE,0BAAA;EACA,sBAAA;EACA,uBAAA;EACA,8BAAA;EACA,2BAAA;EACA,wBAAA;EACA,MAAA;EACA,OAAA;AA5BF;AAgCA;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,cAAA;EACA,mBAAA;AA9BF;AAiCA;EACE,WAAA;EACA,YAAA;EACA,kBAAA;EACA,OAAA;EACA,MAAA;EACA,SAAA;EACA,UAAA;EACA,aAAA;EACA,cAAA;EACA,eAAA;AA/BF;AAkCA;EACE,kBAAA;EACA,cAAA;EACA,eAAA;AAhCF;AAmCA;EACE,kBAAA;EACA,QAAA;EACA,YAAA;EACA,YAAA;EACA,YAAA;EACA,iBAAA;EACA,kBAAA;EACA,eAAA;EACA,sBAAA;EACA,sBAAA;EAjHA,iCAAA;EACA,yBAAA;EACA,mCAAA;AAiFF;AAkCA;EACE,qBAAA;AAhCF;AAmCA;EACE,WAAA;EACA,kBAAA;EACA,cAAA;EACA,cAAA;EAvHA,mBAAA;EACA,gBAAA;EACA,uBAAA;AAuFF;AAkCA;EACE,UAAA;EACA,kBAAA;EACA,QAAA;EACA,cAAA;EA/HA,mBAAA;EACA,gBAAA;EACA,uBAAA;AAgGF;AAiCA;EACE,kBAAA;EACA,SAAA;EACA,UAAA;EACA,ugBAAA;EACA,YAAA;EACA,4BAAA;EACA,2BAAA;EACA,YAAA;EAjJA,4BAAA;EACA,yBAAA;EACA,mCAAA;AAmHF;AAgCA;EACE,UAAA;AA9BF;AAiCA;EACE,kBAAA;EACA,kBAAA;EACA,SAAA;EACA,SAAA;EACA,6BAAA;AA/BF;AAkCA;;;;EAIE,qBAAA;AAhCF;AAmCA;EACE,kBAAA;EACA,eAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,SAAA;AAjCF;AAoCA;EACE,QAAA;EACA,MAAA;EACA,kBAAA;EACA,eAAA;EACA,WAAA;EACA,YAAA;EACA,yBAAA;EACA,2UAAA;EACA,sBAAA;EACA,yBAAA;AAlCF;AAqCA;EACE,yBAAA;EACA,8BAAA;EACA,cAAA;EACA,cAAA;EACA,kBAAA;EACA,UAAA;EACA,QAAA;EACA,eAAA;EACA,YAAA;EACA,YAAA;EACA,qBAAA;EACA,kBAAA;EACA,iBAAA;EACA,sCAAA;AAnCF;AAsCA;;;EAGE,cAAA;EACA,qBAAA;AApCF;AAuCA;EACE,kBAAA;EACA,MAAA;EACA,eAAA;EACA,WAAA;EACA,YAAA;AArCF",sourcesContent:['@charset "UTF-8";\n\n// colors\n@black: rgba(0, 0, 0, 1);\n@grey: #333;\n@light-grey: #cfcfcf;\n@white: rgba(255, 255, 255, 1);\n@shadow-1: rgba(0, 0, 0, 0.8);\n@shadow-2: rgba(0, 0, 0, 0.6);\n@shadow-3: rgba(0, 0, 0, 0.5);\n@shadow-4: rgba(0, 0, 0, 0.4);\n\n// mixins\n.transition(@property: background; @duration: 0.4s; @timing: ease-in) {\n  transition-property: @property;\n  transition-duration: @duration;\n  transition-timing-function: @timing;\n}\n\n.text-ellipsis() {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n// shared CSS with RMP\n.rmp-container {\n  position: relative;\n  text-align: center;\n  outline: none;\n  background: @black;\n  padding: 0;\n  border: none;\n  display: block;\n  font-size: 14px;\n  max-width: none;\n  max-height: none;\n  overflow: hidden;\n  line-height: 1;\n  box-sizing: border-box;\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.rmp-container * {\n  box-sizing: border-box;\n}\n\n.rmp-video,\n.rmp-content {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n}\n\n.rmp-ad-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n\n.rmp-fullscreen-on {\n  position: fixed !important;\n  width: 100% !important;\n  height: 100% !important;\n  background: @black !important;\n  overflow: hidden !important;\n  z-index: 9999 !important;\n  top: 0;\n  left: 0;\n}\n\n// specific CSS to rmp-vast\n.rmp-vpaid-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  outline: none;\n  display: block;\n  text-align: initial;\n}\n\n.rmp-ad-vast-video-player {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  outline: none;\n  display: block;\n  cursor: pointer;\n}\n\n.rmp-ad-container-icons {\n  position: absolute;\n  display: block;\n  cursor: pointer;\n}\n\n.rmp-ad-container-skip {\n  position: absolute;\n  right: 0;\n  bottom: 44px;\n  width: 160px;\n  height: 40px;\n  line-height: 38px;\n  text-align: center;\n  cursor: pointer;\n  background-color: @grey;\n  border: 1px solid @grey;\n  .transition(border-color, 0.4s);\n}\n\n.rmp-ad-container-skip:hover {\n  border-color: @black;\n}\n\n.rmp-ad-container-skip-waiting {\n  width: 100%;\n  position: absolute;\n  padding: 0 2px;\n  color: @light-grey;\n  .text-ellipsis();\n}\n\n.rmp-ad-container-skip-message {\n  width: 65%;\n  position: absolute;\n  left: 5%;\n  color: @white;\n  .text-ellipsis();\n}\n\n.rmp-ad-container-skip-icon {\n  position: absolute;\n  left: 75%;\n  width: 20%;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpi/P//PwMUNADxXyBuZsAPcoA4CIjfA/EuIJ4JFgUZBMU3/kNAMZIYNnz8PwIcgokzIdl0A0r3AHEbHhf9RGJ/hjGQDWJFYlcC8SQgZibgzf/YDEIHuUC8CIi58ahhJMYgEIgC4mVALIFNMzIgZBAI+AHxRiCWRfcOqQaBgBkQrwRiMSB+iE0BCwPxwBKIDwLxH0pcBAMPkKOcXIPmALEnED+lxKDJQJwKZUuQa1AVEOch8f+SE9hZQDydGCcjG/QPif0H6pUF+LIFriwCy1dvgTgChyEMaPmPBZuLVKA2RALxbjy+IGjQCiD+RcAQEFgF9fpHIN4GEwQIMACnXWgupdnzwwAAAABJRU5ErkJggg==");\n  height: 100%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.7;\n  .transition(opacity, 0.4s);\n}\n\n.rmp-ad-container-skip:hover .rmp-ad-container-skip-icon {\n  opacity: 1;\n}\n\n.rmp-ad-non-linear-container {\n  position: absolute;\n  text-align: center;\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, 0);\n}\n\n.rmp-ad-non-linear-anchor:link,\n.rmp-ad-non-linear-anchor:visited,\n.rmp-ad-non-linear-anchor:hover,\n.rmp-ad-non-linear-anchor:active {\n  text-decoration: none;\n}\n\n.rmp-ad-non-linear-creative {\n  position: relative;\n  cursor: pointer;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n}\n\n.rmp-ad-non-linear-close {\n  right: 0;\n  top: 0;\n  position: absolute;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  background-color: @black;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHdJREFUeNqUk9EKwCAIRaX9/9MgEAZ9amsPsWVXdxV8Ec+B1Ep/o40UMuuEpK/RMvAUnEZysfAIlYRkg5/6tyGSQNgKPIkLIwGSuLAn8CSKeovgOMiaMKtKPQENjB5i1Pi7xkoMzD0kBg5PmYVnqv1MGXiT3AIMACNQPFnn5xfHAAAAAElFTkSuQmCC");\n  background-size: cover;\n  border: 4px solid @black;\n}\n\n.rmp-ad-click-ui-mobile {\n  border: 2px solid @white;\n  background: @shadow-4;\n  color: @white;\n  display: block;\n  position: absolute;\n  right: 8px;\n  top: 8px;\n  font-size: 18px;\n  width: 112px;\n  height: 34px;\n  text-decoration: none;\n  text-align: center;\n  line-height: 30px;\n  box-shadow: 0 0 2px @shadow-2;\n}\n\n.rmp-ad-click-ui-mobile:visited,\n.rmp-ad-click-ui-mobile:hover,\n.rmp-ad-click-ui-mobile:active {\n  color: @white;\n  text-decoration: none;\n}\n\n.rmp-linear-simid-creative {\n  position: absolute;\n  top: 0;\n  border-width: 0;\n  width: 100%;\n  height: 100%;\n}\n'],sourceRoot:""}]);const o=a},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",r=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,r,n,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&a[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),t.push(d))}},t}},1354:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(n," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},5072:e=>{"use strict";var t=[];function i(e){for(var i=-1,r=0;r<t.length;r++)if(t[r].identifier===e){i=r;break}return i}function r(e,r){for(var s={},a=[],o=0;o<e.length;o++){var l=e[o],c=r.base?l[0]+r.base:l[0],d=s[c]||0,h="".concat(c," ").concat(d);s[c]=d+1;var p=i(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var m=n(u,r);r.byIndex=o,t.splice(o,0,{identifier:h,updater:m,references:1})}a.push(h)}return a}function n(e,t){var i=t.domAPI(t);i.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,n){var s=r(e=e||[],n=n||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var o=i(s[a]);t[o].references--}for(var l=r(e,n),c=0;c<s.length;c++){var d=i(s[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,i){var r=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(i)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var r="";i.supports&&(r+="@supports (".concat(i.supports,") {")),i.media&&(r+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(r+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),r+=i.css,n&&(r+="}"),i.media&&(r+="}"),i.supports&&(r+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1362:(e,t,i)=>{"use strict";i(9748);var r=i(1747);e.exports=r("Array","includes")},6535:(e,t,i)=>{"use strict";i(9363),i(3643);var r=i(1747);e.exports=r("Array","keys")},1127:(e,t,i)=>{"use strict";i(5745);var r=i(1747);e.exports=r("Array","push")},6693:(e,t,i)=>{"use strict";i(6339);var r=i(1747);e.exports=r("Array","reduce")},1263:(e,t,i)=>{"use strict";i(6737);var r=i(1747);e.exports=r("Array","sort")},6880:(e,t,i)=>{"use strict";var r=i(8280),n=i(1362),s=i(4378),a=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===a||r(a,e)&&t===a.includes?n:"string"==typeof e||e===o||r(o,e)&&t===o.includes?s:t}},3629:(e,t,i)=>{"use strict";var r=i(8280),n=i(3727),s=String.prototype;e.exports=function(e){var t=e.padStart;return"string"==typeof e||e===s||r(s,e)&&t===s.padStart?n:t}},8685:(e,t,i)=>{"use strict";var r=i(8280),n=i(1127),s=Array.prototype;e.exports=function(e){var t=e.push;return e===s||r(s,e)&&t===s.push?n:t}},8823:(e,t,i)=>{"use strict";var r=i(8280),n=i(6693),s=Array.prototype;e.exports=function(e){var t=e.reduce;return e===s||r(s,e)&&t===s.reduce?n:t}},2757:(e,t,i)=>{"use strict";var r=i(8280),n=i(1263),s=Array.prototype;e.exports=function(e){var t=e.sort;return e===s||r(s,e)&&t===s.sort?n:t}},7961:(e,t,i)=>{"use strict";var r=i(8280),n=i(4491),s=String.prototype;e.exports=function(e){var t=e.startsWith;return"string"==typeof e||e===s||r(s,e)&&t===s.startsWith?n:t}},3423:(e,t,i)=>{"use strict";var r=i(8280),n=i(7511),s=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===s||r(s,e)&&t===s.trim?n:t}},7367:(e,t,i)=>{"use strict";i(1340);var r=i(2046);e.exports=r.Object.assign},9929:(e,t,i)=>{"use strict";i(9502);var r=i(2046);e.exports=r.parseFloat},4326:(e,t,i)=>{"use strict";i(2193);var r=i(2046);e.exports=r.parseInt},7027:(e,t,i)=>{"use strict";i(4502),i(9363),i(3643),i(5931),i(7450),i(6415),i(5823),i(7714),i(7057);var r=i(2046);e.exports=r.Promise},4378:(e,t,i)=>{"use strict";i(9770);var r=i(1747);e.exports=r("String","includes")},3727:(e,t,i)=>{"use strict";i(3356);var r=i(1747);e.exports=r("String","padStart")},4491:(e,t,i)=>{"use strict";i(2395);var r=i(1747);e.exports=r("String","startsWith")},7511:(e,t,i)=>{"use strict";i(727);var r=i(1747);e.exports=r("String","trim")},2159:(e,t,i)=>{"use strict";var r=i(2250),n=i(4640),s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(n(e)+" is not a function")}},2235:(e,t,i)=>{"use strict";var r=i(5468),n=i(4640),s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(n(e)+" is not a constructor")}},43:(e,t,i)=>{"use strict";var r=i(4018),n=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s("Can't set "+n(e)+" as a prototype")}},2156:e=>{"use strict";e.exports=function(){}},9596:(e,t,i)=>{"use strict";var r=i(8280),n=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new n("Incorrect invocation")}},6624:(e,t,i)=>{"use strict";var r=i(6285),n=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(n(e)+" is not an object")}},4436:(e,t,i)=>{"use strict";var r=i(7374),n=i(4849),s=i(575),a=function(e){return function(t,i,a){var o=r(t),l=s(o);if(0===l)return!e&&-1;var c,d=n(a,l);if(e&&i!=i){for(;l>d;)if((c=o[d++])!=c)return!0}else for(;l>d;d++)if((e||d in o)&&o[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},7623:(e,t,i)=>{"use strict";var r=i(8828);e.exports=function(e,t){var i=[][e];return!!i&&r((function(){i.call(null,t||function(){return 1},1)}))}},5043:(e,t,i)=>{"use strict";var r=i(2159),n=i(9298),s=i(6946),a=i(575),o=TypeError,l="Reduce of empty array with no initial value",c=function(e){return function(t,i,c,d){var h=n(t),p=s(h),u=a(h);if(r(i),0===u&&c<2)throw new o(l);var m=e?u-1:0,A=e?-1:1;if(c<2)for(;;){if(m in p){d=p[m],m+=A;break}if(m+=A,e?m<0:u<=m)throw new o(l)}for(;e?m>=0:u>m;m+=A)m in p&&(d=i(d,p[m],m,h));return d}};e.exports={left:c(!1),right:c(!0)}},3130:(e,t,i)=>{"use strict";var r=i(9447),n=i(1793),s=TypeError,a=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(n(e)&&!a(e,"length").writable)throw new s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},3427:(e,t,i)=>{"use strict";var r=i(1907);e.exports=r([].slice)},4321:(e,t,i)=>{"use strict";var r=i(3427),n=Math.floor,s=function(e,t){var i=e.length;if(i<8)for(var a,o,l=1;l<i;){for(o=l,a=e[l];o&&t(e[o-1],a)>0;)e[o]=e[--o];o!==l++&&(e[o]=a)}else for(var c=n(i/2),d=s(r(e,0,c),t),h=s(r(e,c),t),p=d.length,u=h.length,m=0,A=0;m<p||A<u;)e[m+A]=m<p&&A<u?t(d[m],h[A])<=0?d[m++]:h[A++]:m<p?d[m++]:h[A++];return e};e.exports=s},473:(e,t,i)=>{"use strict";var r=i(6264)("iterator"),n=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){n=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!n)return!1}catch(e){return!1}var i=!1;try{var s={};s[r]=function(){return{next:function(){return{done:i=!0}}}},e(s)}catch(e){}return i}},5807:(e,t,i)=>{"use strict";var r=i(1907),n=r({}.toString),s=r("".slice);e.exports=function(e){return s(n(e),8,-1)}},3948:(e,t,i)=>{"use strict";var r=i(2623),n=i(2250),s=i(5807),a=i(6264)("toStringTag"),o=Object,l="Arguments"===s(function(){return arguments}());e.exports=r?s:function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=o(e),a))?i:l?s(t):"Object"===(r=s(t))&&n(t.callee)?"Arguments":r}},9595:(e,t,i)=>{"use strict";var r=i(9724),n=i(1042),s=i(3846),a=i(4284);e.exports=function(e,t,i){for(var o=n(t),l=a.f,c=s.f,d=0;d<o.length;d++){var h=o[d];r(e,h)||i&&r(i,h)||l(e,h,c(t,h))}}},5735:(e,t,i)=>{"use strict";var r=i(6264)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},7382:(e,t,i)=>{"use strict";var r=i(8828);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},9550:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1626:(e,t,i)=>{"use strict";var r=i(9447),n=i(4284),s=i(5817);e.exports=r?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},5817:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9251:(e,t,i)=>{"use strict";var r=i(4284);e.exports=function(e,t,i){return r.f(e,t,i)}},8055:(e,t,i)=>{"use strict";var r=i(1626);e.exports=function(e,t,i,n){return n&&n.enumerable?e[t]=i:r(e,t,i),e}},2532:(e,t,i)=>{"use strict";var r=i(5951),n=Object.defineProperty;e.exports=function(e,t){try{n(r,e,{value:t,configurable:!0,writable:!0})}catch(i){r[e]=t}return t}},4535:(e,t,i)=>{"use strict";var r=i(4640),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw new n("Cannot delete property "+r(t)+" of "+r(e))}},9447:(e,t,i)=>{"use strict";var r=i(8828);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9552:(e,t,i)=>{"use strict";var r=i(5951),n=i(6285),s=r.document,a=n(s)&&n(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},8024:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},9287:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},376:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3440:(e,t,i)=>{"use strict";var r=i(6794).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},4328:(e,t,i)=>{"use strict";var r=i(6794);e.exports=/MSIE|Trident/.test(r)},8606:(e,t,i)=>{"use strict";var r=i(6794);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},1829:(e,t,i)=>{"use strict";var r=i(6794);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},7586:(e,t,i)=>{"use strict";var r=i(2832);e.exports="NODE"===r},9291:(e,t,i)=>{"use strict";var r=i(6794);e.exports=/web0s(?!.*chrome)/i.test(r)},6794:(e,t,i)=>{"use strict";var r=i(5951).navigator,n=r&&r.userAgent;e.exports=n?String(n):""},798:(e,t,i)=>{"use strict";var r,n,s=i(5951),a=i(6794),o=s.process,l=s.Deno,c=o&&o.versions||l&&l.version,d=c&&c.v8;d&&(n=(r=d.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(n=+r[1]),e.exports=n},3786:(e,t,i)=>{"use strict";var r=i(6794).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},2832:(e,t,i)=>{"use strict";var r=i(5951),n=i(6794),s=i(5807),a=function(e){return n.slice(0,e.length)===e};e.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},5762:(e,t,i)=>{"use strict";var r=i(1907),n=Error,s=r("".replace),a=String(new n("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)for(;t--;)e=s(e,o,"");return e}},5884:(e,t,i)=>{"use strict";var r=i(1626),n=i(5762),s=i(3888),a=Error.captureStackTrace;e.exports=function(e,t,i,o){s&&(a?a(e,t):r(e,"stack",n(i,o)))}},3888:(e,t,i)=>{"use strict";var r=i(8828),n=i(5817);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},1091:(e,t,i)=>{"use strict";var r=i(5951),n=i(6024),s=i(2361),a=i(2250),o=i(3846).f,l=i(7463),c=i(2046),d=i(8311),h=i(1626),p=i(9724);i(6128);var u=function(e){var t=function(i,r,s){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,r)}return new e(i,r,s)}return n(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var i,n,m,A,g,v,f,_,y,E=e.target,C=e.global,b=e.stat,T=e.proto,V=C?r:b?r[E]:r[E]&&r[E].prototype,k=C?c:c[E]||h(c,E,{})[E],w=k.prototype;for(A in t)n=!(i=l(C?A:E+(b?".":"#")+A,e.forced))&&V&&p(V,A),v=k[A],n&&(f=e.dontCallGetSet?(y=o(V,A))&&y.value:V[A]),g=n&&f?f:t[A],(i||T||typeof v!=typeof g)&&(_=e.bind&&n?d(g,r):e.wrap&&n?u(g):T&&a(g)?s(g):g,(e.sham||g&&g.sham||v&&v.sham)&&h(_,"sham",!0),h(k,A,_),T&&(p(c,m=E+"Prototype")||h(c,m,{}),h(c[m],A,g),e.real&&w&&(i||!w[A])&&h(w,A,g)))}},8828:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},6024:(e,t,i)=>{"use strict";var r=i(1505),n=Function.prototype,s=n.apply,a=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(s):function(){return a.apply(s,arguments)})},8311:(e,t,i)=>{"use strict";var r=i(2361),n=i(2159),s=i(1505),a=r(r.bind);e.exports=function(e,t){return n(e),void 0===t?e:s?a(e,t):function(){return e.apply(t,arguments)}}},1505:(e,t,i)=>{"use strict";var r=i(8828);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3930:(e,t,i)=>{"use strict";var r=i(1505),n=Function.prototype.call;e.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},6833:(e,t,i)=>{"use strict";var r=i(9447),n=i(9724),s=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=n(s,"name"),l=o&&"something"===function(){}.name,c=o&&(!r||r&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},1871:(e,t,i)=>{"use strict";var r=i(1907),n=i(2159);e.exports=function(e,t,i){try{return r(n(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}}},2361:(e,t,i)=>{"use strict";var r=i(5807),n=i(1907);e.exports=function(e){if("Function"===r(e))return n(e)}},1907:(e,t,i)=>{"use strict";var r=i(1505),n=Function.prototype,s=n.call,a=r&&n.bind.bind(s,s);e.exports=r?a:function(e){return function(){return s.apply(e,arguments)}}},1747:(e,t,i)=>{"use strict";var r=i(5951),n=i(2046);e.exports=function(e,t){var i=n[e+"Prototype"],s=i&&i[t];if(s)return s;var a=r[e],o=a&&a.prototype;return o&&o[t]}},5582:(e,t,i)=>{"use strict";var r=i(2046),n=i(5951),s=i(2250),a=function(e){return s(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(n[e]):r[e]&&r[e][t]||n[e]&&n[e][t]}},3448:(e,t,i)=>{"use strict";var r=i(3948),n=i(9367),s=i(7136),a=i(3742),o=i(6264)("iterator");e.exports=function(e){if(!s(e))return n(e,o)||n(e,"@@iterator")||a[r(e)]}},300:(e,t,i)=>{"use strict";var r=i(3930),n=i(2159),s=i(6624),a=i(4640),o=i(3448),l=TypeError;e.exports=function(e,t){var i=arguments.length<2?o(e):t;if(n(i))return s(r(i,e));throw new l(a(e)+" is not iterable")}},9367:(e,t,i)=>{"use strict";var r=i(2159),n=i(7136);e.exports=function(e,t){var i=e[t];return n(i)?void 0:r(i)}},5951:function(e,t,i){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i.g&&i.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9724:(e,t,i)=>{"use strict";var r=i(1907),n=i(9298),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(n(e),t)}},8530:e=>{"use strict";e.exports={}},3904:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2416:(e,t,i)=>{"use strict";var r=i(5582);e.exports=r("document","documentElement")},3648:(e,t,i)=>{"use strict";var r=i(9447),n=i(8828),s=i(9552);e.exports=!r&&!n((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},6946:(e,t,i)=>{"use strict";var r=i(1907),n=i(8828),s=i(5807),a=Object,o=r("".split);e.exports=n((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===s(e)?o(e,""):a(e)}:a},2647:(e,t,i)=>{"use strict";var r=i(1907),n=i(2250),s=i(6128),a=r(Function.toString);n(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},9259:(e,t,i)=>{"use strict";var r=i(6285),n=i(1626);e.exports=function(e,t){r(t)&&"cause"in t&&n(e,"cause",t.cause)}},4932:(e,t,i)=>{"use strict";var r,n,s,a=i(551),o=i(5951),l=i(6285),c=i(1626),d=i(9724),h=i(6128),p=i(2522),u=i(8530),m="Object already initialized",A=o.TypeError,g=o.WeakMap;if(a||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw new A(m);return t.facade=e,v.set(e,t),t},n=function(e){return v.get(e)||{}},s=function(e){return v.has(e)}}else{var f=p("state");u[f]=!0,r=function(e,t){if(d(e,f))throw new A(m);return t.facade=e,c(e,f,t),t},n=function(e){return d(e,f)?e[f]:{}},s=function(e){return d(e,f)}}e.exports={set:r,get:n,has:s,enforce:function(e){return s(e)?n(e):r(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=n(t)).type!==e)throw new A("Incompatible receiver, "+e+" required");return i}}}},7812:(e,t,i)=>{"use strict";var r=i(6264),n=i(3742),s=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[s]===e)}},1793:(e,t,i)=>{"use strict";var r=i(5807);e.exports=Array.isArray||function(e){return"Array"===r(e)}},2250:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},5468:(e,t,i)=>{"use strict";var r=i(1907),n=i(8828),s=i(2250),a=i(3948),o=i(5582),l=i(2647),c=function(){},d=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),u=!h.test(c),m=function(e){if(!s(e))return!1;try{return d(c,[],e),!0}catch(e){return!1}},A=function(e){if(!s(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!p(h,l(e))}catch(e){return!0}};A.sham=!0,e.exports=!d||n((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?A:m},7463:(e,t,i)=>{"use strict";var r=i(8828),n=i(2250),s=/#|\.prototype\./,a=function(e,t){var i=l[o(e)];return i===d||i!==c&&(n(t)?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},7136:e=>{"use strict";e.exports=function(e){return null==e}},6285:(e,t,i)=>{"use strict";var r=i(2250);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},4018:(e,t,i)=>{"use strict";var r=i(6285);e.exports=function(e){return r(e)||null===e}},7376:e=>{"use strict";e.exports=!0},2087:(e,t,i)=>{"use strict";var r=i(6285),n=i(5807),s=i(6264)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===n(e))}},5594:(e,t,i)=>{"use strict";var r=i(5582),n=i(2250),s=i(8280),a=i(1175),o=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return n(t)&&s(t.prototype,o(e))}},4823:(e,t,i)=>{"use strict";var r=i(8311),n=i(3930),s=i(6624),a=i(4640),o=i(7812),l=i(575),c=i(8280),d=i(300),h=i(3448),p=i(154),u=TypeError,m=function(e,t){this.stopped=e,this.result=t},A=m.prototype;e.exports=function(e,t,i){var g,v,f,_,y,E,C,b=i&&i.that,T=!(!i||!i.AS_ENTRIES),V=!(!i||!i.IS_RECORD),k=!(!i||!i.IS_ITERATOR),w=!(!i||!i.INTERRUPTED),P=r(t,b),R=function(e){return g&&p(g,"normal",e),new m(!0,e)},S=function(e){return T?(s(e),w?P(e[0],e[1],R):P(e[0],e[1])):w?P(e,R):P(e)};if(V)g=e.iterator;else if(k)g=e;else{if(!(v=h(e)))throw new u(a(e)+" is not iterable");if(o(v)){for(f=0,_=l(e);_>f;f++)if((y=S(e[f]))&&c(A,y))return y;return new m(!1)}g=d(e,v)}for(E=V?e.next:g.next;!(C=n(E,g)).done;){try{y=S(C.value)}catch(e){p(g,"throw",e)}if("object"==typeof y&&y&&c(A,y))return y}return new m(!1)}},154:(e,t,i)=>{"use strict";var r=i(3930),n=i(6624),s=i(9367);e.exports=function(e,t,i){var a,o;n(e);try{if(!(a=s(e,"return"))){if("throw"===t)throw i;return i}a=r(a,e)}catch(e){o=!0,a=e}if("throw"===t)throw i;if(o)throw a;return n(a),i}},7181:(e,t,i)=>{"use strict";var r=i(5116).IteratorPrototype,n=i(8075),s=i(5817),a=i(4840),o=i(3742),l=function(){return this};e.exports=function(e,t,i,c){var d=t+" Iterator";return e.prototype=n(r,{next:s(+!c,i)}),a(e,d,!1,!0),o[d]=l,e}},183:(e,t,i)=>{"use strict";var r=i(1091),n=i(3930),s=i(7376),a=i(6833),o=i(2250),l=i(7181),c=i(5972),d=i(9192),h=i(4840),p=i(1626),u=i(8055),m=i(6264),A=i(3742),g=i(5116),v=a.PROPER,f=a.CONFIGURABLE,_=g.IteratorPrototype,y=g.BUGGY_SAFARI_ITERATORS,E=m("iterator"),C="keys",b="values",T="entries",V=function(){return this};e.exports=function(e,t,i,a,m,g,k){l(i,t,a);var w,P,R,S=function(e){if(e===m&&N)return N;if(!y&&e&&e in x)return x[e];switch(e){case C:case b:case T:return function(){return new i(this,e)}}return function(){return new i(this)}},I=t+" Iterator",L=!1,x=e.prototype,U=x[E]||x["@@iterator"]||m&&x[m],N=!y&&U||S(m),O="Array"===t&&x.entries||U;if(O&&(w=c(O.call(new e)))!==Object.prototype&&w.next&&(s||c(w)===_||(d?d(w,_):o(w[E])||u(w,E,V)),h(w,I,!0,!0),s&&(A[I]=V)),v&&m===b&&U&&U.name!==b&&(!s&&f?p(x,"name",b):(L=!0,N=function(){return n(U,this)})),m)if(P={values:S(b),keys:g?N:S(C),entries:S(T)},k)for(R in P)(y||L||!(R in x))&&u(x,R,P[R]);else r({target:t,proto:!0,forced:y||L},P);return s&&!k||x[E]===N||u(x,E,N,{name:m}),A[t]=N,P}},5116:(e,t,i)=>{"use strict";var r,n,s,a=i(8828),o=i(2250),l=i(6285),c=i(8075),d=i(5972),h=i(8055),p=i(6264),u=i(7376),m=p("iterator"),A=!1;[].keys&&("next"in(s=[].keys())?(n=d(d(s)))!==Object.prototype&&(r=n):A=!0),!l(r)||a((function(){var e={};return r[m].call(e)!==e}))?r={}:u&&(r=c(r)),o(r[m])||h(r,m,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:A}},3742:e=>{"use strict";e.exports={}},575:(e,t,i)=>{"use strict";var r=i(3121);e.exports=function(e){return r(e.length)}},1176:e=>{"use strict";var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?i:t)(r)}},2292:(e,t,i)=>{"use strict";var r,n,s,a,o,l=i(5951),c=i(2098),d=i(8311),h=i(9472).set,p=i(9245),u=i(1829),m=i(8606),A=i(9291),g=i(7586),v=l.MutationObserver||l.WebKitMutationObserver,f=l.document,_=l.process,y=l.Promise,E=c("queueMicrotask");if(!E){var C=new p,b=function(){var e,t;for(g&&(e=_.domain)&&e.exit();t=C.get();)try{t()}catch(e){throw C.head&&r(),e}e&&e.enter()};u||g||A||!v||!f?!m&&y&&y.resolve?((a=y.resolve(void 0)).constructor=y,o=d(a.then,a),r=function(){o(b)}):g?r=function(){_.nextTick(b)}:(h=d(h,l),r=function(){h(b)}):(n=!0,s=f.createTextNode(""),new v(b).observe(s,{characterData:!0}),r=function(){s.data=n=!n}),E=function(e){C.head||r(),C.add(e)}}e.exports=E},6254:(e,t,i)=>{"use strict";var r=i(2159),n=TypeError,s=function(e){var t,i;this.promise=new e((function(e,r){if(void 0!==t||void 0!==i)throw new n("Bad Promise constructor");t=e,i=r})),this.resolve=r(t),this.reject=r(i)};e.exports.f=function(e){return new s(e)}},2096:(e,t,i)=>{"use strict";var r=i(160);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},2074:(e,t,i)=>{"use strict";var r=i(2087),n=TypeError;e.exports=function(e){if(r(e))throw new n("The method doesn't accept regular expressions");return e}},7213:(e,t,i)=>{"use strict";var r=i(5951),n=i(8828),s=i(1907),a=i(160),o=i(5993).trim,l=i(6395),c=s("".charAt),d=r.parseFloat,h=r.Symbol,p=h&&h.iterator,u=1/d(l+"-0")!=-1/0||p&&!n((function(){d(Object(p))}));e.exports=u?function(e){var t=o(a(e)),i=d(t);return 0===i&&"-"===c(t,0)?-0:i}:d},2778:(e,t,i)=>{"use strict";var r=i(5951),n=i(8828),s=i(1907),a=i(160),o=i(5993).trim,l=i(6395),c=r.parseInt,d=r.Symbol,h=d&&d.iterator,p=/^[+-]?0x/i,u=s(p.exec),m=8!==c(l+"08")||22!==c(l+"0x16")||h&&!n((function(){c(Object(h))}));e.exports=m?function(e,t){var i=o(a(e));return c(i,t>>>0||(u(p,i)?16:10))}:c},9538:(e,t,i)=>{"use strict";var r=i(9447),n=i(1907),s=i(3930),a=i(8828),o=i(2875),l=i(7170),c=i(2574),d=i(9298),h=i(6946),p=Object.assign,u=Object.defineProperty,m=n([].concat);e.exports=!p||a((function(){if(r&&1!==p({b:1},p(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach((function(e){t[e]=e})),7!==p({},e)[i]||o(p({},t)).join("")!==n}))?function(e,t){for(var i=d(e),n=arguments.length,a=1,p=l.f,u=c.f;n>a;)for(var A,g=h(arguments[a++]),v=p?m(o(g),p(g)):o(g),f=v.length,_=0;f>_;)A=v[_++],r&&!s(u,g,A)||(i[A]=g[A]);return i}:p},8075:(e,t,i)=>{"use strict";var r,n=i(6624),s=i(2220),a=i(376),o=i(8530),l=i(2416),c=i(9552),d=i(2522),h="prototype",p="script",u=d("IE_PROTO"),m=function(){},A=function(e){return"<"+p+">"+e+"</"+p+">"},g=function(e){e.write(A("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,i;v="undefined"!=typeof document?document.domain&&r?g(r):(t=c("iframe"),i="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(A("document.F=Object")),e.close(),e.F):g(r);for(var n=a.length;n--;)delete v[h][a[n]];return v()};o[u]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(m[h]=n(e),i=new m,m[h]=null,i[u]=e):i=v(),void 0===t?i:s.f(i,t)}},2220:(e,t,i)=>{"use strict";var r=i(9447),n=i(8661),s=i(4284),a=i(6624),o=i(7374),l=i(2875);t.f=r&&!n?Object.defineProperties:function(e,t){a(e);for(var i,r=o(t),n=l(t),c=n.length,d=0;c>d;)s.f(e,i=n[d++],r[i]);return e}},4284:(e,t,i)=>{"use strict";var r=i(9447),n=i(3648),s=i(8661),a=i(6624),o=i(470),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",u="writable";t.f=r?s?function(e,t,i){if(a(e),t=o(t),a(i),"function"==typeof e&&"prototype"===t&&"value"in i&&u in i&&!i[u]){var r=d(e,t);r&&r[u]&&(e[t]=i.value,i={configurable:p in i?i[p]:r[p],enumerable:h in i?i[h]:r[h],writable:!1})}return c(e,t,i)}:c:function(e,t,i){if(a(e),t=o(t),a(i),n)try{return c(e,t,i)}catch(e){}if("get"in i||"set"in i)throw new l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},3846:(e,t,i)=>{"use strict";var r=i(9447),n=i(3930),s=i(2574),a=i(5817),o=i(7374),l=i(470),c=i(9724),d=i(3648),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=o(e),t=l(t),d)try{return h(e,t)}catch(e){}if(c(e,t))return a(!n(s.f,e,t),e[t])}},4443:(e,t,i)=>{"use strict";var r=i(3045),n=i(376).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},7170:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},5972:(e,t,i)=>{"use strict";var r=i(9724),n=i(2250),s=i(9298),a=i(2522),o=i(7382),l=a("IE_PROTO"),c=Object,d=c.prototype;e.exports=o?c.getPrototypeOf:function(e){var t=s(e);if(r(t,l))return t[l];var i=t.constructor;return n(i)&&t instanceof i?i.prototype:t instanceof c?d:null}},8280:(e,t,i)=>{"use strict";var r=i(1907);e.exports=r({}.isPrototypeOf)},3045:(e,t,i)=>{"use strict";var r=i(1907),n=i(9724),s=i(7374),a=i(4436).indexOf,o=i(8530),l=r([].push);e.exports=function(e,t){var i,r=s(e),c=0,d=[];for(i in r)!n(o,i)&&n(r,i)&&l(d,i);for(;t.length>c;)n(r,i=t[c++])&&(~a(d,i)||l(d,i));return d}},2875:(e,t,i)=>{"use strict";var r=i(3045),n=i(376);e.exports=Object.keys||function(e){return r(e,n)}},2574:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!i.call({1:2},1);t.f=n?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},9192:(e,t,i)=>{"use strict";var r=i(1871),n=i(6285),s=i(4239),a=i(43);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=r(Object.prototype,"__proto__","set"))(i,[]),t=i instanceof Array}catch(e){}return function(i,r){return s(i),a(r),n(i)?(t?e(i,r):i.__proto__=r,i):i}}():void 0)},4878:(e,t,i)=>{"use strict";var r=i(2623),n=i(3948);e.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},581:(e,t,i)=>{"use strict";var r=i(3930),n=i(2250),s=i(6285),a=TypeError;e.exports=function(e,t){var i,o;if("string"===t&&n(i=e.toString)&&!s(o=r(i,e)))return o;if(n(i=e.valueOf)&&!s(o=r(i,e)))return o;if("string"!==t&&n(i=e.toString)&&!s(o=r(i,e)))return o;throw new a("Can't convert object to primitive value")}},1042:(e,t,i)=>{"use strict";var r=i(5582),n=i(1907),s=i(4443),a=i(7170),o=i(6624),l=n([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(o(e)),i=a.f;return i?l(t,i(e)):t}},2046:e=>{"use strict";e.exports={}},4420:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1759:(e,t,i)=>{"use strict";var r=i(5951),n=i(5463),s=i(2250),a=i(7463),o=i(2647),l=i(6264),c=i(2832),d=i(7376),h=i(798),p=n&&n.prototype,u=l("species"),m=!1,A=s(r.PromiseRejectionEvent),g=a("Promise",(function(){var e=o(n),t=e!==String(n);if(!t&&66===h)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(e)){var i=new n((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((i.constructor={})[u]=r,!(m=i.then((function(){}))instanceof r))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||A)}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:A,SUBCLASSING:m}},5463:(e,t,i)=>{"use strict";var r=i(5951);e.exports=r.Promise},3569:(e,t,i)=>{"use strict";var r=i(6624),n=i(6285),s=i(6254);e.exports=function(e,t){if(r(e),n(t)&&t.constructor===e)return t;var i=s.f(e);return(0,i.resolve)(t),i.promise}},3282:(e,t,i)=>{"use strict";var r=i(5463),n=i(473),s=i(1759).CONSTRUCTOR;e.exports=s||!n((function(e){r.all(e).then(void 0,(function(){}))}))},9245:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},4239:(e,t,i)=>{"use strict";var r=i(7136),n=TypeError;e.exports=function(e){if(r(e))throw new n("Can't call method on "+e);return e}},2098:(e,t,i)=>{"use strict";var r=i(5951),n=i(9447),s=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!n)return r[e];var t=s(r,e);return t&&t.value}},7118:(e,t,i)=>{"use strict";var r=i(5582),n=i(9251),s=i(6264),a=i(9447),o=s("species");e.exports=function(e){var t=r(e);a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},4840:(e,t,i)=>{"use strict";var r=i(2623),n=i(4284).f,s=i(1626),a=i(9724),o=i(4878),l=i(6264)("toStringTag");e.exports=function(e,t,i,c){var d=i?e:e&&e.prototype;d&&(a(d,l)||n(d,l,{configurable:!0,value:t}),c&&!r&&s(d,"toString",o))}},2522:(e,t,i)=>{"use strict";var r=i(5816),n=i(6499),s=r("keys");e.exports=function(e){return s[e]||(s[e]=n(e))}},6128:(e,t,i)=>{"use strict";var r=i(7376),n=i(5951),s=i(2532),a="__core-js_shared__",o=e.exports=n[a]||s(a,{});(o.versions||(o.versions=[])).push({version:"3.38.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5816:(e,t,i)=>{"use strict";var r=i(6128);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},8450:(e,t,i)=>{"use strict";var r=i(6624),n=i(2235),s=i(7136),a=i(6264)("species");e.exports=function(e,t){var i,o=r(e).constructor;return void 0===o||s(i=r(o)[a])?t:n(i)}},1470:(e,t,i)=>{"use strict";var r=i(1907),n=i(5482),s=i(160),a=i(4239),o=r("".charAt),l=r("".charCodeAt),c=r("".slice),d=function(e){return function(t,i){var r,d,h=s(a(t)),p=n(i),u=h.length;return p<0||p>=u?e?"":void 0:(r=l(h,p))<55296||r>56319||p+1===u||(d=l(h,p+1))<56320||d>57343?e?o(h,p):r:e?c(h,p,p+2):d-56320+(r-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},1156:(e,t,i)=>{"use strict";var r=i(6794);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},1164:(e,t,i)=>{"use strict";var r=i(1907),n=i(3121),s=i(160),a=i(9314),o=i(4239),l=r(a),c=r("".slice),d=Math.ceil,h=function(e){return function(t,i,r){var a,h,p=s(o(t)),u=n(i),m=p.length,A=void 0===r?" ":s(r);return u<=m||""===A?p:((h=l(A,d((a=u-m)/A.length))).length>a&&(h=c(h,0,a)),e?p+h:h+p)}};e.exports={start:h(!1),end:h(!0)}},9314:(e,t,i)=>{"use strict";var r=i(5482),n=i(160),s=i(4239),a=RangeError;e.exports=function(e){var t=n(s(this)),i="",o=r(e);if(o<0||o===1/0)throw new a("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(i+=t);return i}},5819:(e,t,i)=>{"use strict";var r=i(6833).PROPER,n=i(8828),s=i(6395);e.exports=function(e){return n((function(){return!!s[e]()||"​᠎"!=="​᠎"[e]()||r&&s[e].name!==e}))}},5993:(e,t,i)=>{"use strict";var r=i(1907),n=i(4239),s=i(160),a=i(6395),o=r("".replace),l=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),d=function(e){return function(t){var i=s(n(t));return 1&e&&(i=o(i,l,"")),2&e&&(i=o(i,c,"$1")),i}};e.exports={start:d(1),end:d(2),trim:d(3)}},9846:(e,t,i)=>{"use strict";var r=i(798),n=i(8828),s=i(5951).String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9472:(e,t,i)=>{"use strict";var r,n,s,a,o=i(5951),l=i(6024),c=i(8311),d=i(2250),h=i(9724),p=i(8828),u=i(2416),m=i(3427),A=i(9552),g=i(4787),v=i(1829),f=i(7586),_=o.setImmediate,y=o.clearImmediate,E=o.process,C=o.Dispatch,b=o.Function,T=o.MessageChannel,V=o.String,k=0,w={},P="onreadystatechange";p((function(){r=o.location}));var R=function(e){if(h(w,e)){var t=w[e];delete w[e],t()}},S=function(e){return function(){R(e)}},I=function(e){R(e.data)},L=function(e){o.postMessage(V(e),r.protocol+"//"+r.host)};_&&y||(_=function(e){g(arguments.length,1);var t=d(e)?e:b(e),i=m(arguments,1);return w[++k]=function(){l(t,void 0,i)},n(k),k},y=function(e){delete w[e]},f?n=function(e){E.nextTick(S(e))}:C&&C.now?n=function(e){C.now(S(e))}:T&&!v?(a=(s=new T).port2,s.port1.onmessage=I,n=c(a.postMessage,a)):o.addEventListener&&d(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!p(L)?(n=L,o.addEventListener("message",I,!1)):n=P in A("script")?function(e){u.appendChild(A("script"))[P]=function(){u.removeChild(this),R(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:_,clear:y}},4849:(e,t,i)=>{"use strict";var r=i(5482),n=Math.max,s=Math.min;e.exports=function(e,t){var i=r(e);return i<0?n(i+t,0):s(i,t)}},7374:(e,t,i)=>{"use strict";var r=i(6946),n=i(4239);e.exports=function(e){return r(n(e))}},5482:(e,t,i)=>{"use strict";var r=i(1176);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},3121:(e,t,i)=>{"use strict";var r=i(5482),n=Math.min;e.exports=function(e){var t=r(e);return t>0?n(t,9007199254740991):0}},9298:(e,t,i)=>{"use strict";var r=i(4239),n=Object;e.exports=function(e){return n(r(e))}},6028:(e,t,i)=>{"use strict";var r=i(3930),n=i(6285),s=i(5594),a=i(9367),o=i(581),l=i(6264),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!n(e)||s(e))return e;var i,l=a(e,d);if(l){if(void 0===t&&(t="default"),i=r(l,e,t),!n(i)||s(i))return i;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},470:(e,t,i)=>{"use strict";var r=i(6028),n=i(5594);e.exports=function(e){var t=r(e,"string");return n(t)?t:t+""}},2623:(e,t,i)=>{"use strict";var r={};r[i(6264)("toStringTag")]="z",e.exports="[object z]"===String(r)},160:(e,t,i)=>{"use strict";var r=i(3948),n=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},4640:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6499:(e,t,i)=>{"use strict";var r=i(1907),n=0,s=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++n+s,36)}},1175:(e,t,i)=>{"use strict";var r=i(9846);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8661:(e,t,i)=>{"use strict";var r=i(9447),n=i(8828);e.exports=r&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4787:e=>{"use strict";var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},551:(e,t,i)=>{"use strict";var r=i(5951),n=i(2250),s=r.WeakMap;e.exports=n(s)&&/native code/.test(String(s))},6264:(e,t,i)=>{"use strict";var r=i(5951),n=i(5816),s=i(9724),a=i(6499),o=i(9846),l=i(1175),c=r.Symbol,d=n("wks"),h=l?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return s(d,e)||(d[e]=o&&s(c,e)?c[e]:h("Symbol."+e)),d[e]}},6395:e=>{"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2048:(e,t,i)=>{"use strict";var r=i(1091),n=i(8280),s=i(5972),a=i(9192),o=i(9595),l=i(8075),c=i(1626),d=i(5817),h=i(9259),p=i(5884),u=i(4823),m=i(2096),A=i(6264)("toStringTag"),g=Error,v=[].push,f=function(e,t){var i,r=n(_,this);a?i=a(new g,r?s(this):_):(i=r?this:l(_),c(i,A,"Error")),void 0!==t&&c(i,"message",m(t)),p(i,f,i.stack,1),arguments.length>2&&h(i,arguments[2]);var o=[];return u(e,v,{that:o}),c(i,"errors",o),i};a?a(f,g):o(f,g,{name:!0});var _=f.prototype=l(g.prototype,{constructor:d(1,f),message:d(1,""),name:d(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:f})},4502:(e,t,i)=>{"use strict";i(2048)},9748:(e,t,i)=>{"use strict";var r=i(1091),n=i(4436).includes,s=i(8828),a=i(2156);r({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},9363:(e,t,i)=>{"use strict";var r=i(7374),n=i(2156),s=i(3742),a=i(4932),o=i(4284).f,l=i(183),c=i(9550),d=i(7376),h=i(9447),p="Array Iterator",u=a.set,m=a.getterFor(p);e.exports=l(Array,"Array",(function(e,t){u(this,{type:p,target:r(e),index:0,kind:t})}),(function(){var e=m(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=void 0,c(void 0,!0);switch(e.kind){case"keys":return c(i,!1);case"values":return c(t[i],!1)}return c([i,t[i]],!1)}),"values");var A=s.Arguments=s.Array;if(n("keys"),n("values"),n("entries"),!d&&h&&"values"!==A.name)try{o(A,"name",{value:"values"})}catch(e){}},5745:(e,t,i)=>{"use strict";var r=i(1091),n=i(9298),s=i(575),a=i(3130),o=i(8024);r({target:"Array",proto:!0,arity:1,forced:i(8828)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=n(this),i=s(t),r=arguments.length;o(i+r);for(var l=0;l<r;l++)t[i]=arguments[l],i++;return a(t,i),i}})},6339:(e,t,i)=>{"use strict";var r=i(1091),n=i(5043).left,s=i(7623),a=i(798);r({target:"Array",proto:!0,forced:!i(7586)&&a>79&&a<83||!s("reduce")},{reduce:function(e){var t=arguments.length;return n(this,e,t,t>1?arguments[1]:void 0)}})},6737:(e,t,i)=>{"use strict";var r=i(1091),n=i(1907),s=i(2159),a=i(9298),o=i(575),l=i(4535),c=i(160),d=i(8828),h=i(4321),p=i(7623),u=i(3440),m=i(4328),A=i(798),g=i(3786),v=[],f=n(v.sort),_=n(v.push),y=d((function(){v.sort(void 0)})),E=d((function(){v.sort(null)})),C=p("sort"),b=!d((function(){if(A)return A<70;if(!(u&&u>3)){if(m)return!0;if(g)return g<603;var e,t,i,r,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(r=0;r<47;r++)v.push({k:t+r,v:i})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));r({target:"Array",proto:!0,forced:y||!E||!C||!b},{sort:function(e){void 0!==e&&s(e);var t=a(this);if(b)return void 0===e?f(t):f(t,e);var i,r,n=[],d=o(t);for(r=0;r<d;r++)r in t&&_(n,t[r]);for(h(n,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:c(t)>c(i)?1:-1}}(e)),i=o(n),r=0;r<i;)t[r]=n[r++];for(;r<d;)l(t,r++);return t}})},1340:(e,t,i)=>{"use strict";var r=i(1091),n=i(9538);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},3643:()=>{},9502:(e,t,i)=>{"use strict";var r=i(1091),n=i(7213);r({global:!0,forced:parseFloat!==n},{parseFloat:n})},2193:(e,t,i)=>{"use strict";var r=i(1091),n=i(2778);r({global:!0,forced:parseInt!==n},{parseInt:n})},7450:(e,t,i)=>{"use strict";var r=i(1091),n=i(3930),s=i(2159),a=i(6254),o=i(4420),l=i(4823);r({target:"Promise",stat:!0,forced:i(3282)},{allSettled:function(e){var t=this,i=a.f(t),r=i.resolve,c=i.reject,d=o((function(){var i=s(t.resolve),a=[],o=0,c=1;l(e,(function(e){var s=o++,l=!1;c++,n(i,t,e).then((function(e){l||(l=!0,a[s]={status:"fulfilled",value:e},--c||r(a))}),(function(e){l||(l=!0,a[s]={status:"rejected",reason:e},--c||r(a))}))})),--c||r(a)}));return d.error&&c(d.value),i.promise}})},6630:(e,t,i)=>{"use strict";var r=i(1091),n=i(3930),s=i(2159),a=i(6254),o=i(4420),l=i(4823);r({target:"Promise",stat:!0,forced:i(3282)},{all:function(e){var t=this,i=a.f(t),r=i.resolve,c=i.reject,d=o((function(){var i=s(t.resolve),a=[],o=0,d=1;l(e,(function(e){var s=o++,l=!1;d++,n(i,t,e).then((function(e){l||(l=!0,a[s]=e,--d||r(a))}),c)})),--d||r(a)}));return d.error&&c(d.value),i.promise}})},6415:(e,t,i)=>{"use strict";var r=i(1091),n=i(3930),s=i(2159),a=i(5582),o=i(6254),l=i(4420),c=i(4823),d=i(3282),h="No one promise resolved";r({target:"Promise",stat:!0,forced:d},{any:function(e){var t=this,i=a("AggregateError"),r=o.f(t),d=r.resolve,p=r.reject,u=l((function(){var r=s(t.resolve),a=[],o=0,l=1,u=!1;c(e,(function(e){var s=o++,c=!1;l++,n(r,t,e).then((function(e){c||u||(u=!0,d(e))}),(function(e){c||u||(c=!0,a[s]=e,--l||p(new i(a,h)))}))})),--l||p(new i(a,h))}));return u.error&&p(u.value),r.promise}})},1866:(e,t,i)=>{"use strict";var r=i(1091),n=i(7376),s=i(1759).CONSTRUCTOR,a=i(5463),o=i(5582),l=i(2250),c=i(8055),d=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(e){return this.then(void 0,e)}}),!n&&l(a)){var h=o("Promise").prototype.catch;d.catch!==h&&c(d,"catch",h,{unsafe:!0})}},3825:(e,t,i)=>{"use strict";var r,n,s,a=i(1091),o=i(7376),l=i(7586),c=i(5951),d=i(3930),h=i(8055),p=i(9192),u=i(4840),m=i(7118),A=i(2159),g=i(2250),v=i(6285),f=i(9596),_=i(8450),y=i(9472).set,E=i(2292),C=i(3904),b=i(4420),T=i(9245),V=i(4932),k=i(5463),w=i(1759),P=i(6254),R="Promise",S=w.CONSTRUCTOR,I=w.REJECTION_EVENT,L=w.SUBCLASSING,x=V.getterFor(R),U=V.set,N=k&&k.prototype,O=k,D=N,F=c.TypeError,M=c.document,B=c.process,j=P.f,q=j,W=!!(M&&M.createEvent&&c.dispatchEvent),H="unhandledrejection",z=function(e){var t;return!(!v(e)||!g(t=e.then))&&t},G=function(e,t){var i,r,n,s=t.value,a=1===t.state,o=a?e.ok:e.fail,l=e.resolve,c=e.reject,h=e.domain;try{o?(a||(2===t.rejection&&Z(t),t.rejection=1),!0===o?i=s:(h&&h.enter(),i=o(s),h&&(h.exit(),n=!0)),i===e.promise?c(new F("Promise-chain cycle")):(r=z(i))?d(r,i,l,c):l(i)):c(s)}catch(e){h&&!n&&h.exit(),c(e)}},J=function(e,t){e.notified||(e.notified=!0,E((function(){for(var i,r=e.reactions;i=r.get();)G(i,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},Q=function(e,t,i){var r,n;W?((r=M.createEvent("Event")).promise=t,r.reason=i,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:i},!I&&(n=c["on"+e])?n(r):e===H&&C("Unhandled promise rejection",i)},Y=function(e){d(y,c,(function(){var t,i=e.facade,r=e.value;if(K(e)&&(t=b((function(){l?B.emit("unhandledRejection",r,i):Q(H,i,r)})),e.rejection=l||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},Z=function(e){d(y,c,(function(){var t=e.facade;l?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},X=function(e,t,i){return function(r){e(t,r,i)}},$=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,J(e,!0))},ee=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw new F("Promise can't be resolved itself");var r=z(t);r?E((function(){var i={done:!1};try{d(r,t,X(ee,i,e),X($,i,e))}catch(t){$(i,t,e)}})):(e.value=t,e.state=1,J(e,!1))}catch(t){$({done:!1},t,e)}}};if(S&&(D=(O=function(e){f(this,D),A(e),d(r,this);var t=x(this);try{e(X(ee,t),X($,t))}catch(e){$(t,e)}}).prototype,(r=function(e){U(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",(function(e,t){var i=x(this),r=j(_(this,O));return i.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=l?B.domain:void 0,0===i.state?i.reactions.add(r):E((function(){G(r,i)})),r.promise})),n=function(){var e=new r,t=x(e);this.promise=e,this.resolve=X(ee,t),this.reject=X($,t)},P.f=j=function(e){return e===O||undefined===e?new n(e):q(e)},!o&&g(k)&&N!==Object.prototype)){s=N.then,L||h(N,"then",(function(e,t){var i=this;return new O((function(e,t){d(s,i,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}p&&p(N,D)}a({global:!0,constructor:!0,wrap:!0,forced:S},{Promise:O}),u(O,R,!1,!0),m(R)},7714:(e,t,i)=>{"use strict";var r=i(1091),n=i(7376),s=i(5463),a=i(8828),o=i(5582),l=i(2250),c=i(8450),d=i(3569),h=i(8055),p=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,o("Promise")),i=l(e);return this.then(i?function(i){return d(t,e()).then((function(){return i}))}:e,i?function(i){return d(t,e()).then((function(){throw i}))}:e)}}),!n&&l(s)){var u=o("Promise").prototype.finally;p.finally!==u&&h(p,"finally",u,{unsafe:!0})}},5931:(e,t,i)=>{"use strict";i(3825),i(6630),i(1866),i(2736),i(7286),i(6761)},2736:(e,t,i)=>{"use strict";var r=i(1091),n=i(3930),s=i(2159),a=i(6254),o=i(4420),l=i(4823);r({target:"Promise",stat:!0,forced:i(3282)},{race:function(e){var t=this,i=a.f(t),r=i.reject,c=o((function(){var a=s(t.resolve);l(e,(function(e){n(a,t,e).then(i.resolve,r)}))}));return c.error&&r(c.value),i.promise}})},7286:(e,t,i)=>{"use strict";var r=i(1091),n=i(6254);r({target:"Promise",stat:!0,forced:i(1759).CONSTRUCTOR},{reject:function(e){var t=n.f(this);return(0,t.reject)(e),t.promise}})},6761:(e,t,i)=>{"use strict";var r=i(1091),n=i(5582),s=i(7376),a=i(5463),o=i(1759).CONSTRUCTOR,l=i(3569),c=n("Promise"),d=s&&!o;r({target:"Promise",stat:!0,forced:s||o},{resolve:function(e){return l(d&&this===c?a:this,e)}})},5823:(e,t,i)=>{"use strict";var r=i(1091),n=i(6254);r({target:"Promise",stat:!0},{withResolvers:function(){var e=n.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},9770:(e,t,i)=>{"use strict";var r=i(1091),n=i(1907),s=i(2074),a=i(4239),o=i(160),l=i(5735),c=n("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(o(a(this)),o(s(e)),arguments.length>1?arguments[1]:void 0)}})},7057:(e,t,i)=>{"use strict";var r=i(1470).charAt,n=i(160),s=i(4932),a=i(183),o=i(9550),l="String Iterator",c=s.set,d=s.getterFor(l);a(String,"String",(function(e){c(this,{type:l,string:n(e),index:0})}),(function(){var e,t=d(this),i=t.string,n=t.index;return n>=i.length?o(void 0,!0):(e=r(i,n),t.index+=e.length,o(e,!1))}))},3356:(e,t,i)=>{"use strict";var r=i(1091),n=i(1164).start;r({target:"String",proto:!0,forced:i(1156)},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},2395:(e,t,i)=>{"use strict";var r,n=i(1091),s=i(2361),a=i(3846).f,o=i(3121),l=i(160),c=i(2074),d=i(4239),h=i(5735),p=i(7376),u=s("".slice),m=Math.min,A=h("startsWith");n({target:"String",proto:!0,forced:!!(p||A||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!A},{startsWith:function(e){var t=l(d(this));c(e);var i=o(m(arguments.length>1?arguments[1]:void 0,t.length)),r=l(e);return u(t,i,i+r.length)===r}})},727:(e,t,i)=>{"use strict";var r=i(1091),n=i(5993).trim;r({target:"String",proto:!0,forced:i(5819)("trim")},{trim:function(){return n(this)}})},2560:(e,t,i)=>{"use strict";i(9363);var r=i(9287),n=i(5951),s=i(4840),a=i(3742);for(var o in r)s(n[o],o),a[o]=a.Array},1374:(e,t,i)=>{"use strict";var r=i(6535);e.exports=r},6343:(e,t,i)=>{"use strict";var r=i(6880);e.exports=r},1618:(e,t,i)=>{"use strict";i(2560);var r=i(3948),n=i(9724),s=i(8280),a=i(1374),o=Array.prototype,l={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===o||s(o,e)&&t===o.keys||n(l,r(e))?a:t}},3264:(e,t,i)=>{"use strict";var r=i(3629);e.exports=r},3266:(e,t,i)=>{"use strict";var r=i(8685);e.exports=r},9528:(e,t,i)=>{"use strict";var r=i(8823);e.exports=r},1086:(e,t,i)=>{"use strict";var r=i(2757);e.exports=r},2268:(e,t,i)=>{"use strict";var r=i(7961);e.exports=r},4598:(e,t,i)=>{"use strict";var r=i(3423);e.exports=r},975:(e,t,i)=>{"use strict";var r=i(7367);e.exports=r},6462:(e,t,i)=>{"use strict";var r=i(9929);e.exports=r},1921:(e,t,i)=>{"use strict";var r=i(4326);e.exports=r},5204:(e,t,i)=>{"use strict";var r=i(7027);i(2560),e.exports=r}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={id:r,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0;var r={};(()=>{"use strict";var e="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==i.g&&i.g||{},t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function A(e){var t=new FileReader,i=m(t);return t.readAsArrayBuffer(e),i}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var i;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&n&&((i=e)&&DataView.prototype.isPrototypeOf(i))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=u(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(n)return this.blob().then(A);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,i,r,n,s=u(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,i=m(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),n=r?r[1]:"utf-8",t.readAsText(e,n),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),r=0;r<t.length;r++)i[r]=String.fromCharCode(t[r]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=d(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=d(t)},p.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),h(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var f=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(t,i){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,s=(i=i||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,i.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=i.credentials||this.credentials||"same-origin",!i.headers&&this.headers||(this.headers=new p(i.headers)),this.method=(r=i.method||this.method||"GET",n=r.toUpperCase(),f.indexOf(n)>-1?n:r),this.mode=i.mode||this.mode||null,this.signal=i.signal||this.signal||function(){if("AbortController"in e)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==i.cache&&"no-cache"!==i.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(n))}})),t}function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},v.call(_.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var C=[301,302,303,307,308];E.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})};var b=e.DOMException;try{new b}catch(e){(b=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function T(t,i){return new Promise((function(r,s){var o=new _(t,i);if(o.signal&&o.signal.aborted)return s(new b("Aborted","AbortError"));var l=new XMLHttpRequest;function h(){l.abort()}if(l.onload=function(){var e,t,i={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var i=e.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();try{t.append(r,n)}catch(e){console.warn("Response "+e.message)}}})),t)};0===o.url.indexOf("file://")&&(l.status<200||l.status>599)?i.status=200:i.status=l.status,i.url="responseURL"in l?l.responseURL:i.headers.get("X-Request-URL");var n="response"in l?l.response:l.responseText;setTimeout((function(){r(new E(n,i))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){s(new b("Aborted","AbortError"))}),0)},l.open(o.method,function(t){try{return""===t&&e.location.href?e.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&(n?l.responseType="blob":a&&(l.responseType="arraybuffer")),i&&"object"==typeof i.headers&&!(i.headers instanceof p||e.Headers&&i.headers instanceof e.Headers)){var u=[];Object.getOwnPropertyNames(i.headers).forEach((function(e){u.push(c(e)),l.setRequestHeader(e,d(i.headers[e]))})),o.headers.forEach((function(e,t){-1===u.indexOf(t)&&l.setRequestHeader(t,e)}))}else o.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));o.signal&&(o.signal.addEventListener("abort",h),l.onreadystatechange=function(){4===l.readyState&&o.signal.removeEventListener("abort",h)}),l.send(void 0===o._bodyInit?null:o._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=p,e.Request=_,e.Response=E)})(),(()=>{"use strict";i.d(r,{default:()=>Et});var e=i(3266),t=i.n(e),n=i(5204),s=i.n(n),a=i(9528),o=i.n(a),l=i(6462),c=i.n(l);class d{static _getStyleAttributeData(e,t){let i=0;if(e&&"function"==typeof window.getComputedStyle){const r=window.getComputedStyle(e,null);r&&(i=r.getPropertyValue(t),i=i.toString().toLowerCase())}return i=i.toString(),i.indexOf("px")>-1&&(i=i.replace("px","")),c()(i)}static createSyntheticEvent(e,t){let i;if(t)try{i=new Event(e),t.dispatchEvent(i)}catch(e){console.warn(e)}}static setStyle(e,t){if(e&&"object"==typeof t){Object.keys(t).forEach((i=>{e.style[i]=t[i]}))}}static getWidth(e){return e?d.isNumber(e.offsetWidth)&&0!==e.offsetWidth?e.offsetWidth:d._getStyleAttributeData(e,"width"):0}static getHeight(e){return e?d.isNumber(e.offsetHeight)&&0!==e.offsetHeight?e.offsetHeight:d._getStyleAttributeData(e,"height"):0}static show(e){e&&(e.style.display="block")}static hide(e){e&&(e.style.display="none")}static removeElement(e){if(e&&e.parentNode)try{e.parentNode.removeChild(e)}catch(e){console.warn(e)}}static isNumber(e){return!("number"!=typeof e||!Number.isFinite(e))}static openWindow(e){try{window.open(e,"_blank")}catch(e){console.warn(e)}}static ajax(e,t,i){return new(s())(((r,n)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.timeout=t,i&&(s.withCredentials=!0),s.onloadend=()=>{"number"==typeof s.status&&s.status>=200&&s.status<300?r("XMLHttpRequest request succeeded"):n("XMLHttpRequest wrong status code: "+s.status)},s.ontimeout=()=>{n("XMLHttpRequest timeout")},s.send(null)}))}static addEvents(e,t,i){e&&e.length>1&&t&&"function"==typeof i&&e.forEach((e=>{t.addEventListener(e,i)}))}static removeEvents(e,t,i){e&&e.length>1&&t&&"function"==typeof i&&e.forEach((e=>{t.removeEventListener(e,i)}))}static clearTimeout(e){"number"==typeof e&&window.clearTimeout(e)}static clearInterval(e){"number"==typeof e&&window.clearInterval(e)}static stopPreventEvent(e){e&&(e.stopPropagation(),e.preventDefault())}static vastReadableTime(e){if(d.isNumber(e)&&e>=0){let t=0,i=0,r=0,n=Math.floor(e%1e3);return n=0===n?"000":n<10?"00"+n:n<100?"0"+n:n.toString(),t=Math.floor(1*e/1e3),t>59&&(i=Math.floor(1*t/60),t-=60*i),t=0===t?"00":t<10?"0"+t:t.toString(),i>59&&(r=Math.floor(1*i/60),i-=60*r),i=0===i?"00":i<10?"0"+i:i.toString(),r=0===r?"00":r<10?"0"+r:r>23?"00":r.toString(),r+":"+i+":"+t+"."+n}return"00:00:00.000"}static generateCacheBusting(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<8;i++)e+=t.charAt(Math.floor(62*Math.random()));return e}static makeButtonAccessible(e,t){e.tabIndex=0,e.setAttribute("role","button"),e.addEventListener("keyup",(t=>{const i=t.which;13!==i&&32!==i||(t.stopPropagation(),t.preventDefault(),d.createSyntheticEvent("click",e))})),t&&e.setAttribute("aria-label",t)}}var h=i(1921),p=i.n(h);class u{static _filterVersion(e){if(navigator.userAgent){const t=navigator.userAgent.match(e);if(Array.isArray(t)&&void 0!==t[1])return p()(t[1],10)}return-1}static get _testVideo(){return document.createElement("video")}static get _hasTouchEvents(){return!!(void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof window.DocumentTouch)}static get userAgent(){return navigator.userAgent?navigator.userAgent:null}static get devicePixelRatio(){let e=1;return d.isNumber(window.devicePixelRatio)&&window.devicePixelRatio>1&&(e=window.devicePixelRatio),e}static get maxTouchPoints(){return"number"==typeof navigator.maxTouchPoints?navigator.maxTouchPoints:-1}static get isIos(){const e=/os\s+(\d+)_/i;let t=[!1,-1];return/(ipad|iphone|ipod)/i.test(u.userAgent)&&u._hasTouchEvents&&(t=[!0,u._filterVersion(e)]),t}static get isIpadOS(){return!!(!u.isIos[0]&&u._hasTouchEvents&&/macintel/i.test(navigator.platform)&&u.devicePixelRatio>1&&u.maxTouchPoints>1)}static get isMacOS(){const e=/mac\s+os\s+x\s+(\d+)_(\d+)/i;let t=!1,i=-1;return u.isIos[0]||u.isIpadOS||!/(macintosh|mac\s+os)/i.test(u.userAgent)||(t=!0,i=u._filterVersion(e,!0)),[t,i]}static get isSafari(){const e=/version\/(\d+)\./i;let t=!1,i=-1;return/safari\/[.0-9]*/i.test(u.userAgent)&&!/(chrome|chromium|android|crios|fxios)/i.test(u.userAgent)&&(t=!0,i=u._filterVersion(e)),[t,i]}static get isMacOSSafari(){return u.isMacOS[0]&&u.isSafari[0]}static get isAndroid(){const e=/android\s*(\d+)\./i;let t=[!1,-1];return!u.isIos[0]&&u._hasTouchEvents&&/android/i.test(u.userAgent)&&(t=[!0,u._filterVersion(e)]),t}static get isMobile(){return!!(u.isIos[0]||u.isAndroid[0]||u.isIpadOS)}static get hasNativeFullscreenSupport(){const e=document.documentElement,t=u._testVideo;return!(!e||void 0===e.requestFullscreen&&void 0===e.webkitRequestFullscreen&&void 0===e.mozRequestFullScreen&&void 0===e.msRequestFullscreen&&void 0===t.webkitEnterFullscreen)}static checkCanPlayType(e,t){const i=u._testVideo;if("undefined"!==i.canPlayType)if(e&&t){if(""!==i.canPlayType(e+'; codecs="'+t+'"'))return!0}else if(e&&!t){if(""!==i.canPlayType(e))return!0}return!1}}class m{constructor(e){this._rmpVast=e,this._onFullscreenchangeFn=null}_onFullscreenchange(e){if(e&&e.type){this._rmpVast.debugRawConsoleLogs,e.type;const t=this._rmpVast.creative.isLinear,i=this._rmpVast.__adOnStage;"fullscreenchange"===e.type?this._rmpVast.isInFullscreen?(this._rmpVast.isInFullscreen=!1,i&&t&&this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(["adexitfullscreen","adplayercollapse"])):(this._rmpVast.isInFullscreen=!0,i&&t&&this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(["adfullscreen","adplayerexpand"])):"webkitbeginfullscreen"===e.type?(i&&t&&this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(["adfullscreen","adplayerexpand"]),this._rmpVast.isInFullscreen=!0):"webkitendfullscreen"===e.type&&(i&&t&&this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(["adexitfullscreen","adplayercollapse"]),this._rmpVast.isInFullscreen=!1)}}_updateVastError(e){const t=[201,204,205,400,401,402,403,501,502,503,603,901,1002],i=[303,900,1001],r=[{code:201,description:"Video player expecting different linearity."},{code:204,description:"Ad category was required but not provided."},{code:205,description:"Inline Category violates Wrapper BlockedAdCategories."},{code:303,description:"No VAST response after one or more Wrappers."},{code:400,description:"General Linear error. Video player is unable to display the Linear Ad."},{code:401,description:"File not found. Unable to find Linear/MediaFile from URI."},{code:402,description:"Timeout of MediaFile URI."},{code:403,description:"Couldn't find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},{code:501,description:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},{code:502,description:"Unable to fetch NonLinearAds/NonLinear resource."},{code:503,description:"Couldn't find NonLinear resource with supported type."},{code:603,description:"Unable to fetch CompanionAds/Companion resource."},{code:900,description:"Undefined Error."},{code:901,description:"General VPAID error."},{code:1001,description:"Invalid input for loadAds method"},{code:1002,description:"Required DOMParser API is not available"},{code:1100,description:"SIMID error: UNSPECIFIED_CREATIVE_ERROR"},{code:1101,description:"SIMID error: CANNOT_LOAD_RESOURCE"},{code:1102,description:"SIMID error: PLAYBACK_AREA_UNUSABLE"},{code:1103,description:"SIMID error: INCORRECT_VERSION"},{code:1104,description:"SIMID error: TECHNICAL_ERROR"},{code:1105,description:"SIMID error: EXPAND_NOT_POSSIBLE"},{code:1106,description:"SIMID error: PAUSE_NOT_HONORED"},{code:1107,description:"SIMID error: PLAYMODE_NOT_ADEQUATE"},{code:1108,description:"SIMID error: CREATIVE_INTERNAL_ERROR"},{code:1109,description:"SIMID error: DEVICE_NOT_SUPPORTED"},{code:1110,description:"SIMID error: MESSAGES_NOT_FOLLOWING_SPEC"},{code:1111,description:"SIMID error: PLAYER_RESPONSE_TIMEOUT"},{code:1200,description:"SIMID error: UNSPECIFIED_PLAYER_ERROR"},{code:1201,description:"SIMID error: WRONG_VERSION"},{code:1202,description:"SIMID error: UNSUPPORTED_TIME"},{code:1203,description:"SIMID error: UNSUPPORTED_FUNCTIONALITY_REQUEST"},{code:1204,description:"SIMID error: UNSUPPORTED_ACTIONS"},{code:1205,description:"SIMID error: POSTMESSAGE_CHANNEL_OVERLOADED"},{code:1206,description:"SIMID error: VIDEO_COULD_NOT_LOAD"},{code:1207,description:"SIMID error: VIDEO_TIME_OUT"},{code:1208,description:"SIMID error: RESPONSE_TIMEOUT"},{code:1209,description:"SIMID error: MEDIA_NOT_SUPPORTED"},{code:1210,description:"SIMID error: SPEC_NOT_FOLLOWED_ON_INIT"},{code:1211,description:"SIMID error: SPEC_NOT_FOLLOWED_ON_MESSAGES"}].filter((t=>t.code===e));r.length>0?(this._rmpVast.__vastErrorCode=r[0].code,this._rmpVast.__adErrorMessage=r[0].description):(this._rmpVast.__vastErrorCode=-1,this._rmpVast.__adErrorMessage="Error getting VAST error"),this._rmpVast.__vastErrorCode>-1&&(i.indexOf(this._rmpVast.__vastErrorCode)>-1?this._rmpVast.__adErrorType="adLoadError":t.indexOf(this._rmpVast.__vastErrorCode)>-1&&(this._rmpVast.__adErrorType="adPlayError")),this._rmpVast.debugRawConsoleLogs,this._rmpVast.__vastErrorCode,this._rmpVast.__adErrorMessage,this._rmpVast.debugRawConsoleLogs,this._rmpVast.__adErrorType}filterParams(e){const t={ajaxTimeout:8e3,creativeLoadTimeout:8e3,ajaxWithCredentials:!1,maxNumRedirects:4,labels:{skipMessage:"Skip ad",closeAd:"Close ad",textForInteractionUIOnMobile:"Learn more"},outstream:!1,showControlsForAdPlayer:!1,vastXmlInput:!1,enableVpaid:!0,enableSimid:!0,vpaidSettings:{width:640,height:360,viewMode:"normal",desiredBitrate:500},useHlsJS:!0,debugHlsJS:!1,debugRawConsoleLogs:!1,omidSupport:!1,omidAllowedVendors:[],omidUnderEvaluation:!1,omidRunValidationScript:!1,omidAutoplay:!1,macros:new Map,partnerName:"rmp-vast",partnerVersion:"16.0.0"};if(this._rmpVast.params=t,e&&"object"==typeof e){Object.keys(e).forEach((t=>{typeof e[t]==typeof this._rmpVast.params[t]&&(d.isNumber(e[t])&&e[t]>0||"number"!=typeof e[t])&&("vpaidSettings"===t?(d.isNumber(e.vpaidSettings.width)&&e.vpaidSettings.width>0&&(this._rmpVast.params.vpaidSettings.width=e.vpaidSettings.width),d.isNumber(e.vpaidSettings.height)&&e.vpaidSettings.height>0&&(this._rmpVast.params.vpaidSettings.height=e.vpaidSettings.height),"string"==typeof e.vpaidSettings.viewMode&&"fullscreen"===e.vpaidSettings.viewMode&&(this._rmpVast.params.vpaidSettings.viewMode=e.vpaidSettings.viewMode),d.isNumber(e.vpaidSettings.desiredBitrate)&&e.vpaidSettings.desiredBitrate>0&&(this._rmpVast.params.vpaidSettings.desiredBitrate=e.vpaidSettings.desiredBitrate)):this._rmpVast.params[t]=e[t])}))}}createApiEvent(e){Array.isArray(e)?e.forEach((e=>{e&&(this._rmpVast.debugRawConsoleLogs,this._rmpVast.dispatch(e))})):e&&(this._rmpVast.debugRawConsoleLogs,this._rmpVast.dispatch(e))}playPromise(e,t){let i;switch(e){case"content":i=this._rmpVast.currentContentPlayer;break;case"vast":i=this._rmpVast.currentAdPlayer}if(i){const r=i.play();if(void 0!==r){const i=this._rmpVast.creative.isLinear;r.then((()=>{this._rmpVast.debugRawConsoleLogs,t&&this.createApiEvent("adinitialplayrequestsucceeded")})).catch((r=>{console.warn(r),t&&"vast"===e&&i?(this._rmpVast.debugRawConsoleLogs,this.processVastErrors(400,!0),this.createApiEvent("adinitialplayrequestfailed")):t&&"content"===e&&!i?(this._rmpVast.debugRawConsoleLogs,this.createApiEvent("adinitialplayrequestfailed")):this._rmpVast.debugRawConsoleLogs}))}}}destroyFullscreen(){this._rmpVast.currentContentPlayer?(this._rmpVast.currentContentPlayer.removeEventListener("webkitbeginfullscreen",this._onFullscreenchangeFn),this._rmpVast.currentContentPlayer.removeEventListener("webkitendfullscreen",this._onFullscreenchangeFn)):document.removeEventListener("fullscreenchange",this._onFullscreenchangeFn)}handleFullscreen(){u.hasNativeFullscreenSupport&&(this._onFullscreenchangeFn=this._onFullscreenchange.bind(this),u.isIos[0]?this._rmpVast.currentContentPlayer&&(this._rmpVast.currentContentPlayer.addEventListener("webkitbeginfullscreen",this._onFullscreenchangeFn),this._rmpVast.currentContentPlayer.addEventListener("webkitendfullscreen",this._onFullscreenchangeFn)):document.addEventListener("fullscreenchange",this._onFullscreenchangeFn))}processVastErrors(e,t){t&&this._rmpVast.rmpVastTracking.error(e),this._updateVastError(e),this.createApiEvent("aderror"),this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.resumeContent()}}class A{constructor(e){this._rmpVast=e,this._debugRawConsoleLogs=e.debugRawConsoleLogs,this.reset(),this._createTrackingApiEventMap()}_createTrackingApiEventMap(){this._trackingApiEventMap=new Map,this._trackingApiEventMap.set("adviewable","viewable"),this._trackingApiEventMap.set("adviewundetermined","viewundetermined"),this._trackingApiEventMap.set("advolumemuted","mute"),this._trackingApiEventMap.set("advolumeunmuted","unmute"),this._trackingApiEventMap.set("adpaused","pause"),this._trackingApiEventMap.set("adresumed","resume"),this._trackingApiEventMap.set("adskipped","skip"),this._trackingApiEventMap.set("adplayerexpand","playerExpand"),this._trackingApiEventMap.set("adplayercollapse","playerCollapse"),this._trackingApiEventMap.set("adfullscreen","fullscreen"),this._trackingApiEventMap.set("adexitfullscreen","exitFullscreen"),this._trackingApiEventMap.set("adloaded","loaded"),this._trackingApiEventMap.set("adstarted","start"),this._trackingApiEventMap.set("adfirstquartile","firstQuartile"),this._trackingApiEventMap.set("admidpoint","midpoint"),this._trackingApiEventMap.set("adthirdquartile","thirdQuartile"),this._trackingApiEventMap.set("adcomplete","complete"),this._trackingApiEventMap.set("adimpression","impression"),this._trackingApiEventMap.set("adcreativeview","creativeView"),this._trackingApiEventMap.set("adcollapse","adCollapse"),this._trackingApiEventMap.set("aduseracceptinvitation","acceptInvitation"),this._trackingApiEventMap.set("adclosed","close"),this._trackingApiEventMap.set("adclick","clickthrough")}_dispatch(e){this._debugRawConsoleLogs;const t=this._rmpVast.trackingTags.filter((t=>e===t.event));t.length>0&&t.forEach((e=>{this.pingURI(e.url)}))}_ping(e){if(/\.js$/i.test(e)){const t=document.createElement("script");t.src=e;try{document.head.appendChild(t)}catch(e){console.warn(e),document.body.appendChild(t)}}else d.ajax(e,this._rmpVast.params.ajaxTimeout,!1,"GET").then((()=>{this._debugRawConsoleLogs})).catch((e=>{console.warn(e)}))}_onVolumeChange(){if(this._rmpVast.currentAdPlayer){const e=this._rmpVast.currentAdPlayer.muted,t=this._rmpVast.currentAdPlayer.volume;e||0===t?this.dispatchTrackingAndApiEvent("advolumemuted"):!e&&t>0&&this.dispatchTrackingAndApiEvent("advolumeunmuted"),this._rmpVast.rmpVastUtils.createApiEvent("advolumechanged")}}_onTimeupdate(){let e=-1,t=-1;if(this._rmpVast.rmpVastAdPlayer&&(t=this._rmpVast.rmpVastAdPlayer.currentTime,e=this._rmpVast.rmpVastAdPlayer.duration),t>0&&(e>0&&e>t&&(t>=.25*e&&!this._firstQuartileEventFired?(this._firstQuartileEventFired=!0,this.dispatchTrackingAndApiEvent("adfirstquartile")):t>=.5*e&&!this._midpointEventFired?(this._midpointEventFired=!0,this.dispatchTrackingAndApiEvent("admidpoint")):t>=.75*e&&!this._thirdQuartileEventFired&&(this._thirdQuartileEventFired=!0,this.dispatchTrackingAndApiEvent("adthirdquartile"))),this._rmpVast.progressEvents.length>0&&t>this._rmpVast.progressEvents[0].time)){this._rmpVast.progressEvents.filter((e=>e.time===this._rmpVast.progressEvents[0].time)).forEach((e=>{e.url&&this.pingURI(e.url)})),this._rmpVast.progressEvents.shift(),this._rmpVast.rmpVastUtils.createApiEvent("adprogress")}}_onPause(){if(this._rmpVast.currentAdPlayer&&this._rmpVast.currentAdPlayer.paused){if(this._rmpVast.currentAdPlayer.currentTime===this._rmpVast.currentAdPlayer.duration)return;this.dispatchTrackingAndApiEvent("adpaused")}}_onPlay(){this._rmpVast.currentAdPlayer&&!this._rmpVast.currentAdPlayer.paused&&this.dispatchTrackingAndApiEvent("adresumed")}_onPlaying(){this.dispatchTrackingAndApiEvent(["adimpression","adcreativeview","adstarted"])}_onEnded(){this.dispatchTrackingAndApiEvent("adcomplete"),this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.resumeContent()}_dispatchTracking(e){Array.isArray(e)?e.forEach((e=>{this._dispatch(e)})):this._dispatch(e)}replaceMacros(e,t){if(!/\[.+?\]/i.test(e))return e;let i=e;if(this._rmpVast.params.macros.size>0)for(let[e,t]of this._rmpVast.params.macros){const r=new RegExp("\\["+e+"\\]","gi");r.test(i)&&(i=i.replace(r,t.toString()))}const r=/\[CLICKPOS\]/gi;r.test(i)&&(i=i.replace(r,"-2"));const n=/\[ADCOUNT\]/gi;if(n.test(i)){let e=1;this._rmpVast.adPodLength>0&&(e=this._rmpVast.adSequence),i=i.replace(n,e.toString())}/\[SERVERSIDE\]/gi.test(i)&&(i=i.replace(n,"0"));const s=/\[TIMESTAMP\]/gi,a=(new Date).toISOString();s.test(i)&&(i=i.replace(s,encodeURIComponent(a)));const o=/\[CACHEBUSTING\]/gi;o.test(i)&&(i=i.replace(o,d.generateCacheBusting()));const l=/\[(CONTENTPLAYHEAD|MEDIAPLAYHEAD)\]/gi;let c=this._rmpVast.rmpVastContentPlayer.currentTime;l.test(i)&&c>-1&&(i=i.replace(l,encodeURIComponent(d.vastReadableTime(c))));const h=/\[BREAKPOSITION\]/gi;let m=-1;this._rmpVast.rmpVastAdPlayer&&(m=this._rmpVast.rmpVastAdPlayer.duration),h.test(i)&&(i=0===c?i.replace(h,"1"):c>0&&c<m?i.replace(h,"2"):i.replace(h,"3"));const A=/\[ADTYPE\]/gi;A.test(i)&&this._rmpVast.ad.adType&&(i=i.replace(A,encodeURIComponent(this._rmpVast.ad.adType)));const g=/\[DEVICEUA\]/gi;g.test(i)&&u.userAgent&&(i=i.replace(g,encodeURIComponent(u.userAgent)));const v=/\[SERVERSIDE\]/gi;v.test(i)&&u.userAgent&&(i=i.replace(v,"0"));const f=/\[DOMAIN\]/gi;f.test(i)&&window.location.hostname&&(i=i.replace(f,encodeURIComponent(window.location.hostname)));const _=/\[PAGEURL\]/gi;_.test(i)&&window.location.href&&(i=i.replace(_,encodeURIComponent(window.location.href)));const y=/\[PLAYERCAPABILITIES\]/gi;y.test(i)&&(i=i.replace(y,"skip,mute,autoplay,mautoplay,fullscreen,icon"));const E=/\[CLICKTYPE\]/gi;if(E.test(i)){let e="1";u.isMobile&&(e="2"),i=i.replace(E,e)}const C=/\[PLAYERSIZE\]/gi;if(C.test(i)){const e=p()(d.getWidth(this._rmpVast.container)),t=p()(d.getHeight(this._rmpVast.container));i=i.replace(C,encodeURIComponent(e.toString()+","+t.toString()))}if(t){const e=/\[ADPLAYHEAD\]/gi;let t=-1;this._rmpVast.rmpVastAdPlayer&&(t=this._rmpVast.rmpVastAdPlayer.currentTime),e.test(i)&&t>-1&&(i=i.replace(e,encodeURIComponent(d.vastReadableTime(t))));const r=/\[UNIVERSALADID\]/gi;if(r.test(i)&&this._rmpVast.creative.universalAdIds.length>0){let e="";this._rmpVast.creative.universalAdIds.forEach(((t,i)=>{0===i&&i===this._rmpVast.creative.universalAdIds.length-1||(e+=","),e+=t.idRegistry+" "+t.value})),i=i.replace(r,encodeURIComponent(e))}const n=/\[ASSETURI\]/gi,s=this._rmpVast.adMediaUrl;n.test(i)&&"string"==typeof s&&""!==s&&(i=i.replace(n,encodeURIComponent(s)));const a=/\[PODSEQUENCE\]/gi;a.test(i)&&this._rmpVast.ad.sequence&&(i=i.replace(a,encodeURIComponent(this._rmpVast.ad.sequence.toString())));const o=/\[ADSERVINGID\]/gi;o.test(i)&&this._rmpVast.ad.adServingId&&(i=i.replace(o,encodeURIComponent(this._rmpVast.ad.adServingId)))}else{const e=/\[ADCATEGORIES\]/gi;if(e.test(i)&&this._rmpVast.ad.categories.length>0){const t=this._rmpVast.ad.categories.map((e=>e.value)).join(",");i=i.replace(e,encodeURIComponent(t))}const t=/\[BLOCKEDADCATEGORIES\]/gi;if(t.test(i)&&this._rmpVast.ad.blockedAdCategories.length>0){const e=this._rmpVast.ad.blockedAdCategories.map((e=>e.value)).join(",");i=i.replace(t,encodeURIComponent(e))}const r=/\[VASTVERSIONS\]/gi;r.test(i)&&(i=i.replace(r,"2,3,5,6,7,8,11,12,13,14"));const n=/\[APIFRAMEWORKS\]/gi;n.test(i)&&(i=i.replace(n,"2,7,8,9"));const s=/\[MEDIAMIME\]/gi,a=["video/webm","video/mp4","video/ogg","video/3gpp","application/vnd.apple.mpegurl","application/dash+xml"];if(s.test(i)){let e="";a.forEach((t=>{"application/vnd.apple.mpegurl"===t?(u.checkCanPlayType(t)||this._rmpVast.rmpVastLinearCreative.readingHlsJS)&&(e+=t+","):u.checkCanPlayType(t)&&(e+=t+",")})),e&&(e=e.slice(0,-1),i=i.replace(s,encodeURIComponent(e)))}const o=/\[PLAYERSTATE\]/gi;if(o.test(i)){let e="";this._rmpVast.rmpVastContentPlayer.muted&&(e+="muted"),this._rmpVast.isInFullscreen&&(e&&(e+=","),e+="fullscreen"),i=i.replace(o,e)}}const b=/\[LIMITADTRACKING\]/gi,T=this._rmpVast.regulationsInfo;b.test(i)&&T.limitAdTracking&&(i=i.replace(b,encodeURIComponent(T.limitAdTracking)));const V=/\[REGULATIONS\]/gi;V.test(i)&&T.regulations&&(i=i.replace(V,encodeURIComponent(T.regulations)));const k=/\[GDPRCONSENT\]/gi;return k.test(i)&&T.gdprConsent&&(i=i.replace(k,encodeURIComponent(T.gdprConsent))),i}pingURI(e){const t=this.replaceMacros(e,!0);this._ping(t)}error(e){let t=this._rmpVast.adErrorTags;303===e&&this._rmpVast.vastErrorTags.length>0&&(t=[...t,...this._rmpVast.vastErrorTags]),t.length>0&&t.forEach((t=>{if(t.url){let i=t.url;const r=/\[ERRORCODE\]/gi;r.test(i)&&d.isNumber(e)&&e>0&&e<1e3&&(i=i.replace(r,e)),this._ping(i)}}))}reset(){this._onPauseFn=null,this._onPlayFn=null,this._onPlayingFn=null,this._onEndedFn=null,this._onVolumeChangeFn=null,this._onTimeupdateFn=null,this._firstQuartileEventFired=!1,this._midpointEventFired=!1,this._thirdQuartileEventFired=!1}dispatchTrackingAndApiEvent(e){Array.isArray(e)?e.forEach((e=>{this._rmpVast.rmpVastUtils.createApiEvent(e),this._dispatchTracking(this._trackingApiEventMap.get(e))})):(this._rmpVast.rmpVastUtils.createApiEvent(e),this._dispatchTracking(this._trackingApiEventMap.get(e)))}destroy(){this._rmpVast.currentAdPlayer&&(this._rmpVast.currentAdPlayer.removeEventListener("pause",this._onPauseFn),this._rmpVast.currentAdPlayer.removeEventListener("play",this._onPlayFn),this._rmpVast.currentAdPlayer.removeEventListener("playing",this._onPlayingFn),this._rmpVast.currentAdPlayer.removeEventListener("ended",this._onEndedFn),this._rmpVast.currentAdPlayer.removeEventListener("volumechange",this._onVolumeChangeFn),this._rmpVast.currentAdPlayer.removeEventListener("timeupdate",this._onTimeupdateFn))}wire(){this._rmpVast.currentAdPlayer&&this._rmpVast.creative.isLinear&&!this._rmpVast.rmpVastVpaidPlayer&&(this._onPauseFn=this._onPause.bind(this),this._rmpVast.currentAdPlayer.addEventListener("pause",this._onPauseFn),this._onPlayFn=this._onPlay.bind(this),this._rmpVast.currentAdPlayer.addEventListener("play",this._onPlayFn),this._onPlayingFn=this._onPlaying.bind(this),this._rmpVast.currentAdPlayer.addEventListener("playing",this._onPlayingFn,{once:!0}),this._onEndedFn=this._onEnded.bind(this),this._rmpVast.currentAdPlayer.addEventListener("ended",this._onEndedFn,{once:!0}),this._onVolumeChangeFn=this._onVolumeChange.bind(this),this._rmpVast.currentAdPlayer.addEventListener("volumechange",this._onVolumeChangeFn),this._onTimeupdateFn=this._onTimeupdate.bind(this),this._rmpVast.currentAdPlayer.addEventListener("timeupdate",this._onTimeupdateFn))}}var g=i(1086),v=i.n(g);class f{constructor(e){this._rmpVast=e,this._adContainer=e.adContainer,this._adPlayer=e.currentAdPlayer,this._debugRawConsoleLogs=e.debugRawConsoleLogs,this._onPlayingAppendIconsFn=null,this._iconsData=[]}get iconsData(){return this._iconsData}_onIconClickThrough(e,t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),d.openWindow(this._iconsData[e].iconClickThroughUrl);const i=this._iconsData[e].iconClickTrackingUrls;i.length>0&&i.forEach((e=>{e.url&&this._rmpVast.rmpVastTracking.pingURI(e.url)})),this._rmpVast.rmpVastUtils.createApiEvent("adiconclick")}_onIconLoadPingTracking(e){this._debugRawConsoleLogs,this._rmpVast.rmpVastTracking.pingURI(this._iconsData[e].iconViewTrackingUrl)}_onPlayingAppendIcons(){this._debugRawConsoleLogs,this._iconsData.forEach(((e,t)=>{let i,r;e.staticResourceUrl?(i=document.createElement("img"),r=e.staticResourceUrl):(e.iframeResourceUrl||e.htmlContent)&&(i=document.createElement("iframe"),i.sandbox="allow-scripts allow-same-origin",r=e.htmlContent?e.htmlContent:e.iframeResourceUrl,d.setStyle(i,{border:"none",overflow:"hidden"}),i.setAttribute("scrolling","no"),i.setAttribute("allow","autoplay; fullscreen; picture-in-picture; encrypted-media"),i.setAttribute("sandbox","allow-scripts allow-presentation allow-same-origin")),i.className="rmp-ad-container-icons",d.setStyle(i,{width:p()(e.width)+"px",height:p()(e.height)+"px"});const n=e.xPosition;"left"===n?i.style.left="0px":"right"===n?i.style.right="0px":p()(n)>=0?i.style.left=n+"px":i.style.left="0px";const s=e.yPosition;if("top"===s?i.style.top="0px":"bottom"===n?i.style.bottom="0px":p()(s)>=0?i.style.top=s+"px":i.style.top="0px",e.iconViewTrackingUrl&&(i.onload=this._onIconLoadPingTracking.bind(this,t)),e.iconClickThroughUrl){const e=this._onIconClickThrough.bind(this,t);d.addEvents(["touchend","click"],i,e)}e.htmlContent?i.srcdoc=r:i.src=r,this._debugRawConsoleLogs,this._adContainer.appendChild(i)}))}destroy(){this._debugRawConsoleLogs;const e=this._adContainer.querySelectorAll(".rmp-ad-container-icons");e.length>0&&e.forEach((e=>{d.removeElement(e)})),this._adPlayer&&this._adPlayer.removeEventListener("playing",this._onPlayingAppendIconsFn)}parse(e){this._debugRawConsoleLogs;for(let r=0;r<e.length;r++){var i;const n=e[r],s=n.program;if(null===s)continue;const a=n.width,o=n.height,l=n.xPosition,c=n.yPosition;if(a<=0||o<=0||l<0||c<0)continue;const d=n.staticResource,h=n.iframeResource,p=n.htmlResource;if(null===d&&null===h&&null===p)continue;const u={program:s,width:a,height:o,xPosition:l,yPosition:c,staticResourceUrl:d,iframeResourceUrl:h,htmlContent:p};u.iconViewTrackingUrl=n.iconViewTrackingURLTemplate,u.iconClickThroughUrl=n.iconClickThroughURLTemplate,u.iconClickTrackingUrls=n.iconClickTrackingURLTemplates,t()(i=this._iconsData).call(i,u)}this._debugRawConsoleLogs,this._iconsData}append(){this._onPlayingAppendIconsFn=this._onPlayingAppendIcons.bind(this),this._adPlayer.addEventListener("playing",this._onPlayingAppendIconsFn,{once:!0})}}class _{constructor(){}_getConnectionType(){if("string"==typeof navigator.connection.type&&""!==navigator.connection.type)switch(navigator.connection.type){case"ethernet":return"ethernet";case"wifi":case"wimax":case"mixed":case"other":return"wifi";case"bluetooth":case"cellular":return"cellular";case"none":return"none"}return"unknown"}_getBandwidthEstimate(){if("number"==typeof navigator.connection.downlink&&navigator.connection.downlink>0)return navigator.connection.downlink;if("string"==typeof navigator.connection.effectiveType&&""!==navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"slow-2g":return.025;case"2g":return.035;case"3g":return.35;case"4g":return 1.4;case"5g":return 5}else if("string"==typeof navigator.connection.type&&""!==navigator.connection.type)switch(navigator.connection.type){case"ethernet":case"wifi":case"wimax":case"mixed":case"other":return 1.4;case"bluetooth":case"cellular":return.35;case"none":return-1}return.35}get bandwidthData(){const e={estimate:-1,connectionType:"none"};return void 0===navigator.onLine||navigator.onLine?void 0===navigator.connection?{estimate:-1,connectionType:"unknown"}:{estimate:this._getBandwidthEstimate(),connectionType:this._getConnectionType()}:e}}var y=i(6343),E=i.n(y),C=i(2268),b=i.n(C),T=i(1618),V=i.n(T);const k={CREATE_SESSION:"createSession",RESOLVE:"resolve",REJECT:"reject"},w="Media:durationchange",P="Media:ended",R="Media:error",S="Media:pause",I="Media:play",L="Media:playing",x="Media:seeked",U="Media:seeking",N="Media:timeupdate",O="Media:volumechange",D="Player:init",F="Player:log",M="Player:startCreative",B="Player:adSkipped",j="Player:adStopped",q={CLICK_THRU:"Creative:clickThru",EXPAND_NONLINEAR:"Creative:expandNonlinear",COLLAPSE_NONLINEAR:"Creative:collapseNonlinear",FATAL_ERROR:"Creative:fatalError",GET_MEDIA_STATE:"Creative:getMediaState",LOG:"Creative:log",REQUEST_FULL_SCREEN:"Creative:requestFullScreen",REQUEST_SKIP:"Creative:requestSkip",REQUEST_STOP:"Creative:requestStop",REQUEST_PAUSE:"Creative:requestPause",REQUEST_PLAY:"Creative:requestPlay",REQUEST_RESIZE:"Creative:requestResize",REQUEST_VOLUME:"Creative:requestVolume",REQUEST_TRACKING:"Creative:reportTracking",REQUEST_CHANGE_AD_DURATION:"Creative:requestChangeAdDuration"},W=[q.GET_MEDIA_STATE,q.REQUEST_VIDEO_LOCATION,q.READY,q.CLICK_THRU,q.REQUEST_SKIP,q.REQUEST_STOP,q.REQUEST_PAUSE,q.REQUEST_PLAY,q.REQUEST_FULL_SCREEN,q.REQUEST_VOLUME,q.REQUEST_RESIZE,q.REQUEST_CHANGE_AD_DURATION,q.REPORT_TRACKING,D,M,B,j,"Player:fatalError",k.CREATE_SESSION],H=1102,z=1105,G=1202,J=1206,Q={UNSPECIFIED:0,USER_INITIATED:1,MEDIA_PLAYBACK_COMPLETE:2,PLAYER_INITATED:3,CREATIVE_INITIATED:4,NON_LINEAR_DURATION_COMPLETE:5};class Y{constructor(){this.listeners_={},this.sessionId_="",this.nextMessageId_=1,this.target_=window.parent,this.resolutionListeners_={},window.addEventListener("message",this.receiveMessage.bind(this),!1)}reset(){this.listeners_={},this.sessionId_="",this.nextMessageId_=1,this.resolutionListeners_={}}sendMessage(e,t){const i=this.nextMessageId_++,r=e===k.CREATE_SESSION?e:"SIMID:"+e,n={sessionId:this.sessionId_,messageId:i,type:r,timestamp:Date.now(),args:t};return E()(W).call(W,e)?new(s())(((e,t)=>{this.addResolveRejectListener_(i,e,t),this.target_.postMessage(JSON.stringify(n),"*")})):new(s())((e=>{this.target_.postMessage(JSON.stringify(n),"*"),e()}))}addListener(e,i){var r;this.listeners_[e]?t()(r=this.listeners_[e]).call(r,i):this.listeners_[e]=[i]}addResolveRejectListener_(e,t,i){this.resolutionListeners_[e]=(e=>{const r=e.type,n=e.args.value;"resolve"===r?t(n):"reject"===r&&i(n)}).bind(this)}receiveMessage(e){var t;if(!e||!e.data)return;let i;try{i=JSON.parse(e.data)}catch(e){return void console.warn(e)}if(!i)return;const r=i.sessionId,n=i.type,s=""===this.sessionId_&&n===k.CREATE_SESSION,a=this.sessionId_===r;if((s||a)&&null!==n)if(E()(t=Object.values(k)).call(t,n))this.handleProtocolMessage_(i);else if(b()(n).call(n,"SIMID:")){const e=n.substr(6),t=this.listeners_[e];t&&t.forEach((e=>e(i)))}}handleProtocolMessage_(e){const t=e.type;let i,r,n,s;switch(t){case k.CREATE_SESSION:this.sessionId_=e.sessionId,this.resolve(e),i=this.listeners_[t],i&&i.forEach((t=>t(e)));break;case k.RESOLVE:case k.REJECT:r=e.args,n=r.messageId,s=this.resolutionListeners_[n],s&&(s(e),delete this.resolutionListeners_[n])}}resolve(e,t){const i=this.nextMessageId_++,r={messageId:e.messageId,value:t},n={sessionId:this.sessionId_,messageId:i,type:k.RESOLVE,timestamp:Date.now(),args:r};this.target_.postMessage(JSON.stringify(n),"*")}reject(e,t){const i=this.nextMessageId_++,r={messageId:e.messageId,value:t},n={sessionId:this.sessionId_,messageId:i,type:k.REJECT,timestamp:Date.now(),args:r};this.target_.postMessage(JSON.stringify(n),"*")}createSession(){this.generateSessionId_(),this.sendMessage(k.CREATE_SESSION).then((()=>{}),(()=>{}))}generateSessionId_(){var e;const t=new Uint8Array(16);window.crypto.getRandomValues(t);const i=Array.from(V()(e=Array(32)).call(e)).map((e=>{const i=e%2==0,r=t[Math.floor(e/2)];return i?r>>4:15&r}));i[12]=4,i[16]=8|3&i[16];const r=i.map((e=>e.toString(16))),n=[r.slice(0,8).join(""),r.slice(8,12).join(""),r.slice(12,16).join(""),r.slice(16,20).join(""),r.slice(20).join("")].join("-");this.sessionId_=n}setMessageTarget(e){this.target_=e}}class K{constructor(e,t){this.simidProtocol=new Y,this.addListeners_(),this.rmpVast_=t,this._debugRawConsoleLogs=t.debugRawConsoleLogs,this.simidData_=t.creative.simid,this.adContainer_=t.adContainer,this.playerDiv_=t.contentWrapper,this.adPlayerUrl_=e,this.adParameters_=t.creative.simid.adParameters,this.adId_=t.creative.adId,this.creativeId_=t.creative.id,this.adServingId_=t.ad.adServingId,this.clickThroughUrl_=t.creative.clickThroughUrl,this.contentVideoElement_=t.currentContentPlayer,this.adVideoElement_=t.currentAdPlayer,this.simidIframe_=null,this.initializationPromise_=null,this.adVideoTrackingEvents_=new Map,this.contentVideoTrackingEvents_=new Map,this.isLinearAd_=t.creative.isLinear,this.nonLinearStartTime_=null,this.requestedDuration_=0,this.resolveSessionCreatedPromise_=null,this.sessionCreatedPromise_=new(s())((e=>{this.resolveSessionCreatedPromise_=e})),this.resolveInitializationPromise_=null,this.rejectInitializationPromise_=null,this.nonLinearDimensions_=null,this.durationInterval_=null,this.initializationPromise_=new(s())(((e,t)=>{this.resolveInitializationPromise_=e,this.rejectInitializationPromise_=t})),this.trackEventsOnAdVideoElement_(),this.trackEventsOnContentVideoElement_(),this.hideAdPlayer_(),this._debugRawConsoleLogs}initializeAd(){this.isLinearAd_||this.isValidDimensions_(this.getNonlinearDimensions_())?(this.simidIframe_=this.createSimidIframe_(),this.isLinearAd_||this.displayNonlinearCreative_(),this.requestDuration_=0,this.initializationPromise_.catch((e=>{this.onAdInitializedFailed_(e)})),this.sessionCreatedPromise_.then((()=>{this.sendInitMessage_()})),this._debugRawConsoleLogs):this._debugRawConsoleLogs}playAd(){this.initializationPromise_.then((()=>{this.startCreativePlayback_()})).catch((e=>{console.warn(e)}))}playAdVideo(){this.adVideoElement_.play()}createSimidIframe_(){const e=document.createElement("iframe");return e.style.display="none",this.playerDiv_.appendChild(e),this.isLinearAd_&&e.classList.add("rmp-linear-simid-creative"),this.simidProtocol.setMessageTarget(e.contentWindow),e.setAttribute("allowFullScreen",""),e.setAttribute("allow","geolocation"),e.src=this.simidData_.fileURL,e}addListeners_(){this.simidProtocol.addListener(k.CREATE_SESSION,this.onSessionCreated_.bind(this)),this.simidProtocol.addListener(q.REQUEST_FULL_SCREEN,this.onRequestFullScreen.bind(this)),this.simidProtocol.addListener(q.REQUEST_PLAY,this.onRequestPlay.bind(this)),this.simidProtocol.addListener(q.REQUEST_PAUSE,this.onRequestPause.bind(this)),this.simidProtocol.addListener(q.FATAL_ERROR,this.onCreativeFatalError.bind(this)),this.simidProtocol.addListener(q.REQUEST_SKIP,this.onRequestSkip.bind(this)),this.simidProtocol.addListener(q.REQUEST_STOP,this.onRequestStop.bind(this)),this.simidProtocol.addListener(q.REQUEST_CHANGE_AD_DURATION,this.onRequestChangeAdDuration.bind(this)),this.simidProtocol.addListener(q.GET_MEDIA_STATE,this.onGetMediaState.bind(this)),this.simidProtocol.addListener(q.LOG,this.onReceiveCreativeLog.bind(this)),this.simidProtocol.addListener(q.EXPAND_NONLINEAR,this.onExpandResize.bind(this)),this.simidProtocol.addListener(q.COLLAPSE_NONLINEAR,this.onCollapse.bind(this)),this.simidProtocol.addListener(q.REQUEST_RESIZE,this.onRequestResize.bind(this))}onSessionCreated_(){this.resolveSessionCreatedPromise_()}destroySimidIframe_(){this.simidIframe_&&(this.simidIframe_.remove(),this.simidIframe_=null,this.simidProtocol.reset());for(let[e,t]of this.adVideoTrackingEvents_)this.adVideoElement_.removeEventListener(e,t,!0);for(let[e,t]of this.contentVideoTrackingEvents_)this.contentVideoElement_.removeEventListener(e,t,!0);this.adVideoTrackingEvents_.clear(),this.contentVideoTrackingEvents_.clear()}getFullDimensions_(e){const t=e.getBoundingClientRect();return{x:0,y:0,width:t.width,height:t.height}}isValidDimensions_(e){const t=this.playerDiv_.getBoundingClientRect(),i=p()(e.y)+p()(e.height)<=p()(t.height),r=p()(e.x)+p()(e.width)<=p()(t.width);return i&&r}getNonlinearDimensions_(){if(this.nonLinearDimensions_)return this.nonLinearDimensions_;let e={};return e.x=document.getElementById("x_val").value,e.y=document.getElementById("y_val").value,e.width=document.getElementById("width").value,e.height=document.getElementById("height").value,e}displayNonlinearCreative_(){const e=this.getNonlinearDimensions_();if(this.isValidDimensions_(e)){this.setSimidIframeDimensions_(e),this.simidIframe_.style.position="absolute",this.contentVideoElement_.play();const t=document.getElementById("duration").value;this.requestedDuration_=t}else this._debugRawConsoleLogs}setSimidIframeDimensions_(e){this.simidIframe_.style.height=e.height,this.simidIframe_.style.width=e.width,this.simidIframe_.style.left=`${e.x}px`,this.simidIframe_.style.top=`${e.y}px`}onExpandResize(e){if(this.isLinearAd_){const t={errorCode:z,message:"Linear resize not yet supported."};this.simidProtocol.reject(e,t),this._debugRawConsoleLogs,t.message}else{const t=this.getFullDimensions_(this.contentVideoElement_);this.setSimidIframeDimensions_(t),this.contentVideoElement_.pause(),this.simidProtocol.resolve(e)}}onCollapse(e){const t=this.getNonlinearDimensions_();if(this.isLinearAd_){const t={message:"Cannot collapse linear ads."};this.simidProtocol.reject(e,t),this._debugRawConsoleLogs,t.message}else if(this.isValidDimensions_(t))this.setSimidIframeDimensions_(t),this.simidIframe_.style.position="absolute",this.contentVideoElement_.play(),this.simidProtocol.resolve(e);else{const t={message:"Unable to collapse to dimensions bigger than the player. Please modify dimensions to a smaller size."};this.simidProtocol.reject(e,t),this._debugRawConsoleLogs,t.message}}onRequestResize(e){if(this.isLinearAd_){const t={errorCode:z,message:"Linear resize not yet supported."};this.simidProtocol.reject(e,t),this._debugRawConsoleLogs,t.message}else if(this.isValidDimensions_(e.args.creativeDimensions))this.nonLinearDimensions_=e.args.creativeDimensions,this.setSimidIframeDimensions_(e.args.creativeDimensions),this.simidProtocol.resolve(e);else{const t={errorCode:z,message:"Unable to resize a non-linear ad with dimensions bigger than the player. Please modify dimensions to a smaller size."};this.simidProtocol.reject(e,t),this._debugRawConsoleLogs,t.message}}sendInitMessage_(){const e={videoDimensions:this.getFullDimensions_(this.contentVideoElement_),creativeDimensions:this.isLinearAd_?this.getFullDimensions_(this.contentVideoElement_):this.getNonlinearDimensions_(),fullscreen:!1,fullscreenAllowed:!0,variableDurationAllowed:!0,skippableState:"adHandles",siteUrl:document.location.host,appId:"",useragent:window.navigator.userAgent,deviceId:"",muted:this.adVideoElement_.muted,volume:this.adVideoElement_.volume},t={adParameters:this.adParameters_,adId:this.adId_,creativeId:this.creativeId_,adServingId:this.adServingId_,clickThroughUrl:this.clickThroughUrl_};this.isLinearAd_||(t.duration=document.getElementById("duration").value);const i={environmentData:e,creativeData:t};this.simidProtocol.sendMessage(D,i).then((e=>{this.resolveInitializationPromise_(e)})).catch((e=>{this.rejectInitializationPromise_(e)}))}startCreativePlayback_(){this.showSimidIFrame_(),this.isLinearAd_?this.playLinearVideoAd_():(this.nonLinearStartTime_=this.contentVideoElement_.currentTime,this.contentVideoElement_.play()),this.simidProtocol.sendMessage(M)}playLinearVideoAd_(){this.contentVideoElement_.pause(),this.showAdPlayer_(),this.adVideoElement_.src=this.adPlayerUrl_,this.adVideoElement_.load(),this.adVideoElement_.play()}onAdInitializedFailed_(e){const t=JSON.stringify(e);this._debugRawConsoleLogs,this.destroyIframeAndResumeContent_(!0,t.errorCode)}hideSimidIFrame_(){this.simidIframe_.style.display="none"}showSimidIFrame_(){this.simidIframe_.style.display="block"}showAdPlayer_(){this.adVideoElement_.style.display="block",this.adContainer_.style.display="block"}hideAdPlayer_(){this.adVideoElement_.style.display="none",this.adContainer_.style.display="none"}trackEventsOnAdVideoElement_(){this.adVideoTrackingEvents_.set("durationchange",(()=>{this.simidProtocol.sendMessage(w,{duration:this.adVideoElement_.duration})})),this.adVideoTrackingEvents_.set("ended",this.videoComplete.bind(this)),this.adVideoTrackingEvents_.set("error",(()=>{this.simidProtocol.sendMessage(R,{error:"",message:""})})),this.adVideoTrackingEvents_.set("pause",(()=>{this.simidProtocol.sendMessage(S)})),this.adVideoTrackingEvents_.set("play",(()=>{this.simidProtocol.sendMessage(I)})),this.adVideoTrackingEvents_.set("playing",(()=>{this.simidProtocol.sendMessage(L)})),this.adVideoTrackingEvents_.set("seeked",(()=>{this.simidProtocol.sendMessage(x)})),this.adVideoTrackingEvents_.set("seeking",(()=>{this.simidProtocol.sendMessage(U)})),this.adVideoTrackingEvents_.set("timeupdate",(()=>{this.simidProtocol.sendMessage(N,{currentTime:this.adVideoElement_.currentTime}),this.compareAdAndRequestedDurations_()})),this.adVideoTrackingEvents_.set("volumechange",(()=>{this.simidProtocol.sendMessage(O,{volume:this.adVideoElement_.volume})}));for(let[e,t]of this.adVideoTrackingEvents_)this.adVideoElement_.addEventListener(e,t,!0)}trackEventsOnContentVideoElement_(){this.contentVideoTrackingEvents_.set("timeupdate",(()=>{null!==this.nonLinearStartTime_&&this.contentVideoElement_.currentTime-this.nonLinearStartTime_>this.requestedDuration_&&this.stopAd(Q.NON_LINEAR_DURATION_COMPLETE)}));for(let[e,t]of this.contentVideoTrackingEvents_)this.contentVideoElement_.addEventListener(e,t,!0)}stopAd(e=Q.PLAYER_INITATED,t,i){this.simidIframe_&&(this.hideSimidIFrame_(),this._debugRawConsoleLogs,this.simidProtocol.sendMessage(j).then((()=>this.destroyIframeAndResumeContent_(t,i))))}skipAd(){this.hideSimidIFrame_(),this.simidProtocol.sendMessage(B).then((()=>this.destroyIframeAndResumeContent_()))}destroyIframeAndResumeContent_(e,t){this.destroySimidIframe_(),e?this.rmpVast_.rmpVastUtils.processVastErrors(t,!0):this.rmpVast_.rmpVastAdPlayer&&this.rmpVast_.rmpVastAdPlayer.resumeContent()}onRequestFullScreen(e){let t=null;this.simidIframe_.requestFullscreen?t=this.simidIframe_.requestFullscreen():this.simidIframe_.mozRequestFullScreen?t=this.simidIframe_.mozRequestFullScreen():this.simidIframe_.webkitRequestFullscreen?t=this.simidIframe_.webkitRequestFullscreen():this.simidIframe_.msRequestFullscreen&&(t=this.simidIframe_.msRequestFullscreen()),t?t.then((()=>this.simidProtocol.resolve(e))):this.simidProtocol.resolve(e)}onRequestPlay(e){if(this.isLinearAd_)this.adVideoElement_.play().then((()=>this.simidProtocol.resolve(e))).catch((()=>{const t={errorCode:J,message:"The SIMID media could not be loaded."};this.simidProtocol.reject(e,t)}));else{const t={errorCode:H,message:"Non linear ads do not play video."};this.simidProtocol.reject(e,t)}}onRequestPause(e){this.adVideoElement_.pause(),this.simidProtocol.resolve(e)}pauseAd(){this.adVideoElement_.pause()}onCreativeFatalError(e){this.simidProtocol.resolve(e),this.stopAd(Q.CREATIVE_INITIATED,!0,1100)}onRequestSkip(e){this.simidProtocol.resolve(e),this.skipAd()}onRequestStop(e){this.simidProtocol.resolve(e),this.stopAd(Q.CREATIVE_INITIATED)}onReportTracking(e){const t=e.args.trackingUrls;t.forEach((e=>{this.rmpVast_.rmpVastTracking.pingURI(e)})),this._debugRawConsoleLogs}videoComplete(){if(this.simidProtocol.sendMessage(P),0===this.requestedDuration_)this.stopAd(Q.MEDIA_PLAYBACK_COMPLETE);else if(-2!==this.requestedDuration_){const e=1e3*(this.requestedDuration_-this.adVideoElement_.duration);setTimeout((()=>{this.stopAd(Q.CREATIVE_INITIATED)}),e)}}onRequestChangeAdDuration(e){const t=e.args.duration;if(-2!==t&&t<0){const t={errorCode:G,message:"A negative duration is not valid."};this.simidProtocol.reject(e,t)}else this.requestedDuration_=t,this.compareAdAndRequestedDurations_(),this.simidProtocol.resolve(e)}compareAdAndRequestedDurations_(){0!==this.requestedDuration_&&-2!==this.requestedDuration_&&this.adVideoElement_.currentTime>=this.requestedDuration_&&this.stopAd(Q.CREATIVE_INITATED)}onGetMediaState(e){const t={currentSrc:this.adVideoElement_.currentSrc,currentTime:this.adVideoElement_.currentTime,duration:this.adVideoElement_.duration,ended:this.adVideoElement_.ended,muted:this.adVideoElement_.muted,paused:this.adVideoElement_.paused,volume:this.adVideoElement_.volume,fullscreen:this.adVideoElement_.fullscreen};this.simidProtocol.resolve(e,t)}onReceiveCreativeLog(e){e.args.message;this._debugRawConsoleLogs}sendLog(e){const t={message:e};this.simidProtocol.sendMessage(F,t)}}class Z{constructor(e){this._rmpVast=e,this._adContainer=e.adContainer,this._adPlayer=e.currentAdPlayer,this._params=e.params,this._adParametersData=e.adParametersData,this._debugRawConsoleLogs=e.debugRawConsoleLogs,this._initialWidth=640,this._initialHeight=360,this._initialViewMode="normal",this._desiredBitrate=500,this._vpaidCreativeUrl="",this._vpaidCreative=null,this._vpaidScript=null,this._vpaidIframe=null,this._vpaidAdLoaded=!1,this._initAdTimeout=null,this._vpaidCallbacks={},this._startAdTimeout=null,this._vpaidAdStarted=!1,this._vpaidVersion=-1,this._vpaid1AdDuration=-1,this._adStoppedTimeout=null,this._adSkippedTimeout=null,this._vpaidAdRemainingTimeInterval=null,this._vpaidRemainingTime=-1,this._vpaidCurrentVolume=1,this._vpaidPaused=!0,this._vpaidLoadTimeout=null,this._vpaidAvailableInterval=null,this._vpaidSlot=null}_onAdLoaded(){this._vpaidAdLoaded=!0,this._vpaidCreative&&(d.clearTimeout(this._initAdTimeout),this._vpaidCallbacks.AdLoaded&&this._vpaidCreative.unsubscribe(this._vpaidCallbacks.AdLoaded,"AdLoaded"),this._startAdTimeout=setTimeout((()=>{!this._vpaidAdStarted&&this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.resumeContent(),this._vpaidAdStarted=!1}),this._params.creativeLoadTimeout),this._rmpVast.__adOnStage=!0,this._vpaidCreative.startAd(),this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adloaded"))}_onAdStarted(){if(this._vpaidAdStarted=!0,!this._vpaidCreative)return;d.clearTimeout(this._startAdTimeout),this._vpaidCallbacks.AdStarted&&this._vpaidCreative.unsubscribe(this._vpaidCallbacks.AdStarted,"AdStarted"),1===this._vpaidVersion&&(this._vpaid1AdDuration=this._vpaidCreative.getAdRemainingTime());if(!this._vpaidCreative.getAdIcons()&&this._rmpVast.rmpVastIcons){this._rmpVast.rmpVastIcons.iconsData.length>0&&this._rmpVast.rmpVastIcons.append()}"function"==typeof this._vpaidCreative.getAdLinear&&(this._rmpVast.creative.isLinear=this._vpaidCreative.getAdLinear()),this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adcreativeview")}_onAdStopped(){this._debugRawConsoleLogs,d.clearTimeout(this._adStoppedTimeout),this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.resumeContent()}_onAdSkipped(){d.clearTimeout(this._adSkippedTimeout),this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adskipped")}_onAdSkippableStateChange(){this._rmpVast.rmpVastUtils.createApiEvent("adskippablestatechanged")}_onAdDurationChange(){if(this._vpaidCreative&&"function"==typeof this._vpaidCreative.getAdRemainingTime){const e=this._vpaidCreative.getAdRemainingTime();e>=0&&(this._vpaidRemainingTime=e),d.clearInterval(this._vpaidAdRemainingTimeInterval),this._vpaidAdRemainingTimeInterval=setInterval((()=>{const e=this._vpaidCreative.getAdRemainingTime();e>=0&&(this._vpaidRemainingTime=e)}),200),this._rmpVast.rmpVastUtils.createApiEvent("addurationchange")}}_onAdVolumeChange(){let e=-1;this._vpaidCreative&&(e=this._vpaidCreative.getAdVolume()),"number"==typeof e&&e>=0&&(this._vpaidCurrentVolume>0&&0===e?this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("advolumemuted"):0===this._vpaidCurrentVolume&&e>0&&this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("advolumeunmuted"),this._vpaidCurrentVolume=e,this._rmpVast.rmpVastUtils.createApiEvent("advolumechanged"))}_onAdImpression(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adimpression")}_onAdVideoStart(){this._vpaidPaused=!1;let e=-1;this._vpaidCreative&&(e=this._vpaidCreative.getAdVolume()),"number"==typeof e&&e>=0&&(this._vpaidCurrentVolume=e,this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adstarted"))}_onAdVideoFirstQuartile(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adfirstquartile")}_onAdVideoMidpoint(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("admidpoint")}_onAdVideoThirdQuartile(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adthirdquartile")}_onAdVideoComplete(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adcomplete")}_onAdClickThru(e,t,i){if(this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adclick"),"boolean"==typeof i&&i){let t;e?t=e:this._rmpVast.creative.clickThroughUrl&&(t=this._rmpVast.creative.clickThroughUrl),t&&(this._rmpVast.creative.clickThroughUrl=t,d.openWindow(this._rmpVast.creative.clickThroughUrl))}}_onAdPaused(){this._vpaidPaused=!0,this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adpaused")}_onAdPlaying(){this._vpaidPaused=!1,this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adresumed")}_onAdLog(e){this._debugRawConsoleLogs}_onAdError(e){this._debugRawConsoleLogs,this._rmpVast.rmpVastUtils.processVastErrors(901,!0)}_onAdInteraction(){this._rmpVast.rmpVastUtils.createApiEvent("adinteraction")}_onAdUserAcceptInvitation(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("aduseracceptinvitation")}_onAdUserMinimize(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adcollapse")}_onAdUserClose(){this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adclosed")}_onAdSizeChange(){this._rmpVast.rmpVastUtils.createApiEvent("adsizechange")}_onAdLinearChange(){this._vpaidCreative&&"function"==typeof this._vpaidCreative.getAdLinear&&(this._rmpVast.creative.isLinear=this._vpaidCreative.getAdLinear(),this._rmpVast.rmpVastUtils.createApiEvent("adlinearchange"))}_onAdExpandedChange(){this._rmpVast.rmpVastUtils.createApiEvent("adexpandedchange")}_onAdRemainingTimeChange(){if(this._vpaidCreative&&"function"==typeof this._vpaidCreative.getAdRemainingTime){const e=this._vpaidCreative.getAdRemainingTime();e>=0&&(this._vpaidRemainingTime=e),this._rmpVast.rmpVastUtils.createApiEvent("adremainingtimechange")}}_setCallbacksForCreative(){if(!this._vpaidCreative)return;this._vpaidCallbacks={AdLoaded:this._onAdLoaded.bind(this),AdStarted:this._onAdStarted.bind(this),AdStopped:this._onAdStopped.bind(this),AdSkipped:this._onAdSkipped.bind(this),AdSkippableStateChange:this._onAdSkippableStateChange.bind(this),AdDurationChange:this._onAdDurationChange.bind(this),AdVolumeChange:this._onAdVolumeChange.bind(this),AdImpression:this._onAdImpression.bind(this),AdVideoStart:this._onAdVideoStart.bind(this),AdVideoFirstQuartile:this._onAdVideoFirstQuartile.bind(this),AdVideoMidpoint:this._onAdVideoMidpoint.bind(this),AdVideoThirdQuartile:this._onAdVideoThirdQuartile.bind(this),AdVideoComplete:this._onAdVideoComplete.bind(this),AdClickThru:this._onAdClickThru.bind(this),AdPaused:this._onAdPaused.bind(this),AdPlaying:this._onAdPlaying.bind(this),AdLog:this._onAdLog.bind(this),AdError:this._onAdError.bind(this),AdInteraction:this._onAdInteraction.bind(this),AdUserAcceptInvitation:this._onAdUserAcceptInvitation.bind(this),AdUserMinimize:this._onAdUserMinimize.bind(this),AdUserClose:this._onAdUserClose.bind(this),AdSizeChange:this._onAdSizeChange.bind(this),AdLinearChange:this._onAdLinearChange.bind(this),AdExpandedChange:this._onAdExpandedChange.bind(this),AdRemainingTimeChange:this._onAdRemainingTimeChange.bind(this)};Object.keys(this._vpaidCallbacks).forEach((e=>{this._vpaidCreative.subscribe(this._vpaidCallbacks[e],e)}))}_unsetCallbacksForCreative(){if(!this._vpaidCreative)return;Object.keys(this._vpaidCallbacks).forEach((e=>{this._vpaidCreative.unsubscribe(this._vpaidCallbacks[e],e)}))}_isValidVPAID(e){return"function"==typeof e.initAd&&"function"==typeof e.startAd&&"function"==typeof e.stopAd&&"function"==typeof e.skipAd&&"function"==typeof e.resizeAd&&"function"==typeof e.pauseAd&&"function"==typeof e.resumeAd&&"function"==typeof e.expandAd&&"function"==typeof e.collapseAd&&"function"==typeof e.subscribe&&"function"==typeof e.unsubscribe}_onVPAIDAvailable(){if(d.clearInterval(this._vpaidAvailableInterval),d.clearTimeout(this._vpaidLoadTimeout),this._vpaidCreative=this._vpaidIframe.contentWindow.getVPAIDAd(),this._vpaidCreative&&"function"==typeof this._vpaidCreative.handshakeVersion){let e;try{e=this._vpaidCreative.handshakeVersion("2.0")}catch(e){return console.warn(e),this._debugRawConsoleLogs,void this._rmpVast.rmpVastUtils.processVastErrors(901,!0)}if(this._vpaidVersion=p()(e),this._vpaidVersion<1)return this._debugRawConsoleLogs,void this._rmpVast.rmpVastUtils.processVastErrors(901,!0);if(!this._isValidVPAID(this._vpaidCreative))return this._debugRawConsoleLogs,void this._rmpVast.rmpVastUtils.processVastErrors(901,!0);this._setCallbacksForCreative(),this._rmpVast.rmpVastTracking.wire();const t={};t.AdParameters=this._adParametersData,this._debugRawConsoleLogs,this._adParametersData,d.show(this._adContainer),d.show(this._adPlayer);const i={};this._vpaidSlot=document.createElement("div"),this._vpaidSlot.className="rmp-vpaid-container",this._adContainer.appendChild(this._vpaidSlot),i.slot=this._vpaidSlot,i.videoSlot=this._adPlayer,i.videoSlotCanAutoPlay=!0,this._initAdTimeout=setTimeout((()=>{this._vpaidAdLoaded||(this._debugRawConsoleLogs,this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.resumeContent()),this._vpaidAdLoaded=!1}),10*this._params.creativeLoadTimeout),this._debugRawConsoleLogs,this._vpaidCreative.initAd(this._initialWidth,this._initialHeight,this._initialViewMode,this._desiredBitrate,t,i)}}_onJSVPAIDLoaded(){this._debugRawConsoleLogs;const e=this._vpaidIframe.contentWindow;"function"==typeof e.getVPAIDAd?this._onVPAIDAvailable():this._vpaidAvailableInterval=setInterval((()=>{"function"==typeof e.getVPAIDAd&&this._onVPAIDAvailable()}),100),this._vpaidScript.onload=null,this._vpaidScript.onerror=null}_onJSVPAIDError(){this._debugRawConsoleLogs,this._rmpVast.rmpVastUtils.processVastErrors(901,!0),this._vpaidScript.onload=null,this._vpaidScript.onerror=null}getAdWidth(){return this._vpaidCreative&&"function"==typeof this._vpaidCreative.getAdWidth?this._vpaidCreative.getAdWidth():-1}getAdHeight(){return this._vpaidCreative&&"function"==typeof this._vpaidCreative.getAdHeight?this._vpaidCreative.getAdHeight():-1}getAdDuration(){if(this._vpaidCreative){if("function"==typeof this._vpaidCreative.getAdDuration)return this._vpaidCreative.getAdDuration();if(this._vpaid1AdDuration>-1)return this._vpaid1AdDuration}return-1}getAdRemainingTime(){return this._vpaidRemainingTime>=0?this._vpaidRemainingTime:-1}getCreativeUrl(){return this._vpaidCreativeUrl?this._vpaidCreativeUrl:""}getAdVolume(){return this._vpaidCreative&&"function"==typeof this._vpaidCreative.getAdVolume?this._vpaidCreative.getAdVolume():-1}getAdPaused(){return this._vpaidPaused}getAdExpanded(){return!(!this._vpaidCreative||"function"!=typeof this._vpaidCreative.getAdExpanded)&&this._vpaidCreative.getAdExpanded()}getAdSkippableState(){return!(!this._vpaidCreative||"function"!=typeof this._vpaidCreative.getAdSkippableState)&&this._vpaidCreative.getAdSkippableState()}getAdCompanions(){return this._vpaidCreative&&"function"==typeof this._vpaidCreative.getAdCompanions?this._vpaidCreative.getAdCompanions():""}resizeAd(e,t,i){if(!this._vpaidCreative)return;if(!d.isNumber(e)||!d.isNumber(t)||"string"!=typeof i)return;if(e<=0||t<=0)return;let r="normal";"fullscreen"===i&&(r=i),this._debugRawConsoleLogs,this._vpaidCreative.resizeAd(e,t,r)}stopAd(){this._vpaidCreative&&(this._debugRawConsoleLogs,this._adStoppedTimeout=setTimeout((()=>{this._onAdStopped()}),this._params.creativeLoadTimeout),this._vpaidCreative.stopAd())}pauseAd(){this._debugRawConsoleLogs,this._vpaidCreative&&!this._vpaidPaused&&this._vpaidCreative.pauseAd()}resumeAd(){this._debugRawConsoleLogs,this._vpaidCreative&&this._vpaidPaused&&this._vpaidCreative.resumeAd()}expandAd(){this._vpaidCreative&&this._vpaidCreative.expandAd()}collapseAd(){this._vpaidCreative&&this._vpaidCreative.collapseAd()}skipAd(){this._vpaidCreative&&(this._adSkippedTimeout=setTimeout((()=>{this._onAdStopped()}),this._params.creativeLoadTimeout),this._vpaidCreative.skipAd())}setAdVolume(e){this._vpaidCreative&&d.isNumber(e)&&e>=0&&e<=1&&"function"==typeof this._vpaidCreative.setAdVolume&&this._vpaidCreative.setAdVolume(e)}init(e,t){if(this._initialWidth=t.width,this._initialHeight=t.height,this._initialViewMode=t.viewMode,this._desiredBitrate=t.desiredBitrate,this._vpaidCreativeUrl=e,!this._adPlayer){let e=null;if(this._adContainer&&(e=this._adContainer.querySelector(".rmp-ad-vast-video-player")),null===e)return void this._rmpVast.rmpVastUtils.processVastErrors(900,!0);this._adPlayer=e}this._rmpVast.rmpVastContentPlayer.pause(),this._vpaidIframe=document.createElement("iframe"),this._vpaidIframe.sandbox="allow-scripts allow-same-origin",this._vpaidIframe.id="vpaid-frame",d.setStyle(this._vpaidIframe,{visibility:"hidden",width:"0px",height:"0px",border:"none"});this._vpaidIframe.onload=()=>{if(this._debugRawConsoleLogs,!this._vpaidIframe.contentWindow||!this._vpaidIframe.contentWindow.document||!this._vpaidIframe.contentWindow.document.body)return void this._rmpVast.rmpVastUtils.processVastErrors(901,!0);const e=this._vpaidIframe.contentWindow.document,t=e.body;this._vpaidScript=e.createElement("script"),this._vpaidLoadTimeout=setTimeout((()=>{this._debugRawConsoleLogs,this._vpaidScript.onload=null,this._vpaidScript.onerror=null,this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.resumeContent()}),this._params.creativeLoadTimeout),this._vpaidScript.onload=this._onJSVPAIDLoaded.bind(this),this._vpaidScript.onerror=this._onJSVPAIDError.bind(this),t.appendChild(this._vpaidScript),this._vpaidScript.src=this._vpaidCreativeUrl},this._vpaidIframe.src="about:blank",this._adContainer.appendChild(this._vpaidIframe)}destroy(){this._debugRawConsoleLogs,d.clearInterval(this._vpaidAvailableInterval),d.clearInterval(this._vpaidAdRemainingTimeInterval),d.clearTimeout(this._vpaidLoadTimeout),d.clearTimeout(this._initAdTimeout),d.clearTimeout(this._startAdTimeout),this._unsetCallbacksForCreative(),this._vpaidScript&&(this._vpaidScript.onload=null,this._vpaidScript.onerror=null),this._vpaidSlot&&d.removeElement(this._vpaidSlot),this._vpaidIframe&&d.removeElement(this._vpaidIframe)}}class X{constructor(e){this._rmpVast=e,this._params=e.params,this._adContainer=e.adContainer,this._adPlayer=e.currentAdPlayer,this._contentPlayer=e.currentContentPlayer,this._debugRawConsoleLogs=e.debugRawConsoleLogs,this._firstAdPlayerPlayRequest=!0,this._interactionMobileUI=null,this._skipWaitingUI=null,this._skipMessageUI=null,this._skipIconUI=null,this._skipButtonUI=null,this._skippableAdCanBeSkipped=!1,this._onSkipInteractionFn=null,this._onTimeupdateCheckSkipFn=null,this._onDurationChangeFn=null,this._onLoadedmetadataPlayFn=null,this._onContextMenuFn=null,this._onPlaybackErrorFn=null,this._onInteractionOpenClickThroughUrlFn=null,this._creativeLoadTimeoutCallback=null,this._hlsJS=[],this._hlsJSIndex=0,this._readingHlsJS=!1}get hlsJSInstances(){return this._hlsJS}get hlsJSIndex(){return this._hlsJSIndex}set hlsJSIndex(e){this._hlsJSIndex=e}get readingHlsJS(){return this._readingHlsJS}set readingHlsJS(e){this._readingHlsJS=e}get skippableAdCanBeSkipped(){return this._skippableAdCanBeSkipped}_onDurationChange(){let e=-1;if(this._rmpVast.rmpVastAdPlayer&&(e=this._rmpVast.rmpVastAdPlayer.duration),this._rmpVast.rmpVastUtils.createApiEvent("addurationchange"),-1===e)return;var i;(Object.keys(this._rmpVast.creative.trackingEvents).forEach((i=>{if(/progress-/i.test(i)){const r=i.split("-")[1];if(/%/i.test(r)){let n=r.slice(0,-1);n=e*c()(n)/100;this._rmpVast.creative.trackingEvents[i].forEach((e=>{var i;t()(i=this._rmpVast.progressEvents).call(i,{time:n,url:e})}))}else{this._rmpVast.creative.trackingEvents[i].forEach((e=>{var i;t()(i=this._rmpVast.progressEvents).call(i,{time:1e3*c()(r),url:e})}))}}})),this._rmpVast.progressEvents.length>0)&&v()(i=this._rmpVast.progressEvents).call(i,((e,t)=>e.time-t.time))}_onLoadedmetadataPlay(){d.clearTimeout(this._creativeLoadTimeoutCallback),this._adPlayer&&(this._adPlayer.volume!==this._contentPlayer.volume&&(this._adPlayer.volume=this._contentPlayer.volume),this._contentPlayer.muted?this._adPlayer.muted=!0:this._adPlayer.muted=!1),d.show(this._adContainer),d.show(this._adPlayer),this._rmpVast.__adOnStage=!0,this._rmpVast.rmpVastAdPlayer&&(this._rmpVast.rmpVastAdPlayer.play(this._firstAdPlayerPlayRequest),this._firstAdPlayerPlayRequest=!1),this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adloaded")}_onInteractionOpenClickThroughUrl(e){e&&e.stopPropagation(),u.isMobile||d.openWindow(this._rmpVast.creative.clickThroughUrl),this._rmpVast.pause(),this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adclick")}_onPlaybackError(e){if(e&&e.target){const t=e.target;if(t.error&&d.isNumber(t.error.code)){const e=t.error.code;let i="";"string"==typeof t.error.message&&(i=t.error.message);const r=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];console.error(`Error on video element with code ${e.toString()} and message ${i}`),this._debugRawConsoleLogs,r[e]&&r[e],4===e&&this._rmpVast.rmpVastUtils.processVastErrors(401,!0)}}}_updateWaitingForCanBeSkippedUI(e){Math.round(e)>0&&(this._skipWaitingUI.textContent=this._params.labels.skipMessage+" "+Math.round(e)+"s")}_onTimeupdateCheckSkip(){"none"===this._skipButtonUI.style.display&&d.setStyle(this._skipButtonUI,{display:"block"});const e=this._adPlayer.currentTime;d.isNumber(e)&&e>0&&(e>=this._rmpVast.creative.skipoffset?(this._adPlayer.removeEventListener("timeupdate",this._onTimeupdateCheckSkipFn),d.setStyle(this._skipWaitingUI,{display:"none"}),d.setStyle(this._skipMessageUI,{display:"block"}),d.setStyle(this._skipIconUI,{display:"block"}),this._skippableAdCanBeSkipped=!0,this._rmpVast.rmpVastUtils.createApiEvent("adskippablestatechanged")):this._rmpVast.creative.skipoffset-e>0&&this._updateWaitingForCanBeSkippedUI(this._rmpVast.creative.skipoffset-e))}_onSkipInteraction(e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),this._skippableAdCanBeSkipped&&(this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adskipped"),this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.resumeContent())}_appendSkipUI(){const e=this._params.labels.skipMessage;this._skipButtonUI=document.createElement("div"),this._skipButtonUI.className="rmp-ad-container-skip",d.setStyle(this._skipButtonUI,{display:"none"}),d.makeButtonAccessible(this._skipButtonUI,e),this._skipWaitingUI=document.createElement("div"),this._skipWaitingUI.className="rmp-ad-container-skip-waiting",this._updateWaitingForCanBeSkippedUI(this._rmpVast.creative.skipoffset),d.setStyle(this._skipWaitingUI,{display:"block"}),this._skipMessageUI=document.createElement("div"),this._skipMessageUI.className="rmp-ad-container-skip-message",this._skipMessageUI.textContent=e,d.setStyle(this._skipMessageUI,{display:"none"}),this._skipIconUI=document.createElement("div"),this._skipIconUI.className="rmp-ad-container-skip-icon",d.setStyle(this._skipIconUI,{display:"none"}),this._onSkipInteractionFn=this._onSkipInteraction.bind(this),d.addEvents(["click","touchend"],this._skipButtonUI,this._onSkipInteractionFn),this._skipButtonUI.appendChild(this._skipWaitingUI),this._skipButtonUI.appendChild(this._skipMessageUI),this._skipButtonUI.appendChild(this._skipIconUI),this._adContainer.appendChild(this._skipButtonUI),this._onTimeupdateCheckSkipFn=this._onTimeupdateCheckSkip.bind(this),this._adPlayer.addEventListener("timeupdate",this._onTimeupdateCheckSkipFn)}_onHlsJSError(e,t){if(t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:this._hlsJS[this._hlsJSIndex].startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:this._hlsJS[this._hlsJSIndex].recoverMediaError();break;default:this._rmpVast.rmpVastUtils.processVastErrors(900,!0)}}destroy(){this._interactionMobileUI&&(this._interactionMobileUI.removeEventListener("touchend",this._onInteractionOpenClickThroughUrlFn),d.removeElement(this._interactionMobileUI)),d.clearTimeout(this._creativeLoadTimeoutCallback),d.removeElement(this._skipButtonUI),d.removeEvents(["click","touchend"],this._skipButtonUI,this._onSkipInteractionFn),this._adPlayer&&(this._adPlayer.removeEventListener("click",this._onInteractionOpenClickThroughUrlFn),this._adPlayer.removeEventListener("timeupdate",this._onTimeupdateCheckSkipFn),this._adPlayer.removeEventListener("durationchange",this._onDurationChangeFn),this._adPlayer.removeEventListener("loadedmetadata",this._onLoadedmetadataPlayFn),this._adPlayer.removeEventListener("contextmenu",this._onContextMenuFn),this._adPlayer.removeEventListener("error",this._onPlaybackErrorFn)),this._contentPlayer.removeEventListener("error",this._onPlaybackErrorFn)}update(e,t){if(this._debugRawConsoleLogs,this._onDurationChangeFn=this._onDurationChange.bind(this),this._adPlayer.addEventListener("durationchange",this._onDurationChangeFn,{once:!0}),this._onLoadedmetadataPlayFn=this._onLoadedmetadataPlay.bind(this),this._adPlayer.addEventListener("loadedmetadata",this._onLoadedmetadataPlayFn,{once:!0}),this._onContextMenuFn=d.stopPreventEvent,this._adPlayer.addEventListener("contextmenu",this._onContextMenuFn),this._onPlaybackErrorFn=this._onPlaybackError.bind(this),this._creativeLoadTimeoutCallback=setTimeout((()=>{this._rmpVast.rmpVastUtils.processVastErrors(402,!0)}),this._params.creativeLoadTimeout),this._params.useHlsJS&&"application/vnd.apple.mpegurl"===t&&void 0!==window.Hls&&Hls.isSupported()){this._readingHlsJS=!0;const t={debug:this._params.debugHlsJS,capLevelToPlayerSize:!0,testBandwidth:!0,startLevel:-1,lowLatencyMode:!1};this._hlsJS[this._hlsJSIndex]=new Hls(t),this._hlsJS[this._hlsJSIndex].on(Hls.Events.ERROR,this._onHlsJSError.bind(this)),this._hlsJS[this._hlsJSIndex].loadSource(e),this._hlsJS[this._hlsJSIndex].attachMedia(this._adPlayer)}else void 0===this._rmpVast.creative.simid||this._rmpVast.creative.simid&&!this._params.enableSimid?(this._adPlayer.addEventListener("error",this._onPlaybackErrorFn),this._adPlayer.src=e,this._adPlayer.load()):(this._rmpVast.rmpVastSimidPlayer&&this._rmpVast.rmpVastSimidPlayer.stopAd(),this._rmpVast.rmpVastSimidPlayer=new K(e,this._rmpVast),this._rmpVast.rmpVastSimidPlayer.initializeAd(),this._rmpVast.rmpVastSimidPlayer.playAd());this._onInteractionOpenClickThroughUrlFn=this._onInteractionOpenClickThroughUrl.bind(this),this._rmpVast.creative.clickThroughUrl&&(u.isMobile?(this._interactionMobileUI=document.createElement("a"),this._interactionMobileUI.className="rmp-ad-click-ui-mobile",this._interactionMobileUI.textContent=this._params.labels.textForInteractionUIOnMobile,this._interactionMobileUI.addEventListener("touchend",this._onInteractionOpenClickThroughUrlFn),this._interactionMobileUI.href=this._rmpVast.creative.clickThroughUrl,this._interactionMobileUI.target="_blank",this._adContainer.appendChild(this._interactionMobileUI)):this._adPlayer.addEventListener("click",this._onInteractionOpenClickThroughUrlFn)),this._rmpVast.creative.isSkippableAd&&this._appendSkipUI()}parse(e){const i=e.icons,r=e.adParameters,n=e.mediaFiles;if(0===n.length)return;i.length>0&&(this._rmpVast.rmpVastIcons=new f(this._rmpVast),this._rmpVast.rmpVastIcons.parse(i)),this._rmpVast.adParametersData="",r&&r.value&&(this._rmpVast.adParametersData=r.value);let s=[],a=!1;for(let e=0;e<n.length;e++){const i=n[e],r=i.fileURL,o=i.mimeType;if(null===r||null===o)continue;const l={};l.url=r,l.type=o,null!==i.codec&&(l.codec=i.codec);const c=/vpaid/i,d=/\/javascript/i;if(this._params.enableVpaid&&i.apiFramework&&c.test(i.apiFramework)&&d.test(o)){this._debugRawConsoleLogs,s=[l],a=!0;break}l.width=i.width,l.height=i.height,l.bitrate=i.bitrate,t()(s).call(s,l)}const o=[];for(let e=0;e<s.length;e++){const i=s[e],r=i.type,n=i.url;if(a&&n)return this._rmpVast.rmpVastVpaidPlayer=new Z(this._rmpVast),this._rmpVast.rmpVastVpaidPlayer.init(n,this._params.vpaidSettings),void(this._rmpVast.creative.type=r);if(this._rmpVast.rmpVastAdPlayer){if("application/vnd.apple.mpegurl"===r&&(u.checkCanPlayType(r)||void 0!==window.Hls&&Hls.isSupported()))return this._rmpVast.rmpVastAdPlayer.append(n,r),void(this._rmpVast.creative.type=r);if(u.checkCanPlayType("application/dash+xml"))return this._rmpVast.rmpVastAdPlayer.append(n,r),void(this._rmpVast.creative.type=r)}t()(o).call(o,i)}if(a)return;let l=[];const c=["video/webm","video/mp4","video/ogg","video/3gpp"],h=(e,t)=>t.codec&&t.type===c[e]?u.checkCanPlayType(t.type,t.codec):t.type===c[e]&&u.checkCanPlayType(t.type);for(let e=0;e<c.length&&(l=o.filter(h.bind(null,e)),!(l.length>0));e++);if(0===l.length){const e=(e,t,i)=>i.codec===e&&i.type===t;o.forEach((t=>{t.codec&&t.type&&u.checkCanPlayType(t.type,t.codec)&&(l=o.filter(e.bind(null,t.codec,t.type)))}))}if(0===l.length){const e=(e,t)=>t.type===e;o.forEach((t=>{t.type&&u.checkCanPlayType(t.type)&&(l=o.filter(e.bind(null,t.type)))}))}if(0===l.length)return void this._rmpVast.rmpVastUtils.processVastErrors(403,!0);let p;v()(l).call(l,((e,t)=>e.width-t.width)),this._debugRawConsoleLogs;let m=[],A=[];if(l.length>1){const e=d.getWidth(this._rmpVast.container)*u.devicePixelRatio,t=d.getHeight(this._rmpVast.container)*u.devicePixelRatio;e>0&&t>0&&(m=l.filter((i=>e>=i.width&&t>=i.height))),this._debugRawConsoleLogs,0===m.length&&(m=[l[0]]);let i=(new _).bandwidthData.estimate;this._debugRawConsoleLogs,i>-1&&m.length>1&&(v()(m).call(m,((e,t)=>e.bitrate-t.bitrate)),i=Math.round(1e3*i),A=m.filter((e=>i>=e.bitrate)),this._debugRawConsoleLogs,p=A[A.length-1])}p||(m.length>0?p=m[m.length-1]:(v()(l).call(l,((e,t)=>e.bitrate-t.bitrate)),p=l[l.length-1])),this._debugRawConsoleLogs,this._rmpVast.creative.mediaUrl=p.url,this._rmpVast.creative.height=p.height,this._rmpVast.creative.width=p.width,this._rmpVast.creative.type=p.type,this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.append(p.url,p.type)}}class ${constructor(e){this._rmpVast=e,this._params=e.params,this._adContainer=e.adContainer,this._container=e.container,this._debugRawConsoleLogs=e.debugRawConsoleLogs,this._nonLinearMinSuggestedDuration=0,this._firstContentPlayerPlayRequest=!0,this._nonLinearCloseElement=null,this._nonLinearAElement=null,this._nonLinearInnerElement=null,this._nonLinearContainerElement=null,this._onNonLinearLoadSuccessFn=null,this._onNonLinearLoadErrorFn=null,this._onNonLinearClickThroughFn=null,this._onClickCloseNonLinearFn=null}get nonLinearContainerElement(){return this._nonLinearContainerElement}_onNonLinearLoadError(){this._rmpVast.rmpVastUtils.processVastErrors(502,!0)}_onNonLinearLoadSuccess(){this._debugRawConsoleLogs,this._rmpVast.creative.mediaUrl,this._rmpVast.__adOnStage=!0,this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent(["adloaded","adimpression","adstarted","adcreativeview"])}_onNonLinearClickThrough(e){try{e&&e.stopPropagation(),this._rmpVast.pause(),this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adclick")}catch(e){console.warn(e)}}_onClickCloseNonLinear(e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),d.setStyle(this._nonLinearContainerElement,{display:"none"}),this._rmpVast.rmpVastTracking.dispatchTrackingAndApiEvent("adclosed")}_appendCloseButton(){this._nonLinearCloseElement=document.createElement("div"),this._nonLinearCloseElement.className="rmp-ad-non-linear-close",d.makeButtonAccessible(this._nonLinearCloseElement,this._params.labels.closeAd),this._nonLinearMinSuggestedDuration>0?(d.setStyle(this._nonLinearCloseElement,{display:"none"}),setTimeout((()=>{d.setStyle(this._nonLinearCloseElement,{display:"block"})}),1e3*this._nonLinearMinSuggestedDuration)):d.setStyle(this._nonLinearCloseElement,{display:"block"}),this._onClickCloseNonLinearFn=this._onClickCloseNonLinear.bind(this),d.addEvents(["touchend","click"],this._nonLinearCloseElement,this._onClickCloseNonLinearFn),this._nonLinearContainerElement.appendChild(this._nonLinearCloseElement)}destroy(){this._nonLinearInnerElement&&(this._nonLinearInnerElement.removeEventListener("load",this._onNonLinearLoadSuccessFn),this._nonLinearInnerElement.removeEventListener("error",this._onNonLinearLoadErrorFn)),d.removeEvents(["touchend","click"],this._nonLinearAElement,this._onNonLinearClickThroughFn),d.removeEvents(["touchend","click"],this._nonLinearCloseElement,this._onClickCloseNonLinearFn)}update(){this._nonLinearContainerElement=document.createElement("div"),this._nonLinearContainerElement.className="rmp-ad-non-linear-container",d.setStyle(this._nonLinearContainerElement,{width:this._rmpVast.creative.width.toString()+"px",height:this._rmpVast.creative.height.toString()+"px"}),this._nonLinearAElement=document.createElement("a"),this._nonLinearAElement.className="rmp-ad-non-linear-anchor",this._rmpVast.creative.clickThroughUrl&&(this._nonLinearAElement.href=this._rmpVast.creative.clickThroughUrl,this._nonLinearAElement.target="_blank",this._onNonLinearClickThroughFn=this._onNonLinearClickThrough.bind(this),d.addEvents(["touchend","click"],this._nonLinearAElement,this._onNonLinearClickThroughFn)),"image"===this._rmpVast.creative.nonLinearType?this._nonLinearInnerElement=document.createElement("img"):(this._nonLinearInnerElement=document.createElement("iframe"),this._nonLinearInnerElement.sandbox="allow-scripts allow-same-origin",d.setStyle(this._nonLinearInnerElement,{border:"none",overflow:"hidden"}),this._nonLinearInnerElement.setAttribute("allow","autoplay; fullscreen; picture-in-picture; encrypted-media"),this._nonLinearInnerElement.setAttribute("scrolling","no"),this._nonLinearInnerElement.setAttribute("sandbox","allow-scripts allow-presentation allow-same-origin")),this._nonLinearInnerElement.className="rmp-ad-non-linear-creative",this._onNonLinearLoadErrorFn=this._onNonLinearLoadError.bind(this),this._nonLinearInnerElement.addEventListener("error",this._onNonLinearLoadErrorFn),this._onNonLinearLoadSuccessFn=this._onNonLinearLoadSuccess.bind(this),this._nonLinearInnerElement.addEventListener("load",this._onNonLinearLoadSuccessFn),"html"===this._rmpVast.creative.nonLinearType?this._nonLinearInnerElement.srcdoc=this._rmpVast.creative.mediaUrl:this._nonLinearInnerElement.src=this._rmpVast.creative.mediaUrl,this._nonLinearAElement.appendChild(this._nonLinearInnerElement),this._nonLinearContainerElement.appendChild(this._nonLinearAElement),this._adContainer.appendChild(this._nonLinearContainerElement),this._appendCloseButton(),d.show(this._adContainer),this._rmpVast.rmpVastContentPlayer.play(this._firstContentPlayerPlayRequest),this._firstContentPlayerPlayRequest=!1}parse(e){this._debugRawConsoleLogs;let i,r=!1;for(let t=0;t<e.length;t++){r=!1,i=e[t];let n=i.width,s=i.height;if(n<=0&&(n=300),s<=0&&(s=44),n>d.getWidth(this._container)||s>d.getHeight(this._container)){r=!0;continue}this._nonLinearMinSuggestedDuration=i.minSuggestedDuration;const a=i.staticResource,o=i.iframeResource,l=i.htmlResource;if(null!==a||null!==o||null!==l){a?(this._rmpVast.creative.mediaUrl=a,this._rmpVast.creative.nonLinearType="image"):o?(this._rmpVast.creative.mediaUrl=o,this._rmpVast.creative.nonLinearType="iframe"):l&&(this._rmpVast.creative.mediaUrl=l,this._rmpVast.creative.nonLinearType="html"),this._rmpVast.creative.width=n,this._rmpVast.creative.height=s,this._rmpVast.creative.type=i.type,this._debugRawConsoleLogs,this._rmpVast.creative;break}}if(!this._rmpVast.creative.mediaUrl||r){let e=503;return r&&(e=501),void this._rmpVast.rmpVastUtils.processVastErrors(e,!0)}this._rmpVast.creative.clickThroughUrl=i.nonlinearClickThroughURLTemplate,i.nonlinearClickTrackingURLTemplates.length>0&&i.nonlinearClickTrackingURLTemplates.forEach((e=>{var i;e.url&&t()(i=this._rmpVast.trackingTags).call(i,{event:"clickthrough",url:e.url})})),this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.append()}}class ee{constructor(e){this._rmpVast=e,this._debugRawConsoleLogs=e.debugRawConsoleLogs,this.reset()}get requiredAttribute(){return this._requiredAttribute}_onImgClickThrough(e,t,i){i&&(i.stopPropagation(),"touchend"===i.type&&i.preventDefault()),t&&t.forEach((e=>{e.url&&this._rmpVast.rmpVastTracking.pingURI(e.url)})),d.openWindow(e)}reset(){this._requiredAttribute="",this._validCompanionAds=[],this._companionAdsList=[]}parse(e){this._validCompanionAds=[],this._requiredAttribute="",e.required&&(this._requiredAttribute=e.required);const i=e.variations;if(i.length>0)for(let e=0;e<i.length;e++){var r;const n=i[e],s={width:n.width,height:n.height},a=n.staticResources.find((e=>!!e.url)),o=n.iframeResources.find((e=>!!e)),l=n.htmlResources.find((e=>!!e));a&&a.url&&(s.imageUrl=a.url),o&&o.length>0&&(s.iframeUrl=o),l&&l.length>0&&(s.htmlContent=l),void 0===a&&void 0===o&&void 0===l||(n.companionClickThroughURLTemplate&&(s.companionClickThroughUrl=n.companionClickThroughURLTemplate),n.companionClickTrackingURLTemplates.length>0&&(s.companionClickTrackingUrls=n.companionClickTrackingURLTemplates),n.altText&&(s.altText=n.altText),n.adSlotId&&(s.adSlotId=n.adSlotId),s.trackingEventsUrls=[],n.trackingEvents&&n.trackingEvents.creativeView&&n.trackingEvents.creativeView.forEach((e=>{var i;t()(i=s.trackingEventsUrls).call(i,e)})),t()(r=this._validCompanionAds).call(r,s))}this._debugRawConsoleLogs,this._validCompanionAds}getList(e,t){if(this._validCompanionAds.length>0){let i;if(i="number"==typeof e&&e>0&&"number"==typeof t&&t>0?this._validCompanionAds.filter((i=>e>=i.width&&t>=i.height)):this._validCompanionAds,i.length>0)return this._companionAdsList=i,this._companionAdsList}return[]}getItem(e){if(void 0===this._companionAdsList[e])return null;const t=this._companionAdsList[e];let i;if(t.imageUrl||t.iframeUrl?(t.imageUrl?i=document.createElement("img"):(i=document.createElement("iframe"),i.sandbox="allow-scripts allow-same-origin"),t.altText&&(i.alt=t.altText),i.width=t.width,i.height=t.height,i.style.cursor="pointer"):t.htmlContent&&(i=t.htmlContent),t.imageUrl||t.iframeUrl){const e=t.trackingEventsUrls;e.length>0&&(i.onload=()=>{e.forEach((e=>{this._rmpVast.rmpVastTracking.pingURI(e)}))},i.onerror=()=>{this._rmpVast.rmpVastTracking.error(603)});let r=null;if(t.companionClickTrackingUrls&&(this._debugRawConsoleLogs,r=t.companionClickTrackingUrls),t.companionClickThroughUrl){const e=this._onImgClickThrough.bind(this,t.companionClickThroughUrl,r);d.addEvents(["touchend","click"],i,e)}}if(t.imageUrl)i.src=t.imageUrl;else if(t.iframeUrl)i.src=t.iframeUrl;else if(t.htmlContent)try{i=(new DOMParser).parseFromString(t.htmlContent,"text/html"),i=i.documentElement}catch(e){return console.warn(e),null}return i}}class te{constructor(e){this._rmpVast=e,this._params=e.params,this._contentPlayer=e.currentContentPlayer,this._adContainer=e.adContainer,this._contentWrapper=e.contentWrapper,this._debugRawConsoleLogs=e.debugRawConsoleLogs,this._adPlayer=null}set volume(e){this._adPlayer&&(this._adPlayer.volume=e)}get volume(){return this._adPlayer?this._adPlayer.volume:-1}set muted(e){this._adPlayer&&(e&&!this._adPlayer.muted?this._adPlayer.muted=!0:!e&&this._adPlayer.muted&&(this._adPlayer.muted=!1))}get muted(){return!!this._adPlayer&&this._adPlayer.muted}get duration(){return this._adPlayer&&d.isNumber(this._adPlayer.duration)?1e3*this._adPlayer.duration:-1}get currentTime(){return this._adPlayer&&d.isNumber(this._adPlayer.currentTime)?1e3*this._adPlayer.currentTime:-1}destroy(){this._debugRawConsoleLogs,this._rmpVast.rmpVastIcons&&this._rmpVast.rmpVastIcons.destroy(),this._rmpVast.rmpVastVpaidPlayer&&this._rmpVast.rmpVastVpaidPlayer.destroy(),this._rmpVast.rmpVastNonLinearCreative&&this._rmpVast.rmpVastNonLinearCreative.destroy(),this._rmpVast.rmpVastLinearCreative&&this._rmpVast.rmpVastLinearCreative.destroy(),this._rmpVast.rmpVastTracking.destroy(),d.hide(this._adContainer),this._rmpVast.rmpVastContentPlayer&&this._rmpVast.rmpVastContentPlayer.destroy();try{this._adPlayer&&(this._adPlayer.pause(),this._rmpVast.rmpVastLinearCreative&&this._rmpVast.rmpVastLinearCreative.readingHlsJS?(this._rmpVast.rmpVastLinearCreative.readingHlsJS=!1,this._rmpVast.rmpVastLinearCreative.hlsJSInstances[this._rmpVast.rmpVastLinearCreative.hlsJSIndex].destroy(),this._rmpVast.rmpVastLinearCreative.hlsJSIndex=this._rmpVast.rmpVastLinearCreative.hlsJSIndex++):(this._adPlayer.removeAttribute("src"),this._adPlayer.load()),d.hide(this._adPlayer),this._debugRawConsoleLogs),this._rmpVast.rmpVastNonLinearCreative&&d.removeElement(this._rmpVast.rmpVastNonLinearCreative.nonLinearContainerElement)}catch(e){console.warn(e)}this._rmpVast.resetVariablesForNewLoadAds(),this._rmpVast.rmpVastUtils.createApiEvent("addestroyed")}init(){this._rmpVast.adContainer=this._adContainer=document.createElement("div"),this._adContainer.className="rmp-ad-container",this._contentWrapper.appendChild(this._adContainer),d.hide(this._adContainer),this._rmpVast.currentAdPlayer=this._adPlayer=document.createElement("video"),this._debugRawConsoleLogs,this._adPlayer,this._adPlayer.disableRemotePlayback=!0,this._adPlayer.disablePictureInPicture=!0,this._adPlayer.className="rmp-ad-vast-video-player",this._params.showControlsForAdPlayer?this._adPlayer.controls=!0:this._adPlayer.controls=!1,this._contentPlayer.hasAttribute("muted")&&(this._contentPlayer.muted=!0),this._contentPlayer.muted&&(this._adPlayer.muted=!0),this._adPlayer.poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",this._adPlayer.setAttribute("x-webkit-airplay","allow"),"boolean"==typeof this._contentPlayer.playsInline&&this._contentPlayer.playsInline&&(this._adPlayer.playsInline=!0),d.hide(this._adPlayer),this._adContainer.appendChild(this._adPlayer),this._contentPlayer.addEventListener("ended",(()=>{this._rmpVast.__adOnStage||(this._rmpVast.contentCompleted=!0)})),this._adPlayer.preload="auto",u.isMobile&&(this._contentPlayer.load(),this._adPlayer.load()),this._rmpVast.rmpVastInitialized=!0}append(e,t){if(!this._adPlayer){let e=null;if(this._adContainer&&(e=this._adContainer.querySelector(".rmp-ad-vast-video-player")),null===e)return void this._rmpVast.rmpVastUtils.processVastErrors(900,!0);this._adPlayer=e}if(this._rmpVast.rmpVastContentPlayer.pause(),this._rmpVast.creative.isLinear)e&&t&&this._rmpVast.rmpVastLinearCreative&&this._rmpVast.rmpVastLinearCreative.update(e,t);else{if(this._params.outstream)return this._debugRawConsoleLogs,void this._rmpVast.rmpVastUtils.processVastErrors(201,!0);this._rmpVast.rmpVastNonLinearCreative&&this._rmpVast.rmpVastNonLinearCreative.update()}if(this._rmpVast.rmpVastTracking.wire(),this._rmpVast.rmpVastIcons){this._rmpVast.rmpVastIcons.iconsData.length>0&&this._rmpVast.rmpVastIcons.append()}}play(e){this._adPlayer&&this._adPlayer.paused&&this._rmpVast.rmpVastUtils.playPromise("vast",e)}pause(){this._adPlayer&&!this._adPlayer.paused&&this._adPlayer.pause()}resumeContent(){this._debugRawConsoleLogs,this._rmpVast.rmpVastAdPlayer&&this._rmpVast.rmpVastAdPlayer.destroy(),this._rmpVast.rmpVastLinearCreative&&(this._rmpVast.rmpVastLinearCreative.readingHlsJS=!1),this._rmpVast.contentCompleted||this._params.outstream||(this._debugRawConsoleLogs,this._rmpVast.rmpVastContentPlayer.play()),this._rmpVast.contentCompleted=!1}}class ie{constructor(e,t){this._rmpVast=t,this._contentPlayer=t.currentContentPlayer,this._adPlayer=t.currentAdPlayer,this._params=t.params,this._isSkippableAd=t.isSkippableAd,this._skipTimeOffset=t.skipTimeOffset,this._debugRawConsoleLogs=t.debugRawConsoleLogs,this.VastProperties=null,this._adEvents=null,this._mediaEvents=null,this._adSession=null,this._lastVideoTime=-1,this._adVerifications=e,this._onFullscreenChangeFn=null}_destroy(){document.removeEventListener("fullscreenchange",this._onFullscreenChangeFn),this._adSession.finish()}_onFullscreenChange(){const e=null!==document.fullscreenElement?"fullscreen":"normal";this._mediaEvents.playerStateChange(e)}_pingVerificationNotExecuted(e,t){void 0!==e.trackingEvents&&Array.isArray(e.trackingEvents.verificationNotExecuted)&&e.trackingEvents.verificationNotExecuted.length>0&&e.trackingEvents.verificationNotExecuted.forEach((e=>{let i=e;const r=/\[REASON\]/gi;r.test(i)&&(i=i.replace(r,t)),this._rmpVast.rmpVastTracking.pingURI(i)}))}_adPlayerDidDispatchTimeUpdate(){if(!this._adEvents||!this._mediaEvents||!this._adPlayer||0===this._adPlayer.playbackRate)return;const e=this._adPlayer.currentTime,t=this._adPlayer.duration;if(e>-1&&t>0){const i=e/t;this._lastVideoTime<0&&i>=0?(this._adEvents.impressionOccurred(),this._mediaEvents.start(t,this._adPlayer.volume)):this._lastVideoTime<.25&&i>=.25?this._mediaEvents.firstQuartile():this._lastVideoTime<.5&&i>=.5?this._mediaEvents.midpoint():this._lastVideoTime<.75&&i>=.75?this._mediaEvents.thirdQuartile():this._lastVideoTime<1&&i>=1&&(this._mediaEvents.complete(),this._adEvents=null,this._mediaEvents=null,setTimeout((()=>{this._destroy()}),300)),this._lastVideoTime=i}}_adPlayerDidDispatchEvent(e){if(!(this._adSession&&this._adEvents&&this._mediaEvents&&this.VastProperties))return;let t,i,r="preroll";switch(e.type){case"error":this._adSession.error("video",this._adPlayer.error.message);break;case"loadeddata":if(this._skipTimeOffset<0&&(this._skipTimeOffset=0),this._params.outstream)r="standalone";else{const e=this._contentPlayer.currentTime,t=this._contentPlayer.duration;e>0&&e<t||e>=t&&(r="postroll")}t=new this.VastProperties(this._isSkippableAd,this._skipTimeOffset,this._params.omidAutoplay,r),this._adEvents.loaded(t);break;case"pause":this._mediaEvents.pause();break;case"play":this._adPlayer.currentTime>0&&this._mediaEvents.resume();break;case"timeupdate":this._adPlayerDidDispatchTimeUpdate();break;case"volumechange":i=this._adPlayer.muted?0:this._adPlayer.volume,this._mediaEvents.volumeChange(i);break;case"click":this._mediaEvents.adUserInteraction("click")}}_onOMWebLoaded(){const e=[];let i,r=[];for(let i=0;i<this._adVerifications.length;i++){const s=this._adVerifications[i];if("string"==typeof s.resource&&""!==s.resource)if(void 0===s.type||"executable"!==s.type)if(void 0===s.apiFramework||"omid"===s.apiFramework){var n;if(this._params.omidAllowedVendors.length>0&&void 0!==s.vendor)if(!E()(n=this._params.omidAllowedVendors).call(n,s.vendor))continue;void 0===s.browserOptional||!0!==s.browserOptional?t()(e).call(e,s):t()(r).call(r,i)}else this._pingVerificationNotExecuted(s,"2");else this._pingVerificationNotExecuted(s,"2")}0===e.length&&r.length>0&&r.forEach((i=>{t()(e).call(e,this._adVerifications[i])})),this._adVerifications=e;try{i=OmidSessionClient.default}catch(e){return void console.warn(e)}const s=i.AdSession,a=i.Partner,o=i.Context,l=i.VerificationScriptResource,c=i.AdEvents,d=i.MediaEvents;this.VastProperties=i.VastProperties;const h=new a(this._params.partnerName,this._params.partnerVersion);let p=[];if(this._params.omidRunValidationScript){const e="https://cdn.radiantmediatechs.com/rmp/omsdk/1.3.37/omid-validation-verification-script-v1.js",i="dummyVendor",r=JSON.stringify({k:"v"});t()(p).call(p,new l(e,i,r))}else{const e="full";p=this._adVerifications.map((t=>new l(t.resource,t.vendor,t.parameters,e)))}const u=new o(h,p,document.location.href);this._debugRawConsoleLogs,this._params.omidUnderEvaluation&&(u.underEvaluation=!0);const m=window.top;m?(u.setServiceWindow(m),u.setVideoElement(this._adPlayer),this._debugRawConsoleLogs,this._adSession=new s(u),this._adSession.setCreativeType("video"),this._adSession.setImpressionType("beginToRender"),this._adSession.isSupported()?(this._adEvents=new c(this._adSession),this._mediaEvents=new d(this._adSession),this._adSession.start()):this._debugRawConsoleLogs):this._debugRawConsoleLogs}init(){["error","loadeddata","pause","play","timeupdate","volumechange","click"].forEach((e=>{this._adPlayer.addEventListener(e,(e=>this._adPlayerDidDispatchEvent(e)))})),this._onFullscreenChangeFn=this._onFullscreenChange.bind(this),document.addEventListener("fullscreenchange",this._onFullscreenChangeFn),this._onOMWebLoaded()}}class re{constructor(e){this.eventName=e,this.callbacks=[]}registerCallback(e){var i;t()(i=this.callbacks).call(i,e)}unregisterCallback(e){const t=this.callbacks.indexOf(e);t>-1&&this.callbacks.splice(t,1)}fire(e){this.callbacks.slice(0).forEach((t=>{t(e)}))}}class ne{constructor(e){this._rmpVast=e,this._contentPlayer=e.currentContentPlayer,this._customPlaybackCurrentTime=0,this._antiSeekLogicInterval=null}set volume(e){this._contentPlayer&&(this._contentPlayer.volume=e)}get volume(){return this._contentPlayer?this._contentPlayer.volume:-1}get muted(){return!!this._contentPlayer&&this._contentPlayer.muted}set muted(e){this._contentPlayer&&(e&&!this._contentPlayer.muted?this._contentPlayer.muted=!0:!e&&this._contentPlayer.muted&&(this._contentPlayer.muted=!1))}get currentTime(){return this._contentPlayer&&d.isNumber(this._contentPlayer.currentTime)?1e3*this._contentPlayer.currentTime:-1}destroy(){d.clearInterval(this._antiSeekLogicInterval)}play(e){this._contentPlayer&&this._contentPlayer.paused&&this._rmpVast.rmpVastUtils.playPromise("content",e)}pause(){this._contentPlayer&&!this._contentPlayer.paused&&this._contentPlayer.pause()}seekTo(e){d.isNumber(e)&&e>=0&&this._contentPlayer&&(this._contentPlayer.currentTime=e/1e3)}preventSeekingForCustomPlayback(){this._contentPlayer&&(this._antiSeekLogicInterval=setInterval((()=>{if(this._rmpVast.creative.isLinear&&this._rmpVast.__adOnStage){Math.abs(this._customPlaybackCurrentTime-this._contentPlayer.currentTime)>1&&(this._contentPlayer.currentTime=this._customPlaybackCurrentTime),this._customPlaybackCurrentTime=this._contentPlayer.currentTime}}),200))}}var se=i(975),ae=i.n(se);let oe=null;const le={data:{},length:0,getItem(e){return this.data[e]},setItem(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem(e){delete this.data[e],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class ce{constructor(){this.storage=this.initStorage()}initStorage(){if(oe)return oe;try{oe="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){oe=null}return oe&&!this.isStorageDisabled(oe)||(oe=le,oe.clear()),oe}isStorageDisabled(e){const t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}getItem(e){return this.storage.getItem(e)}setItem(e,t){return this.storage.setItem(e,t)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}function de(e={}){return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}var he=i(4598),pe=i.n(he),ue=i(3264),me=i.n(ue);const Ae=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function ge(e,i={},r={}){const n=[],s=_e(e);!i.ERRORCODE||r.isCustomCode||/^[0-9]{3}$/.test(i.ERRORCODE)||(i.ERRORCODE=900),i.CACHEBUSTING=Te(Math.round(1e8*Math.random())),i.TIMESTAMP=(new Date).toISOString(),i.RANDOM=i.random=i.CACHEBUSTING;for(const e in i)i[e]=be(i[e]);for(const e in s){const r=s[e];"string"==typeof r&&t()(n).call(n,ve(r,i))}return n}function ve(e,t){const i=(e=fe(e,t)).match(/[^[\]]+(?=])/g);if(!i)return e;let r=i.filter((e=>Ae.indexOf(e)>-1));return 0===r.length?e:(r=o()(r).call(r,((e,t)=>(e[t]=-1,e)),{}),fe(e,r))}function fe(e,t){let i=e;for(const e in t){const r=t[e];i=i.replace(new RegExp(`(?:\\[|%%)(${e})(?:\\]|%%)`,"g"),r)}return i}function _e(e){return Array.isArray(e)?e.map((e=>e&&e.hasOwnProperty("url")?e.url:e)):e}function ye(e){return/^(https?:\/\/|\/\/)/.test(e)}function Ee(e,t){for(let i=0;i<t.length;i++)if(Ce(t[i],e))return!0;return!1}function Ce(e,t){if(e&&t){const i=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return i.length===r.length&&(e.id===t.id&&e.url===t.url)}return!1}function be(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16)}`))}function Te(e,t=8){var i;return me()(i=e.toString()).call(i,t,"0")}const Ve={track:function(e,t,i){ge(e,t,i).forEach((e=>{if("undefined"!=typeof window&&null!==window){(new Image).src=e}}))},resolveURLTemplates:ge,extractURLsFromTemplates:_e,filterValidUrlTemplates:function(e){return Array.isArray(e)?e.filter((e=>ye(e.hasOwnProperty("url")?e.url:e))):ye(e)},containsTemplateObject:Ee,isTemplateObjectEqual:Ce,encodeURIComponentRFC3986:be,replaceUrlMacros:ve,isNumeric:function(e){return!isNaN(c()(e))&&isFinite(e)},flatten:function e(t){return o()(t).call(t,((t,i)=>t.concat(Array.isArray(i)?e(i):i)),[])},joinArrayOfUniqueTemplateObjs:function(e=[],i=[]){const r=Array.isArray(e)?e:[],n=Array.isArray(i)?i:[],s=r.concat(n);return o()(s).call(s,((e,i)=>(Ee(i,e)||t()(e).call(e,i),e)),[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:Te};function ke(e){return-1!==["true","TRUE","True","1"].indexOf(e)}const we={childByName:function(e,t){const i=e.childNodes;for(const e in i){const r=i[e];if(r.nodeName===t)return r}},childrenByName:function(e,i){const r=[],n=e.childNodes;for(const e in n){const s=n[e];s.nodeName===i&&t()(r).call(r,s)}return r},resolveVastAdTagURI:function(e,t){if(!t)return e;if(0===e.indexOf("//")){const{protocol:t}=location;return`${t}${e}`}if(-1===e.indexOf("://")){return`${t.slice(0,t.lastIndexOf("/"))}/${e}`}return e},parseBoolean:ke,parseNodeText:function(e){var t;return e&&pe()(t=e.textContent||e.text||"").call(t)},copyNodeAttribute:function(e,t,i){const r=t.getAttribute(e);r&&i.setAttribute(e,r)},parseAttributes:function(e){const t=e.attributes,i={};for(let e=0;e<t.length;e++)i[t[e].nodeName]=t[e].nodeValue;return i},parseDuration:function(e){if(null==e)return-1;if(Ve.isNumeric(e))return p()(e);const t=e.split(":");if(3!==t.length)return-1;const i=t[2].split(".");let r=p()(i[0]);2===i.length&&(r+=c()(`0.${i[1]}`));const n=p()(60*t[1]),s=p()(60*t[0]*60);return isNaN(s)||isNaN(n)||isNaN(r)||n>3600||r>60?-1:s+n+r},splitVAST:function(e){const i=[];let r=null;return e.forEach(((n,s)=>{if(n.sequence&&(n.sequence=p()(n.sequence,10)),n.sequence>1){const i=e[s-1];if(i&&i.sequence===n.sequence-1)return void(r&&t()(r).call(r,n));delete n.sequence}r=[n],t()(i).call(i,r)})),i},assignAttributes:function(e,t){if(e)for(const i in e){const r=e[i];if(r.nodeName&&r.nodeValue&&t.hasOwnProperty(r.nodeName)){let e=r.nodeValue;"boolean"==typeof t[r.nodeName]&&(e=ke(e)),t[r.nodeName]=e}}},mergeWrapperAdData:function(e,i){var r;e.errorURLTemplates=i.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=i.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=i.extensions.concat(e.extensions),i.viewableImpression.length>0&&(e.viewableImpression=[...e.viewableImpression,...i.viewableImpression]),e.followAdditionalWrappers=i.followAdditionalWrappers,e.allowMultipleAds=i.allowMultipleAds,e.fallbackOnNoAd=i.fallbackOnNoAd;const n=(i.creatives||[]).filter((e=>e&&"companion"===e.type)),s=o()(n).call(n,((e,i)=>((i.variations||[]).forEach((i=>{(i.companionClickTrackingURLTemplates||[]).forEach((i=>{Ve.containsTemplateObject(i,e)||t()(e).call(e,i)}))})),e)),[]);e.creatives=n.concat(e.creatives);const a=i.videoClickTrackingURLTemplates&&i.videoClickTrackingURLTemplates.length,l=i.videoCustomClickURLTemplates&&i.videoCustomClickURLTemplates.length;if(e.creatives.forEach((e=>{if(i.trackingEvents&&i.trackingEvents[e.type])for(const t in i.trackingEvents[e.type]){const r=i.trackingEvents[e.type][t];Array.isArray(e.trackingEvents[t])||(e.trackingEvents[t]=[]),e.trackingEvents[t]=e.trackingEvents[t].concat(r)}"linear"===e.type&&(a&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(i.videoClickTrackingURLTemplates)),l&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(i.videoCustomClickURLTemplates)),!i.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=i.videoClickThroughURLTemplate)),"companion"===e.type&&s.length&&(e.variations||[]).forEach((e=>{e.companionClickTrackingURLTemplates=Ve.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,s)}))})),i.adVerifications&&(e.adVerifications=e.adVerifications.concat(i.adVerifications)),i.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(i.blockedAdCategories)),null!==(r=i.creatives)&&void 0!==r&&r.length){const t=i.creatives.filter((e=>{var t;return(null===(t=e.icons)||void 0===t?void 0:t.length)&&!e.mediaFiles.length}));t.length&&(e.creatives=e.creatives.concat(t))}}};function Pe(e,i){const r=function(e={}){const{id:t,adId:i,sequence:r,apiFramework:n}=de(e);return{id:t,adId:i,sequence:r,apiFramework:n,type:"companion",required:null,variations:[]}}(i);return r.required=e.getAttribute("required")||null,r.variations=we.childrenByName(e,"Companion").map((e=>{var i,r,n;const s=function(e={}){return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotId:e.adSlotId||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(we.parseAttributes(e));s.htmlResources=o()(i=we.childrenByName(e,"HTMLResource")).call(i,((e,t)=>{const i=we.parseNodeText(t);return i?e.concat(i):e}),[]),s.iframeResources=o()(r=we.childrenByName(e,"IFrameResource")).call(r,((e,t)=>{const i=we.parseNodeText(t);return i?e.concat(i):e}),[]),s.staticResources=o()(n=we.childrenByName(e,"StaticResource")).call(n,((e,t)=>{const i=we.parseNodeText(t);return i?e.concat({url:i,creativeType:t.getAttribute("creativeType")||null}):e}),[]),s.altText=we.parseNodeText(we.childByName(e,"AltText"))||null;const a=we.childByName(e,"TrackingEvents");a&&we.childrenByName(a,"Tracking").forEach((e=>{const i=e.getAttribute("event"),r=we.parseNodeText(e);var n;i&&r&&(Array.isArray(s.trackingEvents[i])||(s.trackingEvents[i]=[]),t()(n=s.trackingEvents[i]).call(n,r))})),s.companionClickTrackingURLTemplates=we.childrenByName(e,"CompanionClickTracking").map((e=>({id:e.getAttribute("id")||null,url:we.parseNodeText(e)}))),s.companionClickThroughURLTemplate=we.parseNodeText(we.childByName(e,"CompanionClickThrough"))||null;const l=we.childByName(e,"AdParameters");return l&&(s.adParameters={value:we.parseNodeText(l),xmlEncoded:l.getAttribute("xmlEncoded")||null}),s})),r}function Re(e,i){let r;const n=function(e={}){const{id:t,adId:i,sequence:r,apiFramework:n}=de(e);return{id:t,adId:i,sequence:r,apiFramework:n,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(i);n.duration=we.parseDuration(we.parseNodeText(we.childByName(e,"Duration")));const s=e.getAttribute("skipoffset");if(null==s)n.skipDelay=null;else if("%"===s.charAt(s.length-1)&&-1!==n.duration){const e=p()(s,10);n.skipDelay=n.duration*(e/100)}else n.skipDelay=we.parseDuration(s);const a=we.childByName(e,"VideoClicks");if(a){const e=we.childByName(a,"ClickThrough");n.videoClickThroughURLTemplate=e?{id:e.getAttribute("id")||null,url:we.parseNodeText(e)}:null,we.childrenByName(a,"ClickTracking").forEach((e=>{var i;t()(i=n.videoClickTrackingURLTemplates).call(i,{id:e.getAttribute("id")||null,url:we.parseNodeText(e)})})),we.childrenByName(a,"CustomClick").forEach((e=>{var i;t()(i=n.videoCustomClickURLTemplates).call(i,{id:e.getAttribute("id")||null,url:we.parseNodeText(e)})}))}const o=we.childByName(e,"AdParameters");o&&(n.adParameters={value:we.parseNodeText(o),xmlEncoded:o.getAttribute("xmlEncoded")||null}),we.childrenByName(e,"TrackingEvents").forEach((e=>{we.childrenByName(e,"Tracking").forEach((e=>{let i=e.getAttribute("event");const s=we.parseNodeText(e);if(i&&s){var a;if("progress"===i){if(r=e.getAttribute("offset"),!r)return;i="%"===r.charAt(r.length-1)?`progress-${r}`:`progress-${Math.round(we.parseDuration(r))}`}Array.isArray(n.trackingEvents[i])||(n.trackingEvents[i]=[]),t()(a=n.trackingEvents[i]).call(a,s)}}))})),we.childrenByName(e,"MediaFiles").forEach((e=>{we.childrenByName(e,"MediaFile").forEach((e=>{var i;t()(i=n.mediaFiles).call(i,function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=we.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=p()(e.getAttribute("fileSize")||0),t.bitrate=p()(e.getAttribute("bitrate")||0),t.minBitrate=p()(e.getAttribute("minBitrate")||0),t.maxBitrate=p()(e.getAttribute("maxBitrate")||0),t.width=p()(e.getAttribute("width")||0),t.height=p()(e.getAttribute("height")||0);const i=e.getAttribute("scalable");i&&"string"==typeof i&&(t.scalable=we.parseBoolean(i));const r=e.getAttribute("maintainAspectRatio");r&&"string"==typeof r&&(t.maintainAspectRatio=we.parseBoolean(r));return t}(e))}));const i=we.childByName(e,"InteractiveCreativeFile");i&&(n.interactiveCreativeFile=function(e){const t=function(e={}){return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:we.parseBoolean(e.variableDuration),fileURL:null}}(we.parseAttributes(e));return t.fileURL=we.parseNodeText(e),t}(i));const r=we.childByName(e,"ClosedCaptionFiles");r&&we.childrenByName(r,"ClosedCaptionFile").forEach((e=>{var i;const r=function(e={}){return{type:e.type||null,language:e.language||null,fileURL:null}}(we.parseAttributes(e));r.fileURL=we.parseNodeText(e),t()(i=n.closedCaptionFiles).call(i,r)}));const s=we.childByName(e,"Mezzanine"),a=function(e,t){const i={};let r=!1;return t.forEach((t=>{e&&e.getAttribute(t)?i[t]=e.getAttribute(t):r=!0})),r?null:i}(s,["delivery","type","width","height"]);if(a){const e={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};e.id=s.getAttribute("id"),e.fileURL=we.parseNodeText(s),e.delivery=a.delivery,e.codec=s.getAttribute("codec"),e.type=a.type,e.width=p()(a.width,10),e.height=p()(a.height,10),e.fileSize=p()(s.getAttribute("fileSize"),10),e.mediaType=s.getAttribute("mediaType")||"2D",n.mezzanine=e}}));const l=we.childByName(e,"Icons");return l&&we.childrenByName(l,"Icon").forEach((e=>{var i;t()(i=n.icons).call(i,function(e){const i={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[]};i.program=e.getAttribute("program"),i.height=p()(e.getAttribute("height")||0),i.width=p()(e.getAttribute("width")||0),i.xPosition=function(e){if(-1!==["left","right"].indexOf(e))return e;return p()(e||0)}(e.getAttribute("xPosition")),i.yPosition=function(e){if(-1!==["top","bottom"].indexOf(e))return e;return p()(e||0)}(e.getAttribute("yPosition")),i.apiFramework=e.getAttribute("apiFramework"),i.pxratio=e.getAttribute("pxratio")||"1",i.offset=we.parseDuration(e.getAttribute("offset")),i.duration=we.parseDuration(e.getAttribute("duration")),we.childrenByName(e,"HTMLResource").forEach((e=>{i.type=e.getAttribute("creativeType")||"text/html",i.htmlResource=we.parseNodeText(e)})),we.childrenByName(e,"IFrameResource").forEach((e=>{i.type=e.getAttribute("creativeType")||0,i.iframeResource=we.parseNodeText(e)})),we.childrenByName(e,"StaticResource").forEach((e=>{i.type=e.getAttribute("creativeType")||0,i.staticResource=we.parseNodeText(e)}));const r=we.childByName(e,"IconClicks");if(r){i.iconClickThroughURLTemplate=we.parseNodeText(we.childByName(r,"IconClickThrough")),we.childrenByName(r,"IconClickTracking").forEach((e=>{var r;t()(r=i.iconClickTrackingURLTemplates).call(r,{id:e.getAttribute("id")||null,url:we.parseNodeText(e)})}));const e=we.childByName(r,"IconClickFallbackImages");e&&we.childrenByName(e,"IconClickFallbackImage").forEach((e=>{var r;t()(r=i.iconClickFallbackImages).call(r,{url:we.parseNodeText(e)||null,width:e.getAttribute("width")||null,height:e.getAttribute("height")||null})}))}return i.iconViewTrackingURLTemplate=we.parseNodeText(we.childByName(e,"IconViewTracking")),i}(e))})),n}function Se(e,i){const r=function(e={}){const{id:t,adId:i,sequence:r,apiFramework:n}=de(e);return{id:t,adId:i,sequence:r,apiFramework:n,type:"nonlinear",variations:[],trackingEvents:{}}}(i);return we.childrenByName(e,"TrackingEvents").forEach((e=>{let i,n;we.childrenByName(e,"Tracking").forEach((e=>{var s;(i=e.getAttribute("event"),n=we.parseNodeText(e),i&&n)&&(Array.isArray(r.trackingEvents[i])||(r.trackingEvents[i]=[]),t()(s=r.trackingEvents[i]).call(s,n))}))})),we.childrenByName(e,"NonLinear").forEach((e=>{var i;const n={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};n.id=e.getAttribute("id")||null,n.width=e.getAttribute("width"),n.height=e.getAttribute("height"),n.expandedWidth=e.getAttribute("expandedWidth"),n.expandedHeight=e.getAttribute("expandedHeight"),n.scalable=we.parseBoolean(e.getAttribute("scalable")),n.maintainAspectRatio=we.parseBoolean(e.getAttribute("maintainAspectRatio")),n.minSuggestedDuration=we.parseDuration(e.getAttribute("minSuggestedDuration")),n.apiFramework=e.getAttribute("apiFramework"),we.childrenByName(e,"HTMLResource").forEach((e=>{n.type=e.getAttribute("creativeType")||"text/html",n.htmlResource=we.parseNodeText(e)})),we.childrenByName(e,"IFrameResource").forEach((e=>{n.type=e.getAttribute("creativeType")||0,n.iframeResource=we.parseNodeText(e)})),we.childrenByName(e,"StaticResource").forEach((e=>{n.type=e.getAttribute("creativeType")||0,n.staticResource=we.parseNodeText(e)}));const s=we.childByName(e,"AdParameters");s&&(n.adParameters={value:we.parseNodeText(s),xmlEncoded:s.getAttribute("xmlEncoded")||null}),n.nonlinearClickThroughURLTemplate=we.parseNodeText(we.childByName(e,"NonLinearClickThrough")),we.childrenByName(e,"NonLinearClickTracking").forEach((e=>{var i;t()(i=n.nonlinearClickTrackingURLTemplates).call(i,{id:e.getAttribute("id")||null,url:we.parseNodeText(e)})})),t()(i=r.variations).call(i,n)})),r}function Ie(e){const i=[];return e.forEach((e=>{const r=Le(e);r&&t()(i).call(i,r)})),i}function Le(e){if("#comment"===e.nodeName)return null;const i={name:null,value:null,attributes:{},children:[]},r=e.attributes,n=e.childNodes;if(i.name=e.nodeName,e.attributes)for(const e in r)if(r.hasOwnProperty(e)){const t=r[e];t.nodeName&&t.nodeValue&&(i.attributes[t.nodeName]=t.nodeValue)}for(const e in n)if(n.hasOwnProperty(e)){const r=Le(n[e]);var s;if(r)t()(s=i.children).call(s,r)}if(0===i.children.length||1===i.children.length&&["#cdata-section","#text"].indexOf(i.children[0].name)>=0){const t=we.parseNodeText(e);""!==t&&(i.value=t),i.children=[]}return null===(a=i).value&&0===Object.keys(a.attributes).length&&0===a.children.length?null:i;var a}function xe(e){const i=[];return e.forEach((e=>{const r={id:e.getAttribute("id")||null,adId:Ue(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},n=[];let s;we.childrenByName(e,"UniversalAdId").forEach((e=>{const i={idRegistry:e.getAttribute("idRegistry")||"unknown",value:we.parseNodeText(e)};t()(n).call(n,i)}));const a=we.childByName(e,"CreativeExtensions");a&&(s=Ie(we.childrenByName(a,"CreativeExtension")));for(const a in e.childNodes){const o=e.childNodes[a];let l;switch(o.nodeName){case"Linear":l=Re(o,r);break;case"NonLinearAds":l=Se(o,r);break;case"CompanionAds":l=Pe(o,r)}l&&(n&&(l.universalAdIds=n),s&&(l.creativeExtensions=s),t()(i).call(i,l))}})),i}function Ue(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}const Ne={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function Oe(e,t){if(!Ne[e.nodeName]||!Ne[e.nodeName].attributes)return;const i=Ne[e.nodeName].attributes.filter((t=>!e.getAttribute(t)));i.length>0&&Me({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:i},t)}function De(e,t,i){const r=Ne[e.nodeName],n=!i&&"Wrapper"!==e.nodeName;if(!r||n)return;if(r.subElements){const i=r.subElements.filter((t=>!we.childByName(e,t)));i.length>0&&Me({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:i},t)}if(!i||!r.oneOfinLineResources)return;r.oneOfinLineResources.some((t=>we.childByName(e,t)))||Me({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},t)}function Fe(e){return e.children&&0!==e.children.length}function Me({name:e,parentName:t,attributes:i,subElements:r,oneOfResources:n},s){let a=`Element '${e}'`;a+=i?` missing required attribute(s) '${i.join(", ")}' `:r?` missing required sub element(s) '${r.join(", ")}' `:n?` must provide one of the following '${n.join(", ")}' `:" is empty",s("VAST-warning",{message:a,parentElement:t,specVersion:4.1})}const Be={verifyRequiredValues:function e(t,i,r){if(t&&t.nodeName)if("InLine"===t.nodeName&&(r=!0),Oe(t,i),Fe(t)){De(t,i,r);for(let n=0;n<t.children.length;n++)e(t.children[n],i,r)}else 0===we.parseNodeText(t).length&&Me({name:t.nodeName,parentName:t.parentNode.nodeName},i)},hasSubElements:Fe,emitMissingValueWarning:Me,verifyRequiredAttributes:Oe,verifyRequiredSubElements:De};function je(e,t,{allowMultipleAds:i,followAdditionalWrappers:r}={}){const n=e.childNodes;for(const s in n){const a=n[s];if(-1!==["Wrapper","InLine"].indexOf(a.nodeName)&&("Wrapper"!==a.nodeName||!1!==r)){if(we.copyNodeAttribute("id",e,a),we.copyNodeAttribute("sequence",e,a),we.copyNodeAttribute("adType",e,a),"Wrapper"===a.nodeName)return{ad:He(a,t),type:"WRAPPER"};if("InLine"===a.nodeName)return{ad:qe(a,t,{allowMultipleAds:i}),type:"INLINE"}}}}function qe(e,t,{allowMultipleAds:i}={}){return!1===i&&e.getAttribute("sequence")?null:We(e,t)}function We(e,i){var r,n,s,a,o;let l=[];i&&Be.verifyRequiredValues(e,i);const c=e.childNodes,d=function(e={}){return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(we.parseAttributes(e));for(const e in c){const i=c[e];switch(i.nodeName){case"Error":t()(r=d.errorURLTemplates).call(r,we.parseNodeText(i));break;case"Impression":t()(n=d.impressionURLTemplates).call(n,{id:i.getAttribute("id")||null,url:we.parseNodeText(i)});break;case"Creatives":d.creatives=xe(we.childrenByName(i,"Creative"));break;case"Extensions":{const e=we.childrenByName(i,"Extension");d.extensions=Ie(e),d.adVerifications.length||(l=Ge(e));break}case"AdVerifications":d.adVerifications=ze(we.childrenByName(i,"Verification"));break;case"AdSystem":d.system={value:we.parseNodeText(i),version:i.getAttribute("version")||null};break;case"AdTitle":d.title=we.parseNodeText(i);break;case"AdServingId":d.adServingId=we.parseNodeText(i);break;case"Category":t()(s=d.categories).call(s,{authority:i.getAttribute("authority")||null,value:we.parseNodeText(i)});break;case"Expires":d.expires=p()(we.parseNodeText(i),10);break;case"ViewableImpression":t()(a=d.viewableImpression).call(a,Je(i));break;case"Description":d.description=we.parseNodeText(i);break;case"Advertiser":d.advertiser={id:i.getAttribute("id")||null,value:we.parseNodeText(i)};break;case"Pricing":d.pricing={value:we.parseNodeText(i),model:i.getAttribute("model")||null,currency:i.getAttribute("currency")||null};break;case"Survey":d.survey={value:we.parseNodeText(i),type:i.getAttribute("type")||null};break;case"BlockedAdCategories":t()(o=d.blockedAdCategories).call(o,{authority:i.getAttribute("authority")||null,value:we.parseNodeText(i)})}}return l.length&&(d.adVerifications=d.adVerifications.concat(l)),d}function He(e,i){const r=We(e,i),n=e.getAttribute("followAdditionalWrappers"),s=e.getAttribute("allowMultipleAds"),a=e.getAttribute("fallbackOnNoAd");r.followAdditionalWrappers=!n||we.parseBoolean(n),r.allowMultipleAds=!!s&&we.parseBoolean(s),r.fallbackOnNoAd=a?we.parseBoolean(a):null;let o=we.childByName(e,"VASTAdTagURI");if(o?r.nextWrapperURL=we.parseNodeText(o):(o=we.childByName(e,"VASTAdTagURL"),o&&(r.nextWrapperURL=we.parseNodeText(we.childByName(o,"URL")))),r.creatives.forEach((e=>{if(-1!==["linear","nonlinear"].indexOf(e.type)){if(e.trackingEvents){r.trackingEvents||(r.trackingEvents={}),r.trackingEvents[e.type]||(r.trackingEvents[e.type]={});for(const i in e.trackingEvents){const n=e.trackingEvents[i];Array.isArray(r.trackingEvents[e.type][i])||(r.trackingEvents[e.type][i]=[]),n.forEach((n=>{var s;t()(s=r.trackingEvents[e.type][i]).call(s,n)}))}}e.videoClickTrackingURLTemplates&&(Array.isArray(r.videoClickTrackingURLTemplates)||(r.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach((e=>{var i;t()(i=r.videoClickTrackingURLTemplates).call(i,e)}))),e.videoClickThroughURLTemplate&&(r.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(r.videoCustomClickURLTemplates)||(r.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach((e=>{var i;t()(i=r.videoCustomClickURLTemplates).call(i,e)})))}})),r.nextWrapperURL)return r}function ze(e){const i=[];return e.forEach((e=>{const r={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},n=e.childNodes;we.assignAttributes(e.attributes,r);for(const e in n){const t=n[e];switch(t.nodeName){case"JavaScriptResource":case"ExecutableResource":r.resource=we.parseNodeText(t),we.assignAttributes(t.attributes,r);break;case"VerificationParameters":r.parameters=we.parseNodeText(t)}}const s=we.childByName(e,"TrackingEvents");s&&we.childrenByName(s,"Tracking").forEach((e=>{const i=e.getAttribute("event"),n=we.parseNodeText(e);var s;i&&n&&(Array.isArray(r.trackingEvents[i])||(r.trackingEvents[i]=[]),t()(s=r.trackingEvents[i]).call(s,n))})),t()(i).call(i,r)})),i}function Ge(e){let t=null,i=[];return e.some((e=>t=we.childByName(e,"AdVerifications"))),t&&(i=ze(we.childrenByName(t,"Verification"))),i}function Je(e){var i,r,n;const s=(e,i)=>{const r=we.parseNodeText(i);return r&&t()(e).call(e,r),e};return{id:e.getAttribute("id")||null,viewable:o()(i=we.childrenByName(e,"Viewable")).call(i,s,[]),notViewable:o()(r=we.childrenByName(e,"NotViewable")).call(r,s,[]),viewUndetermined:o()(n=we.childrenByName(e,"ViewUndetermined")).call(n,s,[])}}class Qe{constructor(){this._handlers=[]}on(e,i){var r;if("function"!=typeof i)throw new TypeError("The handler argument must be of type Function. Received type "+typeof i);if(!e)throw new TypeError("The event argument must be of type String. Received type "+typeof e);return t()(r=this._handlers).call(r,{event:e,handler:i}),this}once(e,t){return this.on(e,function(e,t,i){const r={fired:!1,wrapFn:void 0};function n(...n){r.fired||(e.off(t,r.wrapFn),r.fired=!0,i.bind(e)(...n))}return r.wrapFn=n,n}(this,e,t))}off(e,t){return this._handlers=this._handlers.filter((i=>i.event!==e||i.handler!==t)),this}emit(e,...t){let i=!1;return this._handlers.forEach((r=>{"*"===r.event&&(i=!0,r.handler(e,...t)),r.event===e&&(i=!0,r.handler(...t))})),i}removeAllListeners(e){return e?(this._handlers=this._handlers.filter((t=>t.event!==e)),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter((t=>t.event===e)).length}listeners(e){var i;return o()(i=this._handlers).call(i,((i,r)=>(r.event===e&&t()(i).call(i,r.handler),i)),[])}eventNames(){return this._handlers.map((e=>e.event))}}const Ye={get:function(e,t,i){i(new Error("Please bundle the library for node to use the node urlHandler"))}},Ke=12e4;function Ze(){try{const e=new window.XMLHttpRequest;return"withCredentials"in e?e:null}catch(e){return null}}function Xe(e,t,i){const r=i?408:e.status,n=i?`XHRURLHandler: Request timed out after ${e.timeout} ms (${r})`:`XHRURLHandler: ${e.statusText} (${r})`;t(new Error(n),null,{statusCode:r})}const $e={get:function(e,t,i){if("https:"===window.location.protocol&&0===e.indexOf("http://"))return i(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{const r=Ze();r.open("GET",e),r.timeout=t.timeout||Ke,r.withCredentials=t.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onload=()=>function(e,t){200===e.status?t(null,e.responseXML,{byteLength:e.response.length,statusCode:e.status}):Xe(e,t,!1)}(r,i),r.onerror=()=>Xe(r,i,!1),r.onabort=()=>Xe(r,i,!1),r.ontimeout=()=>Xe(r,i,!0),r.send()}catch(e){i(new Error("XHRURLHandler: Unexpected error"))}},supported:function(){return!!Ze()}};const et={get:function(e,t,i){return i||("function"==typeof t&&(i=t),t={}),"undefined"==typeof window||null===window?Ye.get(e,t,i):$e.supported()?$e.get(e,t,i):i(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}};let tt=0,it=0;const rt=(e,t)=>{if(!e||!t||e<=0||t<=0)return;it=(it*tt+8*e/t)/++tt},nt={ERRORCODE:900,extensions:[]};class st extends Qe{constructor(){super(),this.remainingAds=[],this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.maxWrapperDepth=null,this.URLTemplateFilters=[],this.fetchingOptions={},this.parsingOptions={}}addURLTemplateFilter(e){var i;"function"==typeof e&&t()(i=this.URLTemplateFilters).call(i,e)}removeURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}trackVastError(e,t,...i){this.emit("VAST-error",ae()({},nt,t,...i)),Ve.track(e,t)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return it}fetchVAST(e,t=0,i=null,r=null){return new(s())(((n,s)=>{this.URLTemplateFilters.forEach((t=>{e=t(e)}));const a=Date.now();this.emit("VAST-resolving",{url:e,previousUrl:i,wrapperDepth:t,maxWrapperDepth:this.maxWrapperDepth,timeout:this.fetchingOptions.timeout,wrapperAd:r}),this.urlHandler.get(e,this.fetchingOptions,((r,o,l={})=>{const c=Math.round(Date.now()-a),d=ae()({url:e,previousUrl:i,wrapperDepth:t,error:r,duration:c},l);this.emit("VAST-resolved",d),rt(l.byteLength,c),r?s(r):n(o)}))}))}initParsingStatus(e={}){this.errorURLTemplates=[],this.fetchingOptions={timeout:e.timeout||Ke,withCredentials:e.withCredentials},this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.remainingAds=[],this.rootErrorURLTemplates=[],this.rootURL="",this.urlHandler=e.urlHandler||e.urlhandler||et,this.vastVersion=null,rt(e.byteLength,e.requestDuration)}getRemainingAds(e){if(0===this.remainingAds.length)return s().reject(new Error("No more ads are available for the given VAST"));const t=e?Ve.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then((e=>this.buildVASTResponse(e)))}getAndParseVAST(e,t={}){return this.initParsingStatus(t),this.URLTemplateFilters.forEach((t=>{e=t(e)})),this.rootURL=e,this.fetchVAST(e).then((i=>(t.previousUrl=e,t.isRootVAST=!0,t.url=e,this.parse(i,t).then((e=>this.buildVASTResponse(e))))))}parseVAST(e,t={}){return this.initParsingStatus(t),t.isRootVAST=!0,this.parse(e,t).then((e=>this.buildVASTResponse(e)))}buildVASTResponse(e){const t=function({ads:e,errorURLTemplates:t,version:i}){return{ads:e||[],errorURLTemplates:t||[],version:i||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(t),t}parseVastXml(e,{isRootVAST:i=!1,url:r=null,wrapperDepth:n=0,allowMultipleAds:s,followAdditionalWrappers:a}){if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName)throw this.emit("VAST-ad-parsed",{type:"ERROR",url:r,wrapperDepth:n}),new Error("Invalid VAST XMLDocument");const o=[],l=e.documentElement.childNodes,d=e.documentElement.getAttribute("version");i&&d&&(this.vastVersion=d);for(const e in l){const u=l[e];if("Error"===u.nodeName){var h,p;const e=we.parseNodeText(u);i?t()(h=this.rootErrorURLTemplates).call(h,e):t()(p=this.errorURLTemplates).call(p,e)}else if("Ad"===u.nodeName){if(this.vastVersion&&c()(this.vastVersion)<3)s=!0;else if(!1===s&&o.length>1)break;const e=je(u,this.emit.bind(this),{allowMultipleAds:s,followAdditionalWrappers:a});e.ad?(t()(o).call(o,e.ad),this.emit("VAST-ad-parsed",{type:e.type,url:r,wrapperDepth:n,adIndex:o.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return o}parse(e,{url:t=null,resolveAll:i=!0,wrapperSequence:r=null,previousUrl:n=null,wrapperDepth:a=0,isRootVAST:o=!1,followAdditionalWrappers:l,allowMultipleAds:d}={}){let h=[];this.vastVersion&&c()(this.vastVersion)<3&&o&&(d=!0);try{h=this.parseVastXml(e,{isRootVAST:o,url:t,wrapperDepth:a,allowMultipleAds:d,followAdditionalWrappers:l})}catch(e){return s().reject(e)}return 1===h.length&&null!=r&&(h[0].sequence=r),!1===i&&(this.remainingAds=we.splitVAST(h),h=this.remainingAds.shift()),this.resolveAds(h,{wrapperDepth:a,previousUrl:n,url:t})}resolveAds(e=[],{wrapperDepth:i,previousUrl:r,url:n}){const a=[];return r=n,e.forEach((e=>{const n=this.resolveWrappers(e,i,r);t()(a).call(a,n)})),s().all(a).then((e=>{const t=Ve.flatten(e);if(!t&&this.remainingAds.length>0){const e=this.remainingAds.shift();return this.resolveAds(e,{wrapperDepth:i,previousUrl:r,url:n})}return t}))}resolveWrappers(e,t,i){return new(s())((r=>{var n;if(t++,!e.nextWrapperURL)return delete e.nextWrapperURL,r(e);if(t>=this.maxWrapperDepth)return e.errorCode=302,delete e.nextWrapperURL,r(e);e.nextWrapperURL=we.resolveVastAdTagURI(e.nextWrapperURL,i),this.URLTemplateFilters.forEach((t=>{e.nextWrapperURL=t(e.nextWrapperURL)}));const s=null!==(n=this.parsingOptions.allowMultipleAds)&&void 0!==n?n:e.allowMultipleAds,a=e.sequence;this.fetchVAST(e.nextWrapperURL,t,i,e).then((n=>this.parse(n,{url:e.nextWrapperURL,previousUrl:i,wrapperSequence:a,wrapperDepth:t,followAdditionalWrappers:e.followAdditionalWrappers,allowMultipleAds:s}).then((t=>{if(delete e.nextWrapperURL,0===t.length)return e.creatives=[],r(e);t.forEach((t=>{t&&we.mergeWrapperAdData(t,e)})),r(t)})))).catch((t=>{e.errorCode=301,e.errorMessage=t.message,r(e)}))}))}completeWrapperResolving(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const i=e.ads[t];(i.errorCode||0===i.creatives.length)&&(this.trackVastError(i.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:i.errorCode||303},{ERRORMESSAGE:i.errorMessage||""},{extensions:i.extensions},{system:i.system}),e.ads.splice(t,1))}}}class at{constructor(e,t,i){this.cappingFreeLunch=e||0,this.cappingMinimumTimeInterval=t||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new st,this.storage=i||new ce,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}get(e,t={}){const i=Date.now();return(t=ae()({},this.defaultOptions,t)).hasOwnProperty("resolveAll")||(t.resolveAll=!1),this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,new(s())(((r,n)=>{if(this.cappingFreeLunch>=this.totalCalls)return n(new Error(`VAST call canceled – FreeLunch capping not reached yet ${this.totalCalls}/${this.cappingFreeLunch}`));const s=i-this.lastSuccessfulAd;if(s<0)this.lastSuccessfulAd=0;else if(s<this.cappingMinimumTimeInterval)return n(new Error(`VAST call canceled – (${this.cappingMinimumTimeInterval})ms minimum interval reached`));this.vastParser.getAndParseVAST(e,t).then((e=>r(e))).catch((e=>n(e)))}))}}var ot=i(5072),lt=i.n(ot),ct=i(7825),dt=i.n(ct),ht=i(7659),pt=i.n(ht),ut=i(5056),mt=i.n(ut),At=i(540),gt=i.n(At),vt=i(1113),ft=i.n(vt),_t=i(382),yt={};yt.styleTagTransform=ft(),yt.setAttributes=mt(),yt.insert=pt().bind(null,"head"),yt.domAPI=dt(),yt.insertStyleElement=gt();lt()(_t.A,yt);_t.A&&_t.A.locals&&_t.A.locals;class Et{constructor(e,t){this._initInstanceVariables(),"string"==typeof e&&""!==e?(this.id=e,this.container=document.getElementById(this.id),this.contentWrapper=this.container.querySelector(".rmp-content"),this.currentContentPlayer=this.container.querySelector(".rmp-video"),null!==this.container&&null!==this.contentWrapper&&null!==this.currentContentPlayer?(this.rmpVastUtils=new m(this),this.rmpVastUtils.filterParams(t),this.params.debugRawConsoleLogs&&(this.debugRawConsoleLogs=!0),this.debugRawConsoleLogs,this.params,this.debugRawConsoleLogs,this.rmpVastContentPlayer=new ne(this),this.rmpVastTracking=new A(this),this.rmpVastCompanionCreative=new ee(this),this.environmentData=u,this.debugRawConsoleLogs,this.currentContentPlayer,this.resetVariablesForNewLoadAds(),this.rmpVastUtils.handleFullscreen()):console.error("Invalid DOM layout - missing container or content wrapper or content player - exit")):console.error("Invalid id to create new instance - exit")}_initInstanceVariables(){this.adContainer=null,this.contentWrapper=null,this.container=null,this.rmpVastContentPlayer=null,this.rmpVastAdPlayer=null,this.rmpVastUtils=null,this.rmpVastTracking=null,this.rmpVastCompanionCreative=null,this.environmentData=null,this.currentContentSrc="",this.currentContentCurrentTime=-1,this.params={},this.events={},this.id=null,this.isInFullscreen=!1,this.contentCompleted=!1,this.currentContentPlayer=null,this.currentAdPlayer=null,this.rmpVastInitialized=!1,this.debugRawConsoleLogs=!1,this.adPod=!1,this.adPodLength=0,this.adSequence=0}resetVariablesForNewLoadAds(){this.attachViewableObserverFn&&this.off("adstarted",this.attachViewableObserverFn),this.rmpVastTracking.reset(),this.rmpVastCompanionCreative.reset(),this.trackingTags=[],this.vastErrorTags=[],this.adErrorTags=[],this.needsSeekAdjust=!1,this.seekAdjustAttached=!1,this.ad={},this.creative={},this.attachViewableObserverFn=null,this.viewableObserver=null,this.viewablePreviousRatio=.5,this.regulationsInfo={},this.requireCategory=!1,this.progressEvents=[],this.rmpVastLinearCreative=null,this.rmpVastNonLinearCreative=null,this.rmpVastVpaidPlayer=null,this.adParametersData="",this.rmpVastSimidPlayer=null,this.rmpVastIcons=null,this.__adTagUrl="",this.__vastErrorCode=-1,this.__adErrorType="",this.__adErrorMessage="",this.__adOnStage=!1}dispatch(e,t){const i=this.events[e];if(i){const r={type:e};t&&(r.data=t),i.fire(r)}}_on(e,t){let i=this.events[e];i||(i=new re(e),this.events[e]=i),i.registerCallback(t)}on(e,t){if("string"!=typeof e||""===e||"function"!=typeof t)return;e.split(" ").forEach((e=>{this._on(e,t)}))}_one(e,t){const i=r=>{this.off(e,i),t(r)};this.on(e,i)}one(e,t){if("string"!=typeof e||""===e||"function"!=typeof t)return;e.split(" ").forEach((e=>{this._one(e,t)}))}_off(e,t){const i=this.events[e];i&&i.callbacks.indexOf(t)>-1&&(i.unregisterCallback(t),0===i.callbacks.length&&delete this.events[e])}off(e,t){if("string"!=typeof e||""===e||"function"!=typeof t)return;e.split(" ").forEach((e=>{this._off(e,t)}))}_addTrackingEvents(e){Object.keys(e).forEach((i=>{e[i].forEach((e=>{var r;t()(r=this.trackingTags).call(r,{event:i,url:e})}))}))}_handleIntersect(e){e.forEach((e=>{e.intersectionRatio>this.viewablePreviousRatio&&(this.viewableObserver.unobserve(this.container),this.rmpVastTracking.dispatchTrackingAndApiEvent("adviewable")),this.viewablePreviousRatio=e.intersectionRatio}))}_attachViewableObserver(){if(this.off("adstarted",this.attachViewableObserverFn),void 0!==window.IntersectionObserver){const e={root:null,rootMargin:"0px",threshold:[.5]};this.viewableObserver=new IntersectionObserver(this._handleIntersect.bind(this),e),this.viewableObserver.observe(this.container)}else this.rmpVastTracking.dispatchTrackingAndApiEvent("adviewundetermined")}_initViewableImpression(){this.viewableObserver&&this.viewableObserver.unobserve(this.container),this.ad.viewableImpression.forEach((e=>{e.viewable.length>0&&e.viewable.forEach((e=>{var i;t()(i=this.trackingTags).call(i,{event:"viewable",url:e})})),e.notViewable.length>0&&e.notViewable.forEach((e=>{var i;t()(i=this.trackingTags).call(i,{event:"notviewable",url:e})})),e.viewUndetermined.length>0&&e.viewUndetermined.forEach((e=>{var i;t()(i=this.trackingTags).call(i,{event:"viewundetermined",url:e})}))})),this.attachViewableObserverFn=this._attachViewableObserver.bind(this),this.on("adstarted",this.attachViewableObserverFn)}async _loopAds(e){for(let i=0;i<e.length;i++)await new(s())((r=>{const n=e[i];if(this.debugRawConsoleLogs,this.ad.id=n.id,this.ad.adServingId=n.adServingId,this.ad.categories=n.categories,this.requireCategory&&(0!==this.ad.categories.length&&this.ad.categories[0].authority||(this.rmpVastUtils.processVastErrors(204,!0),r())),this.ad.blockedAdCategories=n.blockedAdCategories,this.requireCategory){let e=!1;this.ad.blockedAdCategories.forEach((t=>{const i=t.authority,r=t.value;this.ad.categories.forEach((t=>{const n=t.authority,s=t.value;i===n&&r===s&&(this.rmpVastUtils.processVastErrors(205,!0),e=!0)}))})),e&&r()}if(this.ad.adType=n.adType,this.ad.title=n.title,this.ad.description=n.description,this.ad.system=n.system,this.ad.advertiser=n.advertiser,this.ad.pricing=n.pricing,this.ad.survey=n.survey,this.ad.sequence=n.sequence,e.find((e=>(this.adPod=!1,!!(e.sequence&&e.sequence>1)&&(this.adPod=!0,!0)))),this.adPod){let t=o()(e).call(e,((e,t)=>e.sequence>t.sequence?e:t)).sequence;if(e.forEach((e=>{null===e.sequence&&(e.sequence=t+1,t++)})),this.adSequence++,0===this.adPodLength){let t=0;e.forEach((e=>{e.sequence&&t++})),this.adPodLength=t,this.debugRawConsoleLogs,this.adPodLength}this.one("addestroyed",(()=>{this.adSequence===this.adPodLength&&(this.adPodLength=0,this.adSequence=0,this.adPod=!1,this.rmpVastUtils.createApiEvent("adpodcompleted")),r()}))}this.ad.viewableImpression=n.viewableImpression,this.ad.viewableImpression.length>0&&this._initViewableImpression(),n.errorURLTemplates.forEach((e=>{var i;t()(i=this.adErrorTags).call(i,{event:"error",url:e})})),n.impressionURLTemplates.forEach((e=>{var i;e.url&&t()(i=this.trackingTags).call(i,{event:"impression",url:e.url})}));const s=n.creatives;this.debugRawConsoleLogs,s.find((e=>"companion"===e.type&&(this.debugRawConsoleLogs,this.rmpVastCompanionCreative.parse(e),!0)));for(let e=0;e<s.length;e++){const i=s[e];if("companion"!==i.type)switch(this.creative.id=i.id,this.creative.universalAdIds=i.universalAdIds,this.creative.adId=i.adId,this.creative.trackingEvents=i.trackingEvents,i.type){case"linear":if(this.creative.duration=i.duration,this.creative.skipDelay=i.skipDelay,this.creative.skipDelay&&(this.creative.skipoffset=i.skipDelay,this.creative.isSkippableAd=!0),i.videoClickThroughURLTemplate&&i.videoClickThroughURLTemplate.url&&(this.creative.clickThroughUrl=i.videoClickThroughURLTemplate.url),i.videoClickTrackingURLTemplates.length>0&&i.videoClickTrackingURLTemplates.forEach((e=>{var i;e.url&&t()(i=this.trackingTags).call(i,{event:"clickthrough",url:e.url})})),this.creative.isLinear=!0,i.interactiveCreativeFile&&/simid/i.test(i.interactiveCreativeFile.apiFramework)&&/text\/html/i.test(i.interactiveCreativeFile.type)&&(this.creative.simid={fileURL:i.interactiveCreativeFile.fileURL,variableDuration:i.interactiveCreativeFile.variableDuration},i.adParameters&&i.adParameters.value&&(this.creative.simid.adParameters=i.adParameters.value)),this._addTrackingEvents(i.trackingEvents),this.rmpVastLinearCreative=new X(this),this.rmpVastLinearCreative.parse(i),this.params.omidSupport&&n.adVerifications.length>0){new ie(n.adVerifications,this).init()}break;case"nonlinear":this.creative.isLinear=!1,this._addTrackingEvents(i.trackingEvents),this.rmpVastNonLinearCreative=new $(this),this.rmpVastNonLinearCreative.parse(i.variations)}}}))}_handleParsedVast(e){this.debugRawConsoleLogs,e.errorURLTemplates.length>0&&e.errorURLTemplates.forEach((e=>{var i;t()(i=this.vastErrorTags).call(i,{event:"error",url:e})})),0!==e.ads.length?this._loopAds(e.ads):this.rmpVastUtils.processVastErrors(303,!0)}_getVastTag(e){if("string"==typeof e&&""!==e)if("undefined"!=typeof DOMParser)if(this.rmpVastUtils.createApiEvent("adtagstartloading"),this.params.vastXmlInput){let t;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){return console.warn(e),void this.rmpVastUtils.processVastErrors(900,!0)}(new st).parseVAST(t).then((e=>{this.rmpVastUtils.createApiEvent("adtagloaded"),this._handleParsedVast(e)})).catch((e=>{console.warn(e),this.rmpVastUtils.processVastErrors(900,!0)}))}else{const t=new at,i={timeout:this.params.ajaxTimeout,withCredentials:this.params.ajaxWithCredentials,wrapperLimit:this.params.maxNumRedirects,resolveAll:!1,allowMultipleAds:!0};this.__adTagUrl=e,this.debugRawConsoleLogs,this.__adTagUrl,t.get(this.__adTagUrl,i).then((e=>{this.rmpVastUtils.createApiEvent("adtagloaded"),this._handleParsedVast(e)})).catch((e=>{console.warn(e),this.rmpVastUtils.processVastErrors(900,!0)}))}else this.rmpVastUtils.processVastErrors(1002,!1);else this.rmpVastUtils.processVastErrors(1001,!1)}loadAds(e,t,i){if(this.debugRawConsoleLogs,this.rmpVastInitialized||this.initialize(),"object"==typeof t){const e=/coppa|gdpr/gi;t.regulations&&e.test(t.regulations)&&(this.regulationsInfo.regulations=t.regulations);const i=/0|1/gi;t.limitAdTracking&&i.test(t.limitAdTracking)&&(this.regulationsInfo.limitAdTracking=t.limitAdTracking),t.gdprConsent&&(this.regulationsInfo.gdprConsent=t.gdprConsent)}i&&(this.requireCategory=!0);let r=e;if(this.params.vastXmlInput||(r=this.rmpVastTracking.replaceMacros(e,!1)),this.__adOnStage)return this.debugRawConsoleLogs,this.one("addestroyed",this.loadAds.bind(this,r)),void this.stopAds();this._getVastTag(r)}play(){this.__adOnStage&&this.creative&&this.creative.isLinear?this.rmpVastVpaidPlayer?this.rmpVastVpaidPlayer.resumeAd():this.rmpVastAdPlayer&&this.rmpVastAdPlayer.play():this.rmpVastContentPlayer.play()}pause(){this.__adOnStage&&this.creative&&this.creative.isLinear?this.rmpVastVpaidPlayer?this.rmpVastVpaidPlayer.pauseAd():this.rmpVastAdPlayer&&this.rmpVastAdPlayer.pause():this.rmpVastContentPlayer.pause()}stopAds(){this.__adOnStage&&(this.rmpVastVpaidPlayer?this.rmpVastVpaidPlayer.stopAd():this.rmpVastSimidPlayer?this.rmpVastSimidPlayer.stopAd():this.rmpVastAdPlayer&&this.rmpVastAdPlayer.resumeContent())}destroy(){this.rmpVastUtils.destroyFullscreen(),this.rmpVastAdPlayer&&this.rmpVastAdPlayer.destroy(),this._initInstanceVariables()}skipAd(){this.__adOnStage&&this.adSkippableState&&(this.rmpVastVpaidPlayer?this.rmpVastVpaidPlayer.skipAd():this.rmpVastSimidPlayer?this.rmpVastSimidPlayer.skipAd():this.rmpVastAdPlayer&&this.rmpVastAdPlayer.resumeContent())}get environment(){return this.environmentData}get adPaused(){if(this.__adOnStage&&this.creative&&this.creative.isLinear){if(this.rmpVastVpaidPlayer)return this.rmpVastVpaidPlayer.getAdPaused();if(this.currentAdPlayer)return this.currentAdPlayer.paused}return!1}set volume(e){if(!d.isNumber(e))return;let t=0;t=e<0?0:e>1?1:e,this.__adOnStage&&this.creative&&this.creative.isLinear&&(this.rmpVastVpaidPlayer&&this.rmpVastVpaidPlayer.setAdVolume(t),this.rmpVastAdPlayer&&(this.rmpVastAdPlayer.volume=t)),this.rmpVastContentPlayer.volume=t}get volume(){if(this.__adOnStage&&this.creative&&this.creative.isLinear){if(this.rmpVastVpaidPlayer)return this.rmpVastVpaidPlayer.getAdVolume();if(this.rmpVastAdPlayer)return this.rmpVastAdPlayer.volume}return this.rmpVastContentPlayer.volume}set muted(e){"boolean"==typeof e&&(this.__adOnStage&&this.creative&&this.creative.isLinear&&(this.rmpVastVpaidPlayer?e?this.rmpVastVpaidPlayer.setAdVolume(0):this.rmpVastVpaidPlayer.setAdVolume(1):this.rmpVastAdPlayer&&(this.rmpVastAdPlayer.muted=e)),this.rmpVastContentPlayer.muted=e)}get muted(){if(this.__adOnStage&&this.creative&&this.creative.isLinear){if(this.rmpVastVpaidPlayer)return 0===this.rmpVastVpaidPlayer.getAdVolume();if(this.rmpVastAdPlayer)return this.rmpVastAdPlayer.muted}return this.rmpVastContentPlayer.muted}get adTagUrl(){return this.__adTagUrl}get adMediaUrl(){if(this.__adOnStage){if(this.rmpVastVpaidPlayer)return this.rmpVastVpaidPlayer.getCreativeUrl();if(this.creative&&this.creative.mediaUrl)return this.creative.mediaUrl}return""}get adLinear(){return!(!this.creative||!this.creative.isLinear)}get adSystem(){return this.ad&&this.ad.system?{value:this.ad.system.value||"",version:this.ad.system.version||""}:{value:"",version:""}}get adUniversalAdIds(){return this.creative&&this.creative.universalAdIds?this.creative.universalAdIds:[]}get adContentType(){return this.creative&&this.creative.type?this.creative.type:""}get adTitle(){return this.ad&&this.ad.title?this.ad.title:""}get adDescription(){return this.ad&&this.ad.description?this.ad.description:""}get adAdvertiser(){return this.ad&&this.ad.advertiser&&null!==this.ad.advertiser?this.ad.advertiser:{id:"",value:""}}get adPricing(){return this.ad&&this.ad.pricing&&null!==this.ad.pricing?this.ad.pricing:{value:"",model:"",currency:""}}get adSurvey(){return this.ad&&this.ad.survey?this.ad.survey:{value:"",type:""}}get adAdServingId(){return this.ad&&this.ad.adServingId?this.ad.adServingId:""}get adCategories(){return this.ad&&this.ad.categories&&this.ad.categories.length>0?this.ad.categories:[]}get adBlockedAdCategories(){return this.ad&&this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length>0?this.ad.blockedAdCategories:[]}get adDuration(){if(this.__adOnStage&&this.creative&&this.creative.isLinear){if(this.rmpVastVpaidPlayer){let e=this.rmpVastVpaidPlayer.getAdDuration();return e>0&&(e*=1e3),e}if(this.rmpVastAdPlayer)return this.rmpVastAdPlayer.duration}return-1}get adCurrentTime(){if(this.__adOnStage&&this.creative&&this.creative.isLinear){if(this.rmpVastVpaidPlayer){const e=this.rmpVastVpaidPlayer.getAdRemainingTime(),t=this.rmpVastVpaidPlayer.getAdDuration();return-1===e||-1===t||e>t?-1:1e3*(t-e)}if(this.rmpVastAdPlayer)return this.rmpVastAdPlayer.currentTime}return-1}get adRemainingTime(){if(this.__adOnStage&&this.creative&&this.creative.isLinear){if(this.rmpVastVpaidPlayer){let e=this.rmpVastVpaidPlayer.getAdRemainingTime();return e>0&&(e*=1e3),e}if(this.rmpVastAdPlayer){const e=this.rmpVastAdPlayer.currentTime,t=this.rmpVastAdPlayer.duration;return-1===e||-1===t||e>t?-1:t-e}}return-1}get adOnStage(){return this.__adOnStage}get adMediaWidth(){if(this.__adOnStage){if(this.rmpVastVpaidPlayer)return this.rmpVastVpaidPlayer.getAdWidth();if(this.creative&&this.creative.width)return this.creative.width}return-1}get adMediaHeight(){if(this.__adOnStage){if(this.rmpVastVpaidPlayer)return this.rmpVastVpaidPlayer.getAdHeight();if(this.creative&&this.creative.height)return this.creative.height}return-1}get clickThroughUrl(){return this.creative&&this.creative.clickThroughUrl?this.creative.clickThroughUrl:""}get skipTimeOffset(){return this.creative&&this.creative.skipoffset?this.creative.skipoffset:-1}get isSkippableAd(){return!(!this.creative||!this.creative.isSkippableAd)}get contentPlayerCompleted(){return this.contentCompleted}set contentPlayerCompleted(e){"boolean"==typeof e&&(this.contentCompleted=e)}get adErrorMessage(){return this.__adErrorMessage}get adVastErrorCode(){return this.__vastErrorCode}get adErrorType(){return this.__adErrorType}get adSkippableState(){if(this.__adOnStage){if(this.rmpVastVpaidPlayer)return this.rmpVastVpaidPlayer.getAdSkippableState();if(this.rmpVastSimidPlayer)return!0;if(this.isSkippableAd&&this.rmpVastLinearCreative)return this.rmpVastLinearCreative.skippableAdCanBeSkipped}return!1}get adPlayer(){return this.currentAdPlayer}get contentPlayer(){return this.currentContentPlayer}get initialized(){return this.rmpVastInitialized}get adPodInfo(){if(this.adPod&&this.adPodLength){const e={};return e.adPodCurrentIndex=this.adSequence,e.adPodLength=this.adPodLength,e}return{adPodCurrentIndex:-1,adPodLength:0}}get companionAdsRequiredAttribute(){return this.rmpVastCompanionCreative.requiredAttribute}getCompanionAdsList(e,t){return this.rmpVastCompanionCreative.getList(e,t)}getCompanionAd(e){return this.rmpVastCompanionCreative.getItem(e)}initialize(){this.rmpVastInitialized||(this.debugRawConsoleLogs,this.rmpVastAdPlayer=new te(this),this.rmpVastAdPlayer.init())}resizeAd(e,t,i){this.rmpVastVpaidPlayer&&this.rmpVastVpaidPlayer.resizeAd(e,t,i)}expandAd(){this.rmpVastVpaidPlayer&&this.rmpVastVpaidPlayer.expandAd()}collapseAd(){this.rmpVastVpaidPlayer&&this.rmpVastVpaidPlayer.collapseAd()}get adExpanded(){return this.rmpVastVpaidPlayer&&this.rmpVastVpaidPlayer.getAdExpanded(),!1}get vpaidCompanionAds(){return this.rmpVastVpaidPlayer&&this.rmpVastVpaidPlayer.getAdCompanions(),""}}})(),window.RmpVast=r.default})();
//# sourceMappingURL=rmp-vast.min.js.map